var Ou=e=>{throw TypeError(e)};var fo=(e,s,r)=>s.has(e)||Ou("Cannot "+r);var E=(e,s,r)=>(fo(e,s,"read from private field"),r?r.call(e):s.get(e)),ee=(e,s,r)=>s.has(e)?Ou("Cannot add the same private member more than once"):s instanceof WeakSet?s.add(e):s.set(e,r),Q=(e,s,r,a)=>(fo(e,s,"write to private field"),a?a.call(e,r):s.set(e,r),r),le=(e,s,r)=>(fo(e,s,"access private method"),r);var yl=(e,s,r,a)=>({set _(n){Q(e,s,n,r)},get _(){return E(e,s,a)}});function y0(e,s){for(var r=0;r<s.length;r++){const a=s[r];if(typeof a!="string"&&!Array.isArray(a)){for(const n in a)if(n!=="default"&&!(n in e)){const l=Object.getOwnPropertyDescriptor(a,n);l&&Object.defineProperty(e,n,l.get?l:{enumerable:!0,get:()=>a[n]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}})();function b0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Hh={exports:{}},Ii={},Qh={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ll=Symbol.for("react.element"),v0=Symbol.for("react.portal"),j0=Symbol.for("react.fragment"),N0=Symbol.for("react.strict_mode"),k0=Symbol.for("react.profiler"),w0=Symbol.for("react.provider"),S0=Symbol.for("react.context"),C0=Symbol.for("react.forward_ref"),P0=Symbol.for("react.suspense"),E0=Symbol.for("react.memo"),D0=Symbol.for("react.lazy"),Lu=Symbol.iterator;function R0(e){return e===null||typeof e!="object"?null:(e=Lu&&e[Lu]||e["@@iterator"],typeof e=="function"?e:null)}var Kh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Wh=Object.assign,Vh={};function Ja(e,s,r){this.props=e,this.context=s,this.refs=Vh,this.updater=r||Kh}Ja.prototype.isReactComponent={};Ja.prototype.setState=function(e,s){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,s,"setState")};Ja.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Gh(){}Gh.prototype=Ja.prototype;function bd(e,s,r){this.props=e,this.context=s,this.refs=Vh,this.updater=r||Kh}var vd=bd.prototype=new Gh;vd.constructor=bd;Wh(vd,Ja.prototype);vd.isPureReactComponent=!0;var _u=Array.isArray,Jh=Object.prototype.hasOwnProperty,jd={current:null},Yh={key:!0,ref:!0,__self:!0,__source:!0};function Xh(e,s,r){var a,n={},l=null,i=null;if(s!=null)for(a in s.ref!==void 0&&(i=s.ref),s.key!==void 0&&(l=""+s.key),s)Jh.call(s,a)&&!Yh.hasOwnProperty(a)&&(n[a]=s[a]);var o=arguments.length-2;if(o===1)n.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];n.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps,o)n[a]===void 0&&(n[a]=o[a]);return{$$typeof:ll,type:e,key:l,ref:i,props:n,_owner:jd.current}}function M0(e,s){return{$$typeof:ll,type:e.type,key:s,ref:e.ref,props:e.props,_owner:e._owner}}function Nd(e){return typeof e=="object"&&e!==null&&e.$$typeof===ll}function F0(e){var s={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return s[r]})}var Iu=/\/+/g;function go(e,s){return typeof e=="object"&&e!==null&&e.key!=null?F0(""+e.key):s.toString(36)}function $l(e,s,r,a,n){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ll:case v0:i=!0}}if(i)return i=e,n=n(i),e=a===""?"."+go(i,0):a,_u(n)?(r="",e!=null&&(r=e.replace(Iu,"$&/")+"/"),$l(n,s,r,"",function(d){return d})):n!=null&&(Nd(n)&&(n=M0(n,r+(!n.key||i&&i.key===n.key?"":(""+n.key).replace(Iu,"$&/")+"/")+e)),s.push(n)),1;if(i=0,a=a===""?".":a+":",_u(e))for(var o=0;o<e.length;o++){l=e[o];var c=a+go(l,o);i+=$l(l,s,r,c,n)}else if(c=R0(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=a+go(l,o++),i+=$l(l,s,r,c,n);else if(l==="object")throw s=String(e),Error("Objects are not valid as a React child (found: "+(s==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":s)+"). If you meant to render a collection of children, use an array instead.");return i}function bl(e,s,r){if(e==null)return e;var a=[],n=0;return $l(e,a,"","",function(l){return s.call(r,l,n++)}),a}function T0(e){if(e._status===-1){var s=e._result;s=s(),s.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=s)}if(e._status===1)return e._result.default;throw e._result}var ht={current:null},Bl={transition:null},A0={ReactCurrentDispatcher:ht,ReactCurrentBatchConfig:Bl,ReactCurrentOwner:jd};function Zh(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:bl,forEach:function(e,s,r){bl(e,function(){s.apply(this,arguments)},r)},count:function(e){var s=0;return bl(e,function(){s++}),s},toArray:function(e){return bl(e,function(s){return s})||[]},only:function(e){if(!Nd(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};oe.Component=Ja;oe.Fragment=j0;oe.Profiler=k0;oe.PureComponent=bd;oe.StrictMode=N0;oe.Suspense=P0;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A0;oe.act=Zh;oe.cloneElement=function(e,s,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=Wh({},e.props),n=e.key,l=e.ref,i=e._owner;if(s!=null){if(s.ref!==void 0&&(l=s.ref,i=jd.current),s.key!==void 0&&(n=""+s.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in s)Jh.call(s,c)&&!Yh.hasOwnProperty(c)&&(a[c]=s[c]===void 0&&o!==void 0?o[c]:s[c])}var c=arguments.length-2;if(c===1)a.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];a.children=o}return{$$typeof:ll,type:e.type,key:n,ref:l,props:a,_owner:i}};oe.createContext=function(e){return e={$$typeof:S0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w0,_context:e},e.Consumer=e};oe.createElement=Xh;oe.createFactory=function(e){var s=Xh.bind(null,e);return s.type=e,s};oe.createRef=function(){return{current:null}};oe.forwardRef=function(e){return{$$typeof:C0,render:e}};oe.isValidElement=Nd;oe.lazy=function(e){return{$$typeof:D0,_payload:{_status:-1,_result:e},_init:T0}};oe.memo=function(e,s){return{$$typeof:E0,type:e,compare:s===void 0?null:s}};oe.startTransition=function(e){var s=Bl.transition;Bl.transition={};try{e()}finally{Bl.transition=s}};oe.unstable_act=Zh;oe.useCallback=function(e,s){return ht.current.useCallback(e,s)};oe.useContext=function(e){return ht.current.useContext(e)};oe.useDebugValue=function(){};oe.useDeferredValue=function(e){return ht.current.useDeferredValue(e)};oe.useEffect=function(e,s){return ht.current.useEffect(e,s)};oe.useId=function(){return ht.current.useId()};oe.useImperativeHandle=function(e,s,r){return ht.current.useImperativeHandle(e,s,r)};oe.useInsertionEffect=function(e,s){return ht.current.useInsertionEffect(e,s)};oe.useLayoutEffect=function(e,s){return ht.current.useLayoutEffect(e,s)};oe.useMemo=function(e,s){return ht.current.useMemo(e,s)};oe.useReducer=function(e,s,r){return ht.current.useReducer(e,s,r)};oe.useRef=function(e){return ht.current.useRef(e)};oe.useState=function(e){return ht.current.useState(e)};oe.useSyncExternalStore=function(e,s,r){return ht.current.useSyncExternalStore(e,s,r)};oe.useTransition=function(){return ht.current.useTransition()};oe.version="18.3.1";Qh.exports=oe;var N=Qh.exports;const ep=b0(N),O0=y0({__proto__:null,default:ep},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L0=N,_0=Symbol.for("react.element"),I0=Symbol.for("react.fragment"),U0=Object.prototype.hasOwnProperty,$0=L0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,B0={key:!0,ref:!0,__self:!0,__source:!0};function tp(e,s,r){var a,n={},l=null,i=null;r!==void 0&&(l=""+r),s.key!==void 0&&(l=""+s.key),s.ref!==void 0&&(i=s.ref);for(a in s)U0.call(s,a)&&!B0.hasOwnProperty(a)&&(n[a]=s[a]);if(e&&e.defaultProps)for(a in s=e.defaultProps,s)n[a]===void 0&&(n[a]=s[a]);return{$$typeof:_0,type:e,key:l,ref:i,props:n,_owner:$0.current}}Ii.Fragment=I0;Ii.jsx=tp;Ii.jsxs=tp;Hh.exports=Ii;var t=Hh.exports,Vo={},sp={exports:{}},Mt={},rp={exports:{}},ap={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function s(F,L){var W=F.length;F.push(L);e:for(;0<W;){var Y=W-1>>>1,_=F[Y];if(0<n(_,L))F[Y]=L,F[W]=_,W=Y;else break e}}function r(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var L=F[0],W=F.pop();if(W!==L){F[0]=W;e:for(var Y=0,_=F.length,ie=_>>>1;Y<ie;){var te=2*(Y+1)-1,de=F[te],me=te+1,fe=F[me];if(0>n(de,W))me<_&&0>n(fe,de)?(F[Y]=fe,F[me]=W,Y=me):(F[Y]=de,F[te]=W,Y=te);else if(me<_&&0>n(fe,W))F[Y]=fe,F[me]=W,Y=me;else break e}}return L}function n(F,L){var W=F.sortIndex-L.sortIndex;return W!==0?W:F.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,x=3,y=!1,m=!1,p=!1,f=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(F){for(var L=r(d);L!==null;){if(L.callback===null)a(d);else if(L.startTime<=F)a(d),L.sortIndex=L.expirationTime,s(c,L);else break;L=r(d)}}function j(F){if(p=!1,v(F),!m)if(r(c)!==null)m=!0,X(S);else{var L=r(d);L!==null&&A(j,L.startTime-F)}}function S(F,L){m=!1,p&&(p=!1,b(D),D=-1),y=!0;var W=x;try{for(v(L),h=r(c);h!==null&&(!(h.expirationTime>L)||F&&!P());){var Y=h.callback;if(typeof Y=="function"){h.callback=null,x=h.priorityLevel;var _=Y(h.expirationTime<=L);L=e.unstable_now(),typeof _=="function"?h.callback=_:h===r(c)&&a(c),v(L)}else a(c);h=r(c)}if(h!==null)var ie=!0;else{var te=r(d);te!==null&&A(j,te.startTime-L),ie=!1}return ie}finally{h=null,x=W,y=!1}}var k=!1,w=null,D=-1,O=5,C=-1;function P(){return!(e.unstable_now()-C<O)}function R(){if(w!==null){var F=e.unstable_now();C=F;var L=!0;try{L=w(!0,F)}finally{L?I():(k=!1,w=null)}}else k=!1}var I;if(typeof g=="function")I=function(){g(R)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,J=G.port2;G.port1.onmessage=R,I=function(){J.postMessage(null)}}else I=function(){f(R,0)};function X(F){w=F,k||(k=!0,I())}function A(F,L){D=f(function(){F(e.unstable_now())},L)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(F){F.callback=null},e.unstable_continueExecution=function(){m||y||(m=!0,X(S))},e.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<F?Math.floor(1e3/F):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(F){switch(x){case 1:case 2:case 3:var L=3;break;default:L=x}var W=x;x=L;try{return F()}finally{x=W}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(F,L){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var W=x;x=F;try{return L()}finally{x=W}},e.unstable_scheduleCallback=function(F,L,W){var Y=e.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?Y+W:Y):W=Y,F){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=W+_,F={id:u++,callback:L,priorityLevel:F,startTime:W,expirationTime:_,sortIndex:-1},W>Y?(F.sortIndex=W,s(d,F),r(c)===null&&F===r(d)&&(p?(b(D),D=-1):p=!0,A(j,W-Y))):(F.sortIndex=_,s(c,F),m||y||(m=!0,X(S))),F},e.unstable_shouldYield=P,e.unstable_wrapCallback=function(F){var L=x;return function(){var W=x;x=L;try{return F.apply(this,arguments)}finally{x=W}}}})(ap);rp.exports=ap;var z0=rp.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var q0=N,Rt=z0;function z(e){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)s+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var np=new Set,An={};function ea(e,s){La(e,s),La(e+"Capture",s)}function La(e,s){for(An[e]=s,e=0;e<s.length;e++)np.add(s[e])}var Ps=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Go=Object.prototype.hasOwnProperty,H0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Uu={},$u={};function Q0(e){return Go.call($u,e)?!0:Go.call(Uu,e)?!1:H0.test(e)?$u[e]=!0:(Uu[e]=!0,!1)}function K0(e,s,r,a){if(r!==null&&r.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return a?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function W0(e,s,r,a){if(s===null||typeof s>"u"||K0(e,s,r,a))return!0;if(a)return!1;if(r!==null)switch(r.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function pt(e,s,r,a,n,l,i){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=a,this.attributeNamespace=n,this.mustUseProperty=r,this.propertyName=e,this.type=s,this.sanitizeURL=l,this.removeEmptyString=i}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){tt[e]=new pt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var s=e[0];tt[s]=new pt(s,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){tt[e]=new pt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){tt[e]=new pt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){tt[e]=new pt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){tt[e]=new pt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){tt[e]=new pt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){tt[e]=new pt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){tt[e]=new pt(e,5,!1,e.toLowerCase(),null,!1,!1)});var kd=/[\-:]([a-z])/g;function wd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var s=e.replace(kd,wd);tt[s]=new pt(s,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var s=e.replace(kd,wd);tt[s]=new pt(s,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var s=e.replace(kd,wd);tt[s]=new pt(s,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!1,!1)});tt.xlinkHref=new pt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){tt[e]=new pt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Sd(e,s,r,a){var n=tt.hasOwnProperty(s)?tt[s]:null;(n!==null?n.type!==0:a||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(W0(s,r,n,a)&&(r=null),a||n===null?Q0(s)&&(r===null?e.removeAttribute(s):e.setAttribute(s,""+r)):n.mustUseProperty?e[n.propertyName]=r===null?n.type===3?!1:"":r:(s=n.attributeName,a=n.attributeNamespace,r===null?e.removeAttribute(s):(n=n.type,r=n===3||n===4&&r===!0?"":""+r,a?e.setAttributeNS(a,s,r):e.setAttribute(s,r))))}var As=q0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,vl=Symbol.for("react.element"),la=Symbol.for("react.portal"),ia=Symbol.for("react.fragment"),Cd=Symbol.for("react.strict_mode"),Jo=Symbol.for("react.profiler"),lp=Symbol.for("react.provider"),ip=Symbol.for("react.context"),Pd=Symbol.for("react.forward_ref"),Yo=Symbol.for("react.suspense"),Xo=Symbol.for("react.suspense_list"),Ed=Symbol.for("react.memo"),$s=Symbol.for("react.lazy"),op=Symbol.for("react.offscreen"),Bu=Symbol.iterator;function on(e){return e===null||typeof e!="object"?null:(e=Bu&&e[Bu]||e["@@iterator"],typeof e=="function"?e:null)}var Ee=Object.assign,yo;function yn(e){if(yo===void 0)try{throw Error()}catch(r){var s=r.stack.trim().match(/\n( *(at )?)/);yo=s&&s[1]||""}return`
`+yo+e}var bo=!1;function vo(e,s){if(!e||bo)return"";bo=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(d){var a=d}Reflect.construct(e,[],s)}else{try{s.call()}catch(d){a=d}e.call(s.prototype)}else{try{throw Error()}catch(d){a=d}e()}}catch(d){if(d&&a&&typeof d.stack=="string"){for(var n=d.stack.split(`
`),l=a.stack.split(`
`),i=n.length-1,o=l.length-1;1<=i&&0<=o&&n[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(n[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||n[i]!==l[o]){var c=`
`+n[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{bo=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?yn(e):""}function V0(e){switch(e.tag){case 5:return yn(e.type);case 16:return yn("Lazy");case 13:return yn("Suspense");case 19:return yn("SuspenseList");case 0:case 2:case 15:return e=vo(e.type,!1),e;case 11:return e=vo(e.type.render,!1),e;case 1:return e=vo(e.type,!0),e;default:return""}}function Zo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ia:return"Fragment";case la:return"Portal";case Jo:return"Profiler";case Cd:return"StrictMode";case Yo:return"Suspense";case Xo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ip:return(e.displayName||"Context")+".Consumer";case lp:return(e._context.displayName||"Context")+".Provider";case Pd:var s=e.render;return e=e.displayName,e||(e=s.displayName||s.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ed:return s=e.displayName||null,s!==null?s:Zo(e.type)||"Memo";case $s:s=e._payload,e=e._init;try{return Zo(e(s))}catch{}}return null}function G0(e){var s=e.type;switch(e.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=s.render,e=e.displayName||e.name||"",s.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zo(s);case 8:return s===Cd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function hr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cp(e){var s=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function J0(e){var s=cp(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,s),a=""+e[s];if(!e.hasOwnProperty(s)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var n=r.get,l=r.set;return Object.defineProperty(e,s,{configurable:!0,get:function(){return n.call(this)},set:function(i){a=""+i,l.call(this,i)}}),Object.defineProperty(e,s,{enumerable:r.enumerable}),{getValue:function(){return a},setValue:function(i){a=""+i},stopTracking:function(){e._valueTracker=null,delete e[s]}}}}function jl(e){e._valueTracker||(e._valueTracker=J0(e))}function dp(e){if(!e)return!1;var s=e._valueTracker;if(!s)return!0;var r=s.getValue(),a="";return e&&(a=cp(e)?e.checked?"true":"false":e.value),e=a,e!==r?(s.setValue(e),!0):!1}function ni(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ec(e,s){var r=s.checked;return Ee({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function zu(e,s){var r=s.defaultValue==null?"":s.defaultValue,a=s.checked!=null?s.checked:s.defaultChecked;r=hr(s.value!=null?s.value:r),e._wrapperState={initialChecked:a,initialValue:r,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function up(e,s){s=s.checked,s!=null&&Sd(e,"checked",s,!1)}function tc(e,s){up(e,s);var r=hr(s.value),a=s.type;if(r!=null)a==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}s.hasOwnProperty("value")?sc(e,s.type,r):s.hasOwnProperty("defaultValue")&&sc(e,s.type,hr(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(e.defaultChecked=!!s.defaultChecked)}function qu(e,s,r){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var a=s.type;if(!(a!=="submit"&&a!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+e._wrapperState.initialValue,r||s===e.value||(e.value=s),e.defaultValue=s}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function sc(e,s,r){(s!=="number"||ni(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var bn=Array.isArray;function ya(e,s,r,a){if(e=e.options,s){s={};for(var n=0;n<r.length;n++)s["$"+r[n]]=!0;for(r=0;r<e.length;r++)n=s.hasOwnProperty("$"+e[r].value),e[r].selected!==n&&(e[r].selected=n),n&&a&&(e[r].defaultSelected=!0)}else{for(r=""+hr(r),s=null,n=0;n<e.length;n++){if(e[n].value===r){e[n].selected=!0,a&&(e[n].defaultSelected=!0);return}s!==null||e[n].disabled||(s=e[n])}s!==null&&(s.selected=!0)}}function rc(e,s){if(s.dangerouslySetInnerHTML!=null)throw Error(z(91));return Ee({},s,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Hu(e,s){var r=s.value;if(r==null){if(r=s.children,s=s.defaultValue,r!=null){if(s!=null)throw Error(z(92));if(bn(r)){if(1<r.length)throw Error(z(93));r=r[0]}s=r}s==null&&(s=""),r=s}e._wrapperState={initialValue:hr(r)}}function mp(e,s){var r=hr(s.value),a=hr(s.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),s.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),a!=null&&(e.defaultValue=""+a)}function Qu(e){var s=e.textContent;s===e._wrapperState.initialValue&&s!==""&&s!==null&&(e.value=s)}function hp(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ac(e,s){return e==null||e==="http://www.w3.org/1999/xhtml"?hp(s):e==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Nl,pp=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,r,a,n){MSApp.execUnsafeLocalFunction(function(){return e(s,r,a,n)})}:e}(function(e,s){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=s;else{for(Nl=Nl||document.createElement("div"),Nl.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=Nl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;s.firstChild;)e.appendChild(s.firstChild)}});function On(e,s){if(s){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=s;return}}e.textContent=s}var wn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Y0=["Webkit","ms","Moz","O"];Object.keys(wn).forEach(function(e){Y0.forEach(function(s){s=s+e.charAt(0).toUpperCase()+e.substring(1),wn[s]=wn[e]})});function xp(e,s,r){return s==null||typeof s=="boolean"||s===""?"":r||typeof s!="number"||s===0||wn.hasOwnProperty(e)&&wn[e]?(""+s).trim():s+"px"}function fp(e,s){e=e.style;for(var r in s)if(s.hasOwnProperty(r)){var a=r.indexOf("--")===0,n=xp(r,s[r],a);r==="float"&&(r="cssFloat"),a?e.setProperty(r,n):e[r]=n}}var X0=Ee({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function nc(e,s){if(s){if(X0[e]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(z(137,e));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(z(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(z(61))}if(s.style!=null&&typeof s.style!="object")throw Error(z(62))}}function lc(e,s){if(e.indexOf("-")===-1)return typeof s.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ic=null;function Dd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var oc=null,ba=null,va=null;function Ku(e){if(e=cl(e)){if(typeof oc!="function")throw Error(z(280));var s=e.stateNode;s&&(s=qi(s),oc(e.stateNode,e.type,s))}}function gp(e){ba?va?va.push(e):va=[e]:ba=e}function yp(){if(ba){var e=ba,s=va;if(va=ba=null,Ku(e),s)for(e=0;e<s.length;e++)Ku(s[e])}}function bp(e,s){return e(s)}function vp(){}var jo=!1;function jp(e,s,r){if(jo)return e(s,r);jo=!0;try{return bp(e,s,r)}finally{jo=!1,(ba!==null||va!==null)&&(vp(),yp())}}function Ln(e,s){var r=e.stateNode;if(r===null)return null;var a=qi(r);if(a===null)return null;r=a[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(z(231,s,typeof r));return r}var cc=!1;if(Ps)try{var cn={};Object.defineProperty(cn,"passive",{get:function(){cc=!0}}),window.addEventListener("test",cn,cn),window.removeEventListener("test",cn,cn)}catch{cc=!1}function Z0(e,s,r,a,n,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{s.apply(r,d)}catch(u){this.onError(u)}}var Sn=!1,li=null,ii=!1,dc=null,eg={onError:function(e){Sn=!0,li=e}};function tg(e,s,r,a,n,l,i,o,c){Sn=!1,li=null,Z0.apply(eg,arguments)}function sg(e,s,r,a,n,l,i,o,c){if(tg.apply(this,arguments),Sn){if(Sn){var d=li;Sn=!1,li=null}else throw Error(z(198));ii||(ii=!0,dc=d)}}function ta(e){var s=e,r=e;if(e.alternate)for(;s.return;)s=s.return;else{e=s;do s=e,s.flags&4098&&(r=s.return),e=s.return;while(e)}return s.tag===3?r:null}function Np(e){if(e.tag===13){var s=e.memoizedState;if(s===null&&(e=e.alternate,e!==null&&(s=e.memoizedState)),s!==null)return s.dehydrated}return null}function Wu(e){if(ta(e)!==e)throw Error(z(188))}function rg(e){var s=e.alternate;if(!s){if(s=ta(e),s===null)throw Error(z(188));return s!==e?null:e}for(var r=e,a=s;;){var n=r.return;if(n===null)break;var l=n.alternate;if(l===null){if(a=n.return,a!==null){r=a;continue}break}if(n.child===l.child){for(l=n.child;l;){if(l===r)return Wu(n),e;if(l===a)return Wu(n),s;l=l.sibling}throw Error(z(188))}if(r.return!==a.return)r=n,a=l;else{for(var i=!1,o=n.child;o;){if(o===r){i=!0,r=n,a=l;break}if(o===a){i=!0,a=n,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,a=n;break}if(o===a){i=!0,a=l,r=n;break}o=o.sibling}if(!i)throw Error(z(189))}}if(r.alternate!==a)throw Error(z(190))}if(r.tag!==3)throw Error(z(188));return r.stateNode.current===r?e:s}function kp(e){return e=rg(e),e!==null?wp(e):null}function wp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var s=wp(e);if(s!==null)return s;e=e.sibling}return null}var Sp=Rt.unstable_scheduleCallback,Vu=Rt.unstable_cancelCallback,ag=Rt.unstable_shouldYield,ng=Rt.unstable_requestPaint,Te=Rt.unstable_now,lg=Rt.unstable_getCurrentPriorityLevel,Rd=Rt.unstable_ImmediatePriority,Cp=Rt.unstable_UserBlockingPriority,oi=Rt.unstable_NormalPriority,ig=Rt.unstable_LowPriority,Pp=Rt.unstable_IdlePriority,Ui=null,us=null;function og(e){if(us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Ui,e,void 0,(e.current.flags&128)===128)}catch{}}var Jt=Math.clz32?Math.clz32:ug,cg=Math.log,dg=Math.LN2;function ug(e){return e>>>=0,e===0?32:31-(cg(e)/dg|0)|0}var kl=64,wl=4194304;function vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ci(e,s){var r=e.pendingLanes;if(r===0)return 0;var a=0,n=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~n;o!==0?a=vn(o):(l&=i,l!==0&&(a=vn(l)))}else i=r&~n,i!==0?a=vn(i):l!==0&&(a=vn(l));if(a===0)return 0;if(s!==0&&s!==a&&!(s&n)&&(n=a&-a,l=s&-s,n>=l||n===16&&(l&4194240)!==0))return s;if(a&4&&(a|=r&16),s=e.entangledLanes,s!==0)for(e=e.entanglements,s&=a;0<s;)r=31-Jt(s),n=1<<r,a|=e[r],s&=~n;return a}function mg(e,s){switch(e){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hg(e,s){for(var r=e.suspendedLanes,a=e.pingedLanes,n=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-Jt(l),o=1<<i,c=n[i];c===-1?(!(o&r)||o&a)&&(n[i]=mg(o,s)):c<=s&&(e.expiredLanes|=o),l&=~o}}function uc(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Ep(){var e=kl;return kl<<=1,!(kl&4194240)&&(kl=64),e}function No(e){for(var s=[],r=0;31>r;r++)s.push(e);return s}function il(e,s,r){e.pendingLanes|=s,s!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,s=31-Jt(s),e[s]=r}function pg(e,s){var r=e.pendingLanes&~s;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=s,e.mutableReadLanes&=s,e.entangledLanes&=s,s=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<r;){var n=31-Jt(r),l=1<<n;s[n]=0,a[n]=-1,e[n]=-1,r&=~l}}function Md(e,s){var r=e.entangledLanes|=s;for(e=e.entanglements;r;){var a=31-Jt(r),n=1<<a;n&s|e[a]&s&&(e[a]|=s),r&=~n}}var xe=0;function Dp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Rp,Fd,Mp,Fp,Tp,mc=!1,Sl=[],rr=null,ar=null,nr=null,_n=new Map,In=new Map,zs=[],xg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Gu(e,s){switch(e){case"focusin":case"focusout":rr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":nr=null;break;case"pointerover":case"pointerout":_n.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":In.delete(s.pointerId)}}function dn(e,s,r,a,n,l){return e===null||e.nativeEvent!==l?(e={blockedOn:s,domEventName:r,eventSystemFlags:a,nativeEvent:l,targetContainers:[n]},s!==null&&(s=cl(s),s!==null&&Fd(s)),e):(e.eventSystemFlags|=a,s=e.targetContainers,n!==null&&s.indexOf(n)===-1&&s.push(n),e)}function fg(e,s,r,a,n){switch(s){case"focusin":return rr=dn(rr,e,s,r,a,n),!0;case"dragenter":return ar=dn(ar,e,s,r,a,n),!0;case"mouseover":return nr=dn(nr,e,s,r,a,n),!0;case"pointerover":var l=n.pointerId;return _n.set(l,dn(_n.get(l)||null,e,s,r,a,n)),!0;case"gotpointercapture":return l=n.pointerId,In.set(l,dn(In.get(l)||null,e,s,r,a,n)),!0}return!1}function Ap(e){var s=Pr(e.target);if(s!==null){var r=ta(s);if(r!==null){if(s=r.tag,s===13){if(s=Np(r),s!==null){e.blockedOn=s,Tp(e.priority,function(){Mp(r)});return}}else if(s===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var s=e.targetContainers;0<s.length;){var r=hc(e.domEventName,e.eventSystemFlags,s[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var a=new r.constructor(r.type,r);ic=a,r.target.dispatchEvent(a),ic=null}else return s=cl(r),s!==null&&Fd(s),e.blockedOn=r,!1;s.shift()}return!0}function Ju(e,s,r){zl(e)&&r.delete(s)}function gg(){mc=!1,rr!==null&&zl(rr)&&(rr=null),ar!==null&&zl(ar)&&(ar=null),nr!==null&&zl(nr)&&(nr=null),_n.forEach(Ju),In.forEach(Ju)}function un(e,s){e.blockedOn===s&&(e.blockedOn=null,mc||(mc=!0,Rt.unstable_scheduleCallback(Rt.unstable_NormalPriority,gg)))}function Un(e){function s(n){return un(n,e)}if(0<Sl.length){un(Sl[0],e);for(var r=1;r<Sl.length;r++){var a=Sl[r];a.blockedOn===e&&(a.blockedOn=null)}}for(rr!==null&&un(rr,e),ar!==null&&un(ar,e),nr!==null&&un(nr,e),_n.forEach(s),In.forEach(s),r=0;r<zs.length;r++)a=zs[r],a.blockedOn===e&&(a.blockedOn=null);for(;0<zs.length&&(r=zs[0],r.blockedOn===null);)Ap(r),r.blockedOn===null&&zs.shift()}var ja=As.ReactCurrentBatchConfig,di=!0;function yg(e,s,r,a){var n=xe,l=ja.transition;ja.transition=null;try{xe=1,Td(e,s,r,a)}finally{xe=n,ja.transition=l}}function bg(e,s,r,a){var n=xe,l=ja.transition;ja.transition=null;try{xe=4,Td(e,s,r,a)}finally{xe=n,ja.transition=l}}function Td(e,s,r,a){if(di){var n=hc(e,s,r,a);if(n===null)Fo(e,s,a,ui,r),Gu(e,a);else if(fg(n,e,s,r,a))a.stopPropagation();else if(Gu(e,a),s&4&&-1<xg.indexOf(e)){for(;n!==null;){var l=cl(n);if(l!==null&&Rp(l),l=hc(e,s,r,a),l===null&&Fo(e,s,a,ui,r),l===n)break;n=l}n!==null&&a.stopPropagation()}else Fo(e,s,a,null,r)}}var ui=null;function hc(e,s,r,a){if(ui=null,e=Dd(a),e=Pr(e),e!==null)if(s=ta(e),s===null)e=null;else if(r=s.tag,r===13){if(e=Np(s),e!==null)return e;e=null}else if(r===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;e=null}else s!==e&&(e=null);return ui=e,null}function Op(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lg()){case Rd:return 1;case Cp:return 4;case oi:case ig:return 16;case Pp:return 536870912;default:return 16}default:return 16}}var er=null,Ad=null,ql=null;function Lp(){if(ql)return ql;var e,s=Ad,r=s.length,a,n="value"in er?er.value:er.textContent,l=n.length;for(e=0;e<r&&s[e]===n[e];e++);var i=r-e;for(a=1;a<=i&&s[r-a]===n[l-a];a++);return ql=n.slice(e,1<a?1-a:void 0)}function Hl(e){var s=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&s===13&&(e=13)):e=s,e===10&&(e=13),32<=e||e===13?e:0}function Cl(){return!0}function Yu(){return!1}function Ft(e){function s(r,a,n,l,i){this._reactName=r,this._targetInst=n,this.type=a,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?Cl:Yu,this.isPropagationStopped=Yu,this}return Ee(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Cl)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Cl)},persist:function(){},isPersistent:Cl}),s}var Ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Od=Ft(Ya),ol=Ee({},Ya,{view:0,detail:0}),vg=Ft(ol),ko,wo,mn,$i=Ee({},ol,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ld,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mn&&(mn&&e.type==="mousemove"?(ko=e.screenX-mn.screenX,wo=e.screenY-mn.screenY):wo=ko=0,mn=e),ko)},movementY:function(e){return"movementY"in e?e.movementY:wo}}),Xu=Ft($i),jg=Ee({},$i,{dataTransfer:0}),Ng=Ft(jg),kg=Ee({},ol,{relatedTarget:0}),So=Ft(kg),wg=Ee({},Ya,{animationName:0,elapsedTime:0,pseudoElement:0}),Sg=Ft(wg),Cg=Ee({},Ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pg=Ft(Cg),Eg=Ee({},Ya,{data:0}),Zu=Ft(Eg),Dg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fg(e){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(e):(e=Mg[e])?!!s[e]:!1}function Ld(){return Fg}var Tg=Ee({},ol,{key:function(e){if(e.key){var s=Dg[e.key]||e.key;if(s!=="Unidentified")return s}return e.type==="keypress"?(e=Hl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Rg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ld,charCode:function(e){return e.type==="keypress"?Hl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ag=Ft(Tg),Og=Ee({},$i,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),em=Ft(Og),Lg=Ee({},ol,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ld}),_g=Ft(Lg),Ig=Ee({},Ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ug=Ft(Ig),$g=Ee({},$i,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bg=Ft($g),zg=[9,13,27,32],_d=Ps&&"CompositionEvent"in window,Cn=null;Ps&&"documentMode"in document&&(Cn=document.documentMode);var qg=Ps&&"TextEvent"in window&&!Cn,_p=Ps&&(!_d||Cn&&8<Cn&&11>=Cn),tm=" ",sm=!1;function Ip(e,s){switch(e){case"keyup":return zg.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Up(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var oa=!1;function Hg(e,s){switch(e){case"compositionend":return Up(s);case"keypress":return s.which!==32?null:(sm=!0,tm);case"textInput":return e=s.data,e===tm&&sm?null:e;default:return null}}function Qg(e,s){if(oa)return e==="compositionend"||!_d&&Ip(e,s)?(e=Lp(),ql=Ad=er=null,oa=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return _p&&s.locale!=="ko"?null:s.data;default:return null}}var Kg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rm(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s==="input"?!!Kg[e.type]:s==="textarea"}function $p(e,s,r,a){gp(a),s=mi(s,"onChange"),0<s.length&&(r=new Od("onChange","change",null,r,a),e.push({event:r,listeners:s}))}var Pn=null,$n=null;function Wg(e){Yp(e,0)}function Bi(e){var s=ua(e);if(dp(s))return e}function Vg(e,s){if(e==="change")return s}var Bp=!1;if(Ps){var Co;if(Ps){var Po="oninput"in document;if(!Po){var am=document.createElement("div");am.setAttribute("oninput","return;"),Po=typeof am.oninput=="function"}Co=Po}else Co=!1;Bp=Co&&(!document.documentMode||9<document.documentMode)}function nm(){Pn&&(Pn.detachEvent("onpropertychange",zp),$n=Pn=null)}function zp(e){if(e.propertyName==="value"&&Bi($n)){var s=[];$p(s,$n,e,Dd(e)),jp(Wg,s)}}function Gg(e,s,r){e==="focusin"?(nm(),Pn=s,$n=r,Pn.attachEvent("onpropertychange",zp)):e==="focusout"&&nm()}function Jg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Bi($n)}function Yg(e,s){if(e==="click")return Bi(s)}function Xg(e,s){if(e==="input"||e==="change")return Bi(s)}function Zg(e,s){return e===s&&(e!==0||1/e===1/s)||e!==e&&s!==s}var Xt=typeof Object.is=="function"?Object.is:Zg;function Bn(e,s){if(Xt(e,s))return!0;if(typeof e!="object"||e===null||typeof s!="object"||s===null)return!1;var r=Object.keys(e),a=Object.keys(s);if(r.length!==a.length)return!1;for(a=0;a<r.length;a++){var n=r[a];if(!Go.call(s,n)||!Xt(e[n],s[n]))return!1}return!0}function lm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function im(e,s){var r=lm(e);e=0;for(var a;r;){if(r.nodeType===3){if(a=e+r.textContent.length,e<=s&&a>=s)return{node:r,offset:s-e};e=a}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=lm(r)}}function qp(e,s){return e&&s?e===s?!0:e&&e.nodeType===3?!1:s&&s.nodeType===3?qp(e,s.parentNode):"contains"in e?e.contains(s):e.compareDocumentPosition?!!(e.compareDocumentPosition(s)&16):!1:!1}function Hp(){for(var e=window,s=ni();s instanceof e.HTMLIFrameElement;){try{var r=typeof s.contentWindow.location.href=="string"}catch{r=!1}if(r)e=s.contentWindow;else break;s=ni(e.document)}return s}function Id(e){var s=e&&e.nodeName&&e.nodeName.toLowerCase();return s&&(s==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||s==="textarea"||e.contentEditable==="true")}function ey(e){var s=Hp(),r=e.focusedElem,a=e.selectionRange;if(s!==r&&r&&r.ownerDocument&&qp(r.ownerDocument.documentElement,r)){if(a!==null&&Id(r)){if(s=a.start,e=a.end,e===void 0&&(e=s),"selectionStart"in r)r.selectionStart=s,r.selectionEnd=Math.min(e,r.value.length);else if(e=(s=r.ownerDocument||document)&&s.defaultView||window,e.getSelection){e=e.getSelection();var n=r.textContent.length,l=Math.min(a.start,n);a=a.end===void 0?l:Math.min(a.end,n),!e.extend&&l>a&&(n=a,a=l,l=n),n=im(r,l);var i=im(r,a);n&&i&&(e.rangeCount!==1||e.anchorNode!==n.node||e.anchorOffset!==n.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(s=s.createRange(),s.setStart(n.node,n.offset),e.removeAllRanges(),l>a?(e.addRange(s),e.extend(i.node,i.offset)):(s.setEnd(i.node,i.offset),e.addRange(s)))}}for(s=[],e=r;e=e.parentNode;)e.nodeType===1&&s.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<s.length;r++)e=s[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var ty=Ps&&"documentMode"in document&&11>=document.documentMode,ca=null,pc=null,En=null,xc=!1;function om(e,s,r){var a=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;xc||ca==null||ca!==ni(a)||(a=ca,"selectionStart"in a&&Id(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),En&&Bn(En,a)||(En=a,a=mi(pc,"onSelect"),0<a.length&&(s=new Od("onSelect","select",null,s,r),e.push({event:s,listeners:a}),s.target=ca)))}function Pl(e,s){var r={};return r[e.toLowerCase()]=s.toLowerCase(),r["Webkit"+e]="webkit"+s,r["Moz"+e]="moz"+s,r}var da={animationend:Pl("Animation","AnimationEnd"),animationiteration:Pl("Animation","AnimationIteration"),animationstart:Pl("Animation","AnimationStart"),transitionend:Pl("Transition","TransitionEnd")},Eo={},Qp={};Ps&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function zi(e){if(Eo[e])return Eo[e];if(!da[e])return e;var s=da[e],r;for(r in s)if(s.hasOwnProperty(r)&&r in Qp)return Eo[e]=s[r];return e}var Kp=zi("animationend"),Wp=zi("animationiteration"),Vp=zi("animationstart"),Gp=zi("transitionend"),Jp=new Map,cm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yr(e,s){Jp.set(e,s),ea(s,[e])}for(var Do=0;Do<cm.length;Do++){var Ro=cm[Do],sy=Ro.toLowerCase(),ry=Ro[0].toUpperCase()+Ro.slice(1);yr(sy,"on"+ry)}yr(Kp,"onAnimationEnd");yr(Wp,"onAnimationIteration");yr(Vp,"onAnimationStart");yr("dblclick","onDoubleClick");yr("focusin","onFocus");yr("focusout","onBlur");yr(Gp,"onTransitionEnd");La("onMouseEnter",["mouseout","mouseover"]);La("onMouseLeave",["mouseout","mouseover"]);La("onPointerEnter",["pointerout","pointerover"]);La("onPointerLeave",["pointerout","pointerover"]);ea("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ea("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ea("onBeforeInput",["compositionend","keypress","textInput","paste"]);ea("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ea("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ay=new Set("cancel close invalid load scroll toggle".split(" ").concat(jn));function dm(e,s,r){var a=e.type||"unknown-event";e.currentTarget=r,sg(a,s,void 0,e),e.currentTarget=null}function Yp(e,s){s=(s&4)!==0;for(var r=0;r<e.length;r++){var a=e[r],n=a.event;a=a.listeners;e:{var l=void 0;if(s)for(var i=a.length-1;0<=i;i--){var o=a[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&n.isPropagationStopped())break e;dm(n,o,d),l=c}else for(i=0;i<a.length;i++){if(o=a[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&n.isPropagationStopped())break e;dm(n,o,d),l=c}}}if(ii)throw e=dc,ii=!1,dc=null,e}function je(e,s){var r=s[vc];r===void 0&&(r=s[vc]=new Set);var a=e+"__bubble";r.has(a)||(Xp(s,e,2,!1),r.add(a))}function Mo(e,s,r){var a=0;s&&(a|=4),Xp(r,e,a,s)}var El="_reactListening"+Math.random().toString(36).slice(2);function zn(e){if(!e[El]){e[El]=!0,np.forEach(function(r){r!=="selectionchange"&&(ay.has(r)||Mo(r,!1,e),Mo(r,!0,e))});var s=e.nodeType===9?e:e.ownerDocument;s===null||s[El]||(s[El]=!0,Mo("selectionchange",!1,s))}}function Xp(e,s,r,a){switch(Op(s)){case 1:var n=yg;break;case 4:n=bg;break;default:n=Td}r=n.bind(null,s,r,e),n=void 0,!cc||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(n=!0),a?n!==void 0?e.addEventListener(s,r,{capture:!0,passive:n}):e.addEventListener(s,r,!0):n!==void 0?e.addEventListener(s,r,{passive:n}):e.addEventListener(s,r,!1)}function Fo(e,s,r,a,n){var l=a;if(!(s&1)&&!(s&2)&&a!==null)e:for(;;){if(a===null)return;var i=a.tag;if(i===3||i===4){var o=a.stateNode.containerInfo;if(o===n||o.nodeType===8&&o.parentNode===n)break;if(i===4)for(i=a.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===n||c.nodeType===8&&c.parentNode===n))return;i=i.return}for(;o!==null;){if(i=Pr(o),i===null)return;if(c=i.tag,c===5||c===6){a=l=i;continue e}o=o.parentNode}}a=a.return}jp(function(){var d=l,u=Dd(r),h=[];e:{var x=Jp.get(e);if(x!==void 0){var y=Od,m=e;switch(e){case"keypress":if(Hl(r)===0)break e;case"keydown":case"keyup":y=Ag;break;case"focusin":m="focus",y=So;break;case"focusout":m="blur",y=So;break;case"beforeblur":case"afterblur":y=So;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=Xu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=Ng;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=_g;break;case Kp:case Wp:case Vp:y=Sg;break;case Gp:y=Ug;break;case"scroll":y=vg;break;case"wheel":y=Bg;break;case"copy":case"cut":case"paste":y=Pg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=em}var p=(s&4)!==0,f=!p&&e==="scroll",b=p?x!==null?x+"Capture":null:x;p=[];for(var g=d,v;g!==null;){v=g;var j=v.stateNode;if(v.tag===5&&j!==null&&(v=j,b!==null&&(j=Ln(g,b),j!=null&&p.push(qn(g,j,v)))),f)break;g=g.return}0<p.length&&(x=new y(x,m,null,r,u),h.push({event:x,listeners:p}))}}if(!(s&7)){e:{if(x=e==="mouseover"||e==="pointerover",y=e==="mouseout"||e==="pointerout",x&&r!==ic&&(m=r.relatedTarget||r.fromElement)&&(Pr(m)||m[Es]))break e;if((y||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,y?(m=r.relatedTarget||r.toElement,y=d,m=m?Pr(m):null,m!==null&&(f=ta(m),m!==f||m.tag!==5&&m.tag!==6)&&(m=null)):(y=null,m=d),y!==m)){if(p=Xu,j="onMouseLeave",b="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(p=em,j="onPointerLeave",b="onPointerEnter",g="pointer"),f=y==null?x:ua(y),v=m==null?x:ua(m),x=new p(j,g+"leave",y,r,u),x.target=f,x.relatedTarget=v,j=null,Pr(u)===d&&(p=new p(b,g+"enter",m,r,u),p.target=v,p.relatedTarget=f,j=p),f=j,y&&m)t:{for(p=y,b=m,g=0,v=p;v;v=na(v))g++;for(v=0,j=b;j;j=na(j))v++;for(;0<g-v;)p=na(p),g--;for(;0<v-g;)b=na(b),v--;for(;g--;){if(p===b||b!==null&&p===b.alternate)break t;p=na(p),b=na(b)}p=null}else p=null;y!==null&&um(h,x,y,p,!1),m!==null&&f!==null&&um(h,f,m,p,!0)}}e:{if(x=d?ua(d):window,y=x.nodeName&&x.nodeName.toLowerCase(),y==="select"||y==="input"&&x.type==="file")var S=Vg;else if(rm(x))if(Bp)S=Xg;else{S=Jg;var k=Gg}else(y=x.nodeName)&&y.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=Yg);if(S&&(S=S(e,d))){$p(h,S,r,u);break e}k&&k(e,x,d),e==="focusout"&&(k=x._wrapperState)&&k.controlled&&x.type==="number"&&sc(x,"number",x.value)}switch(k=d?ua(d):window,e){case"focusin":(rm(k)||k.contentEditable==="true")&&(ca=k,pc=d,En=null);break;case"focusout":En=pc=ca=null;break;case"mousedown":xc=!0;break;case"contextmenu":case"mouseup":case"dragend":xc=!1,om(h,r,u);break;case"selectionchange":if(ty)break;case"keydown":case"keyup":om(h,r,u)}var w;if(_d)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else oa?Ip(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(_p&&r.locale!=="ko"&&(oa||D!=="onCompositionStart"?D==="onCompositionEnd"&&oa&&(w=Lp()):(er=u,Ad="value"in er?er.value:er.textContent,oa=!0)),k=mi(d,D),0<k.length&&(D=new Zu(D,e,null,r,u),h.push({event:D,listeners:k}),w?D.data=w:(w=Up(r),w!==null&&(D.data=w)))),(w=qg?Hg(e,r):Qg(e,r))&&(d=mi(d,"onBeforeInput"),0<d.length&&(u=new Zu("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=w))}Yp(h,s)})}function qn(e,s,r){return{instance:e,listener:s,currentTarget:r}}function mi(e,s){for(var r=s+"Capture",a=[];e!==null;){var n=e,l=n.stateNode;n.tag===5&&l!==null&&(n=l,l=Ln(e,r),l!=null&&a.unshift(qn(e,l,n)),l=Ln(e,s),l!=null&&a.push(qn(e,l,n))),e=e.return}return a}function na(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function um(e,s,r,a,n){for(var l=s._reactName,i=[];r!==null&&r!==a;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===a)break;o.tag===5&&d!==null&&(o=d,n?(c=Ln(r,l),c!=null&&i.unshift(qn(r,c,o))):n||(c=Ln(r,l),c!=null&&i.push(qn(r,c,o)))),r=r.return}i.length!==0&&e.push({event:s,listeners:i})}var ny=/\r\n?/g,ly=/\u0000|\uFFFD/g;function mm(e){return(typeof e=="string"?e:""+e).replace(ny,`
`).replace(ly,"")}function Dl(e,s,r){if(s=mm(s),mm(e)!==s&&r)throw Error(z(425))}function hi(){}var fc=null,gc=null;function yc(e,s){return e==="textarea"||e==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var bc=typeof setTimeout=="function"?setTimeout:void 0,iy=typeof clearTimeout=="function"?clearTimeout:void 0,hm=typeof Promise=="function"?Promise:void 0,oy=typeof queueMicrotask=="function"?queueMicrotask:typeof hm<"u"?function(e){return hm.resolve(null).then(e).catch(cy)}:bc;function cy(e){setTimeout(function(){throw e})}function To(e,s){var r=s,a=0;do{var n=r.nextSibling;if(e.removeChild(r),n&&n.nodeType===8)if(r=n.data,r==="/$"){if(a===0){e.removeChild(n),Un(s);return}a--}else r!=="$"&&r!=="$?"&&r!=="$!"||a++;r=n}while(r);Un(s)}function lr(e){for(;e!=null;e=e.nextSibling){var s=e.nodeType;if(s===1||s===3)break;if(s===8){if(s=e.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return e}function pm(e){e=e.previousSibling;for(var s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(s===0)return e;s--}else r==="/$"&&s++}e=e.previousSibling}return null}var Xa=Math.random().toString(36).slice(2),cs="__reactFiber$"+Xa,Hn="__reactProps$"+Xa,Es="__reactContainer$"+Xa,vc="__reactEvents$"+Xa,dy="__reactListeners$"+Xa,uy="__reactHandles$"+Xa;function Pr(e){var s=e[cs];if(s)return s;for(var r=e.parentNode;r;){if(s=r[Es]||r[cs]){if(r=s.alternate,s.child!==null||r!==null&&r.child!==null)for(e=pm(e);e!==null;){if(r=e[cs])return r;e=pm(e)}return s}e=r,r=e.parentNode}return null}function cl(e){return e=e[cs]||e[Es],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ua(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(z(33))}function qi(e){return e[Hn]||null}var jc=[],ma=-1;function br(e){return{current:e}}function Ne(e){0>ma||(e.current=jc[ma],jc[ma]=null,ma--)}function ve(e,s){ma++,jc[ma]=e.current,e.current=s}var pr={},lt=br(pr),vt=br(!1),Qr=pr;function _a(e,s){var r=e.type.contextTypes;if(!r)return pr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===s)return a.__reactInternalMemoizedMaskedChildContext;var n={},l;for(l in r)n[l]=s[l];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=n),n}function jt(e){return e=e.childContextTypes,e!=null}function pi(){Ne(vt),Ne(lt)}function xm(e,s,r){if(lt.current!==pr)throw Error(z(168));ve(lt,s),ve(vt,r)}function Zp(e,s,r){var a=e.stateNode;if(s=s.childContextTypes,typeof a.getChildContext!="function")return r;a=a.getChildContext();for(var n in a)if(!(n in s))throw Error(z(108,G0(e)||"Unknown",n));return Ee({},r,a)}function xi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||pr,Qr=lt.current,ve(lt,e),ve(vt,vt.current),!0}function fm(e,s,r){var a=e.stateNode;if(!a)throw Error(z(169));r?(e=Zp(e,s,Qr),a.__reactInternalMemoizedMergedChildContext=e,Ne(vt),Ne(lt),ve(lt,e)):Ne(vt),ve(vt,r)}var ys=null,Hi=!1,Ao=!1;function ex(e){ys===null?ys=[e]:ys.push(e)}function my(e){Hi=!0,ex(e)}function vr(){if(!Ao&&ys!==null){Ao=!0;var e=0,s=xe;try{var r=ys;for(xe=1;e<r.length;e++){var a=r[e];do a=a(!0);while(a!==null)}ys=null,Hi=!1}catch(n){throw ys!==null&&(ys=ys.slice(e+1)),Sp(Rd,vr),n}finally{xe=s,Ao=!1}}return null}var ha=[],pa=0,fi=null,gi=0,It=[],Ut=0,Kr=null,ks=1,ws="";function Sr(e,s){ha[pa++]=gi,ha[pa++]=fi,fi=e,gi=s}function tx(e,s,r){It[Ut++]=ks,It[Ut++]=ws,It[Ut++]=Kr,Kr=e;var a=ks;e=ws;var n=32-Jt(a)-1;a&=~(1<<n),r+=1;var l=32-Jt(s)+n;if(30<l){var i=n-n%5;l=(a&(1<<i)-1).toString(32),a>>=i,n-=i,ks=1<<32-Jt(s)+n|r<<n|a,ws=l+e}else ks=1<<l|r<<n|a,ws=e}function Ud(e){e.return!==null&&(Sr(e,1),tx(e,1,0))}function $d(e){for(;e===fi;)fi=ha[--pa],ha[pa]=null,gi=ha[--pa],ha[pa]=null;for(;e===Kr;)Kr=It[--Ut],It[Ut]=null,ws=It[--Ut],It[Ut]=null,ks=It[--Ut],It[Ut]=null}var Dt=null,Et=null,ke=!1,Gt=null;function sx(e,s){var r=$t(5,null,null,0);r.elementType="DELETED",r.stateNode=s,r.return=e,s=e.deletions,s===null?(e.deletions=[r],e.flags|=16):s.push(r)}function gm(e,s){switch(e.tag){case 5:var r=e.type;return s=s.nodeType!==1||r.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(e.stateNode=s,Dt=e,Et=lr(s.firstChild),!0):!1;case 6:return s=e.pendingProps===""||s.nodeType!==3?null:s,s!==null?(e.stateNode=s,Dt=e,Et=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(r=Kr!==null?{id:ks,overflow:ws}:null,e.memoizedState={dehydrated:s,treeContext:r,retryLane:1073741824},r=$t(18,null,null,0),r.stateNode=s,r.return=e,e.child=r,Dt=e,Et=null,!0):!1;default:return!1}}function Nc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function kc(e){if(ke){var s=Et;if(s){var r=s;if(!gm(e,s)){if(Nc(e))throw Error(z(418));s=lr(r.nextSibling);var a=Dt;s&&gm(e,s)?sx(a,r):(e.flags=e.flags&-4097|2,ke=!1,Dt=e)}}else{if(Nc(e))throw Error(z(418));e.flags=e.flags&-4097|2,ke=!1,Dt=e}}}function ym(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dt=e}function Rl(e){if(e!==Dt)return!1;if(!ke)return ym(e),ke=!0,!1;var s;if((s=e.tag!==3)&&!(s=e.tag!==5)&&(s=e.type,s=s!=="head"&&s!=="body"&&!yc(e.type,e.memoizedProps)),s&&(s=Et)){if(Nc(e))throw rx(),Error(z(418));for(;s;)sx(e,s),s=lr(s.nextSibling)}if(ym(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(z(317));e:{for(e=e.nextSibling,s=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(s===0){Et=lr(e.nextSibling);break e}s--}else r!=="$"&&r!=="$!"&&r!=="$?"||s++}e=e.nextSibling}Et=null}}else Et=Dt?lr(e.stateNode.nextSibling):null;return!0}function rx(){for(var e=Et;e;)e=lr(e.nextSibling)}function Ia(){Et=Dt=null,ke=!1}function Bd(e){Gt===null?Gt=[e]:Gt.push(e)}var hy=As.ReactCurrentBatchConfig;function hn(e,s,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(z(309));var a=r.stateNode}if(!a)throw Error(z(147,e));var n=a,l=""+e;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===l?s.ref:(s=function(i){var o=n.refs;i===null?delete o[l]:o[l]=i},s._stringRef=l,s)}if(typeof e!="string")throw Error(z(284));if(!r._owner)throw Error(z(290,e))}return e}function Ml(e,s){throw e=Object.prototype.toString.call(s),Error(z(31,e==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":e))}function bm(e){var s=e._init;return s(e._payload)}function ax(e){function s(b,g){if(e){var v=b.deletions;v===null?(b.deletions=[g],b.flags|=16):v.push(g)}}function r(b,g){if(!e)return null;for(;g!==null;)s(b,g),g=g.sibling;return null}function a(b,g){for(b=new Map;g!==null;)g.key!==null?b.set(g.key,g):b.set(g.index,g),g=g.sibling;return b}function n(b,g){return b=dr(b,g),b.index=0,b.sibling=null,b}function l(b,g,v){return b.index=v,e?(v=b.alternate,v!==null?(v=v.index,v<g?(b.flags|=2,g):v):(b.flags|=2,g)):(b.flags|=1048576,g)}function i(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,g,v,j){return g===null||g.tag!==6?(g=Bo(v,b.mode,j),g.return=b,g):(g=n(g,v),g.return=b,g)}function c(b,g,v,j){var S=v.type;return S===ia?u(b,g,v.props.children,j,v.key):g!==null&&(g.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$s&&bm(S)===g.type)?(j=n(g,v.props),j.ref=hn(b,g,v),j.return=b,j):(j=Yl(v.type,v.key,v.props,null,b.mode,j),j.ref=hn(b,g,v),j.return=b,j)}function d(b,g,v,j){return g===null||g.tag!==4||g.stateNode.containerInfo!==v.containerInfo||g.stateNode.implementation!==v.implementation?(g=zo(v,b.mode,j),g.return=b,g):(g=n(g,v.children||[]),g.return=b,g)}function u(b,g,v,j,S){return g===null||g.tag!==7?(g=qr(v,b.mode,j,S),g.return=b,g):(g=n(g,v),g.return=b,g)}function h(b,g,v){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Bo(""+g,b.mode,v),g.return=b,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case vl:return v=Yl(g.type,g.key,g.props,null,b.mode,v),v.ref=hn(b,null,g),v.return=b,v;case la:return g=zo(g,b.mode,v),g.return=b,g;case $s:var j=g._init;return h(b,j(g._payload),v)}if(bn(g)||on(g))return g=qr(g,b.mode,v,null),g.return=b,g;Ml(b,g)}return null}function x(b,g,v,j){var S=g!==null?g.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return S!==null?null:o(b,g,""+v,j);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case vl:return v.key===S?c(b,g,v,j):null;case la:return v.key===S?d(b,g,v,j):null;case $s:return S=v._init,x(b,g,S(v._payload),j)}if(bn(v)||on(v))return S!==null?null:u(b,g,v,j,null);Ml(b,v)}return null}function y(b,g,v,j,S){if(typeof j=="string"&&j!==""||typeof j=="number")return b=b.get(v)||null,o(g,b,""+j,S);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case vl:return b=b.get(j.key===null?v:j.key)||null,c(g,b,j,S);case la:return b=b.get(j.key===null?v:j.key)||null,d(g,b,j,S);case $s:var k=j._init;return y(b,g,v,k(j._payload),S)}if(bn(j)||on(j))return b=b.get(v)||null,u(g,b,j,S,null);Ml(g,j)}return null}function m(b,g,v,j){for(var S=null,k=null,w=g,D=g=0,O=null;w!==null&&D<v.length;D++){w.index>D?(O=w,w=null):O=w.sibling;var C=x(b,w,v[D],j);if(C===null){w===null&&(w=O);break}e&&w&&C.alternate===null&&s(b,w),g=l(C,g,D),k===null?S=C:k.sibling=C,k=C,w=O}if(D===v.length)return r(b,w),ke&&Sr(b,D),S;if(w===null){for(;D<v.length;D++)w=h(b,v[D],j),w!==null&&(g=l(w,g,D),k===null?S=w:k.sibling=w,k=w);return ke&&Sr(b,D),S}for(w=a(b,w);D<v.length;D++)O=y(w,b,D,v[D],j),O!==null&&(e&&O.alternate!==null&&w.delete(O.key===null?D:O.key),g=l(O,g,D),k===null?S=O:k.sibling=O,k=O);return e&&w.forEach(function(P){return s(b,P)}),ke&&Sr(b,D),S}function p(b,g,v,j){var S=on(v);if(typeof S!="function")throw Error(z(150));if(v=S.call(v),v==null)throw Error(z(151));for(var k=S=null,w=g,D=g=0,O=null,C=v.next();w!==null&&!C.done;D++,C=v.next()){w.index>D?(O=w,w=null):O=w.sibling;var P=x(b,w,C.value,j);if(P===null){w===null&&(w=O);break}e&&w&&P.alternate===null&&s(b,w),g=l(P,g,D),k===null?S=P:k.sibling=P,k=P,w=O}if(C.done)return r(b,w),ke&&Sr(b,D),S;if(w===null){for(;!C.done;D++,C=v.next())C=h(b,C.value,j),C!==null&&(g=l(C,g,D),k===null?S=C:k.sibling=C,k=C);return ke&&Sr(b,D),S}for(w=a(b,w);!C.done;D++,C=v.next())C=y(w,b,D,C.value,j),C!==null&&(e&&C.alternate!==null&&w.delete(C.key===null?D:C.key),g=l(C,g,D),k===null?S=C:k.sibling=C,k=C);return e&&w.forEach(function(R){return s(b,R)}),ke&&Sr(b,D),S}function f(b,g,v,j){if(typeof v=="object"&&v!==null&&v.type===ia&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case vl:e:{for(var S=v.key,k=g;k!==null;){if(k.key===S){if(S=v.type,S===ia){if(k.tag===7){r(b,k.sibling),g=n(k,v.props.children),g.return=b,b=g;break e}}else if(k.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===$s&&bm(S)===k.type){r(b,k.sibling),g=n(k,v.props),g.ref=hn(b,k,v),g.return=b,b=g;break e}r(b,k);break}else s(b,k);k=k.sibling}v.type===ia?(g=qr(v.props.children,b.mode,j,v.key),g.return=b,b=g):(j=Yl(v.type,v.key,v.props,null,b.mode,j),j.ref=hn(b,g,v),j.return=b,b=j)}return i(b);case la:e:{for(k=v.key;g!==null;){if(g.key===k)if(g.tag===4&&g.stateNode.containerInfo===v.containerInfo&&g.stateNode.implementation===v.implementation){r(b,g.sibling),g=n(g,v.children||[]),g.return=b,b=g;break e}else{r(b,g);break}else s(b,g);g=g.sibling}g=zo(v,b.mode,j),g.return=b,b=g}return i(b);case $s:return k=v._init,f(b,g,k(v._payload),j)}if(bn(v))return m(b,g,v,j);if(on(v))return p(b,g,v,j);Ml(b,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,g!==null&&g.tag===6?(r(b,g.sibling),g=n(g,v),g.return=b,b=g):(r(b,g),g=Bo(v,b.mode,j),g.return=b,b=g),i(b)):r(b,g)}return f}var Ua=ax(!0),nx=ax(!1),yi=br(null),bi=null,xa=null,zd=null;function qd(){zd=xa=bi=null}function Hd(e){var s=yi.current;Ne(yi),e._currentValue=s}function wc(e,s,r){for(;e!==null;){var a=e.alternate;if((e.childLanes&s)!==s?(e.childLanes|=s,a!==null&&(a.childLanes|=s)):a!==null&&(a.childLanes&s)!==s&&(a.childLanes|=s),e===r)break;e=e.return}}function Na(e,s){bi=e,zd=xa=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&s&&(yt=!0),e.firstContext=null)}function zt(e){var s=e._currentValue;if(zd!==e)if(e={context:e,memoizedValue:s,next:null},xa===null){if(bi===null)throw Error(z(308));xa=e,bi.dependencies={lanes:0,firstContext:e}}else xa=xa.next=e;return s}var Er=null;function Qd(e){Er===null?Er=[e]:Er.push(e)}function lx(e,s,r,a){var n=s.interleaved;return n===null?(r.next=r,Qd(s)):(r.next=n.next,n.next=r),s.interleaved=r,Ds(e,a)}function Ds(e,s){e.lanes|=s;var r=e.alternate;for(r!==null&&(r.lanes|=s),r=e,e=e.return;e!==null;)e.childLanes|=s,r=e.alternate,r!==null&&(r.childLanes|=s),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Bs=!1;function Kd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ix(e,s){e=e.updateQueue,s.updateQueue===e&&(s.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ss(e,s){return{eventTime:e,lane:s,tag:0,payload:null,callback:null,next:null}}function ir(e,s,r){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ue&2){var n=a.pending;return n===null?s.next=s:(s.next=n.next,n.next=s),a.pending=s,Ds(e,r)}return n=a.interleaved,n===null?(s.next=s,Qd(a)):(s.next=n.next,n.next=s),a.interleaved=s,Ds(e,r)}function Ql(e,s,r){if(s=s.updateQueue,s!==null&&(s=s.shared,(r&4194240)!==0)){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Md(e,r)}}function vm(e,s){var r=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,r===a)){var n=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?n=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?n=l=s:l=l.next=s}else n=l=s;r={baseState:a.baseState,firstBaseUpdate:n,lastBaseUpdate:l,shared:a.shared,effects:a.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=s:e.next=s,r.lastBaseUpdate=s}function vi(e,s,r,a){var n=e.updateQueue;Bs=!1;var l=n.firstBaseUpdate,i=n.lastBaseUpdate,o=n.shared.pending;if(o!==null){n.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var h=n.baseState;i=0,u=d=c=null,o=l;do{var x=o.lane,y=o.eventTime;if((a&x)===x){u!==null&&(u=u.next={eventTime:y,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(x=s,y=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(y,h,x);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,x=typeof m=="function"?m.call(y,h,x):m,x==null)break e;h=Ee({},h,x);break e;case 2:Bs=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=n.effects,x===null?n.effects=[o]:x.push(o))}else y={eventTime:y,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=y,c=h):u=u.next=y,i|=x;if(o=o.next,o===null){if(o=n.shared.pending,o===null)break;x=o,o=x.next,x.next=null,n.lastBaseUpdate=x,n.shared.pending=null}}while(!0);if(u===null&&(c=h),n.baseState=c,n.firstBaseUpdate=d,n.lastBaseUpdate=u,s=n.shared.interleaved,s!==null){n=s;do i|=n.lane,n=n.next;while(n!==s)}else l===null&&(n.shared.lanes=0);Vr|=i,e.lanes=i,e.memoizedState=h}}function jm(e,s,r){if(e=s.effects,s.effects=null,e!==null)for(s=0;s<e.length;s++){var a=e[s],n=a.callback;if(n!==null){if(a.callback=null,a=r,typeof n!="function")throw Error(z(191,n));n.call(a)}}}var dl={},ms=br(dl),Qn=br(dl),Kn=br(dl);function Dr(e){if(e===dl)throw Error(z(174));return e}function Wd(e,s){switch(ve(Kn,s),ve(Qn,e),ve(ms,dl),e=s.nodeType,e){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:ac(null,"");break;default:e=e===8?s.parentNode:s,s=e.namespaceURI||null,e=e.tagName,s=ac(s,e)}Ne(ms),ve(ms,s)}function $a(){Ne(ms),Ne(Qn),Ne(Kn)}function ox(e){Dr(Kn.current);var s=Dr(ms.current),r=ac(s,e.type);s!==r&&(ve(Qn,e),ve(ms,r))}function Vd(e){Qn.current===e&&(Ne(ms),Ne(Qn))}var Se=br(0);function ji(e){for(var s=e;s!==null;){if(s.tag===13){var r=s.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Oo=[];function Gd(){for(var e=0;e<Oo.length;e++)Oo[e]._workInProgressVersionPrimary=null;Oo.length=0}var Kl=As.ReactCurrentDispatcher,Lo=As.ReactCurrentBatchConfig,Wr=0,Pe=null,Be=null,Ke=null,Ni=!1,Dn=!1,Wn=0,py=0;function st(){throw Error(z(321))}function Jd(e,s){if(s===null)return!1;for(var r=0;r<s.length&&r<e.length;r++)if(!Xt(e[r],s[r]))return!1;return!0}function Yd(e,s,r,a,n,l){if(Wr=l,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Kl.current=e===null||e.memoizedState===null?yy:by,e=r(a,n),Dn){l=0;do{if(Dn=!1,Wn=0,25<=l)throw Error(z(301));l+=1,Ke=Be=null,s.updateQueue=null,Kl.current=vy,e=r(a,n)}while(Dn)}if(Kl.current=ki,s=Be!==null&&Be.next!==null,Wr=0,Ke=Be=Pe=null,Ni=!1,s)throw Error(z(300));return e}function Xd(){var e=Wn!==0;return Wn=0,e}function ns(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e,Ke}function qt(){if(Be===null){var e=Pe.alternate;e=e!==null?e.memoizedState:null}else e=Be.next;var s=Ke===null?Pe.memoizedState:Ke.next;if(s!==null)Ke=s,Be=e;else{if(e===null)throw Error(z(310));Be=e,e={memoizedState:Be.memoizedState,baseState:Be.baseState,baseQueue:Be.baseQueue,queue:Be.queue,next:null},Ke===null?Pe.memoizedState=Ke=e:Ke=Ke.next=e}return Ke}function Vn(e,s){return typeof s=="function"?s(e):s}function _o(e){var s=qt(),r=s.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var a=Be,n=a.baseQueue,l=r.pending;if(l!==null){if(n!==null){var i=n.next;n.next=l.next,l.next=i}a.baseQueue=n=l,r.pending=null}if(n!==null){l=n.next,a=a.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Wr&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),a=d.hasEagerState?d.eagerState:e(a,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,i=a):c=c.next=h,Pe.lanes|=u,Vr|=u}d=d.next}while(d!==null&&d!==l);c===null?i=a:c.next=o,Xt(a,s.memoizedState)||(yt=!0),s.memoizedState=a,s.baseState=i,s.baseQueue=c,r.lastRenderedState=a}if(e=r.interleaved,e!==null){n=e;do l=n.lane,Pe.lanes|=l,Vr|=l,n=n.next;while(n!==e)}else n===null&&(r.lanes=0);return[s.memoizedState,r.dispatch]}function Io(e){var s=qt(),r=s.queue;if(r===null)throw Error(z(311));r.lastRenderedReducer=e;var a=r.dispatch,n=r.pending,l=s.memoizedState;if(n!==null){r.pending=null;var i=n=n.next;do l=e(l,i.action),i=i.next;while(i!==n);Xt(l,s.memoizedState)||(yt=!0),s.memoizedState=l,s.baseQueue===null&&(s.baseState=l),r.lastRenderedState=l}return[l,a]}function cx(){}function dx(e,s){var r=Pe,a=qt(),n=s(),l=!Xt(a.memoizedState,n);if(l&&(a.memoizedState=n,yt=!0),a=a.queue,Zd(hx.bind(null,r,a,e),[e]),a.getSnapshot!==s||l||Ke!==null&&Ke.memoizedState.tag&1){if(r.flags|=2048,Gn(9,mx.bind(null,r,a,n,s),void 0,null),Ve===null)throw Error(z(349));Wr&30||ux(r,s,n)}return n}function ux(e,s,r){e.flags|=16384,e={getSnapshot:s,value:r},s=Pe.updateQueue,s===null?(s={lastEffect:null,stores:null},Pe.updateQueue=s,s.stores=[e]):(r=s.stores,r===null?s.stores=[e]:r.push(e))}function mx(e,s,r,a){s.value=r,s.getSnapshot=a,px(s)&&xx(e)}function hx(e,s,r){return r(function(){px(s)&&xx(e)})}function px(e){var s=e.getSnapshot;e=e.value;try{var r=s();return!Xt(e,r)}catch{return!0}}function xx(e){var s=Ds(e,1);s!==null&&Yt(s,e,1,-1)}function Nm(e){var s=ns();return typeof e=="function"&&(e=e()),s.memoizedState=s.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vn,lastRenderedState:e},s.queue=e,e=e.dispatch=gy.bind(null,Pe,e),[s.memoizedState,e]}function Gn(e,s,r,a){return e={tag:e,create:s,destroy:r,deps:a,next:null},s=Pe.updateQueue,s===null?(s={lastEffect:null,stores:null},Pe.updateQueue=s,s.lastEffect=e.next=e):(r=s.lastEffect,r===null?s.lastEffect=e.next=e:(a=r.next,r.next=e,e.next=a,s.lastEffect=e)),e}function fx(){return qt().memoizedState}function Wl(e,s,r,a){var n=ns();Pe.flags|=e,n.memoizedState=Gn(1|s,r,void 0,a===void 0?null:a)}function Qi(e,s,r,a){var n=qt();a=a===void 0?null:a;var l=void 0;if(Be!==null){var i=Be.memoizedState;if(l=i.destroy,a!==null&&Jd(a,i.deps)){n.memoizedState=Gn(s,r,l,a);return}}Pe.flags|=e,n.memoizedState=Gn(1|s,r,l,a)}function km(e,s){return Wl(8390656,8,e,s)}function Zd(e,s){return Qi(2048,8,e,s)}function gx(e,s){return Qi(4,2,e,s)}function yx(e,s){return Qi(4,4,e,s)}function bx(e,s){if(typeof s=="function")return e=e(),s(e),function(){s(null)};if(s!=null)return e=e(),s.current=e,function(){s.current=null}}function vx(e,s,r){return r=r!=null?r.concat([e]):null,Qi(4,4,bx.bind(null,s,e),r)}function eu(){}function jx(e,s){var r=qt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Jd(s,a[1])?a[0]:(r.memoizedState=[e,s],e)}function Nx(e,s){var r=qt();s=s===void 0?null:s;var a=r.memoizedState;return a!==null&&s!==null&&Jd(s,a[1])?a[0]:(e=e(),r.memoizedState=[e,s],e)}function kx(e,s,r){return Wr&21?(Xt(r,s)||(r=Ep(),Pe.lanes|=r,Vr|=r,e.baseState=!0),s):(e.baseState&&(e.baseState=!1,yt=!0),e.memoizedState=r)}function xy(e,s){var r=xe;xe=r!==0&&4>r?r:4,e(!0);var a=Lo.transition;Lo.transition={};try{e(!1),s()}finally{xe=r,Lo.transition=a}}function wx(){return qt().memoizedState}function fy(e,s,r){var a=cr(e);if(r={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null},Sx(e))Cx(s,r);else if(r=lx(e,s,r,a),r!==null){var n=mt();Yt(r,e,a,n),Px(r,s,a)}}function gy(e,s,r){var a=cr(e),n={lane:a,action:r,hasEagerState:!1,eagerState:null,next:null};if(Sx(e))Cx(s,n);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=s.lastRenderedReducer,l!==null))try{var i=s.lastRenderedState,o=l(i,r);if(n.hasEagerState=!0,n.eagerState=o,Xt(o,i)){var c=s.interleaved;c===null?(n.next=n,Qd(s)):(n.next=c.next,c.next=n),s.interleaved=n;return}}catch{}finally{}r=lx(e,s,n,a),r!==null&&(n=mt(),Yt(r,e,a,n),Px(r,s,a))}}function Sx(e){var s=e.alternate;return e===Pe||s!==null&&s===Pe}function Cx(e,s){Dn=Ni=!0;var r=e.pending;r===null?s.next=s:(s.next=r.next,r.next=s),e.pending=s}function Px(e,s,r){if(r&4194240){var a=s.lanes;a&=e.pendingLanes,r|=a,s.lanes=r,Md(e,r)}}var ki={readContext:zt,useCallback:st,useContext:st,useEffect:st,useImperativeHandle:st,useInsertionEffect:st,useLayoutEffect:st,useMemo:st,useReducer:st,useRef:st,useState:st,useDebugValue:st,useDeferredValue:st,useTransition:st,useMutableSource:st,useSyncExternalStore:st,useId:st,unstable_isNewReconciler:!1},yy={readContext:zt,useCallback:function(e,s){return ns().memoizedState=[e,s===void 0?null:s],e},useContext:zt,useEffect:km,useImperativeHandle:function(e,s,r){return r=r!=null?r.concat([e]):null,Wl(4194308,4,bx.bind(null,s,e),r)},useLayoutEffect:function(e,s){return Wl(4194308,4,e,s)},useInsertionEffect:function(e,s){return Wl(4,2,e,s)},useMemo:function(e,s){var r=ns();return s=s===void 0?null:s,e=e(),r.memoizedState=[e,s],e},useReducer:function(e,s,r){var a=ns();return s=r!==void 0?r(s):s,a.memoizedState=a.baseState=s,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},a.queue=e,e=e.dispatch=fy.bind(null,Pe,e),[a.memoizedState,e]},useRef:function(e){var s=ns();return e={current:e},s.memoizedState=e},useState:Nm,useDebugValue:eu,useDeferredValue:function(e){return ns().memoizedState=e},useTransition:function(){var e=Nm(!1),s=e[0];return e=xy.bind(null,e[1]),ns().memoizedState=e,[s,e]},useMutableSource:function(){},useSyncExternalStore:function(e,s,r){var a=Pe,n=ns();if(ke){if(r===void 0)throw Error(z(407));r=r()}else{if(r=s(),Ve===null)throw Error(z(349));Wr&30||ux(a,s,r)}n.memoizedState=r;var l={value:r,getSnapshot:s};return n.queue=l,km(hx.bind(null,a,l,e),[e]),a.flags|=2048,Gn(9,mx.bind(null,a,l,r,s),void 0,null),r},useId:function(){var e=ns(),s=Ve.identifierPrefix;if(ke){var r=ws,a=ks;r=(a&~(1<<32-Jt(a)-1)).toString(32)+r,s=":"+s+"R"+r,r=Wn++,0<r&&(s+="H"+r.toString(32)),s+=":"}else r=py++,s=":"+s+"r"+r.toString(32)+":";return e.memoizedState=s},unstable_isNewReconciler:!1},by={readContext:zt,useCallback:jx,useContext:zt,useEffect:Zd,useImperativeHandle:vx,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:Nx,useReducer:_o,useRef:fx,useState:function(){return _o(Vn)},useDebugValue:eu,useDeferredValue:function(e){var s=qt();return kx(s,Be.memoizedState,e)},useTransition:function(){var e=_o(Vn)[0],s=qt().memoizedState;return[e,s]},useMutableSource:cx,useSyncExternalStore:dx,useId:wx,unstable_isNewReconciler:!1},vy={readContext:zt,useCallback:jx,useContext:zt,useEffect:Zd,useImperativeHandle:vx,useInsertionEffect:gx,useLayoutEffect:yx,useMemo:Nx,useReducer:Io,useRef:fx,useState:function(){return Io(Vn)},useDebugValue:eu,useDeferredValue:function(e){var s=qt();return Be===null?s.memoizedState=e:kx(s,Be.memoizedState,e)},useTransition:function(){var e=Io(Vn)[0],s=qt().memoizedState;return[e,s]},useMutableSource:cx,useSyncExternalStore:dx,useId:wx,unstable_isNewReconciler:!1};function Qt(e,s){if(e&&e.defaultProps){s=Ee({},s),e=e.defaultProps;for(var r in e)s[r]===void 0&&(s[r]=e[r]);return s}return s}function Sc(e,s,r,a){s=e.memoizedState,r=r(a,s),r=r==null?s:Ee({},s,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ki={isMounted:function(e){return(e=e._reactInternals)?ta(e)===e:!1},enqueueSetState:function(e,s,r){e=e._reactInternals;var a=mt(),n=cr(e),l=Ss(a,n);l.payload=s,r!=null&&(l.callback=r),s=ir(e,l,n),s!==null&&(Yt(s,e,n,a),Ql(s,e,n))},enqueueReplaceState:function(e,s,r){e=e._reactInternals;var a=mt(),n=cr(e),l=Ss(a,n);l.tag=1,l.payload=s,r!=null&&(l.callback=r),s=ir(e,l,n),s!==null&&(Yt(s,e,n,a),Ql(s,e,n))},enqueueForceUpdate:function(e,s){e=e._reactInternals;var r=mt(),a=cr(e),n=Ss(r,a);n.tag=2,s!=null&&(n.callback=s),s=ir(e,n,a),s!==null&&(Yt(s,e,a,r),Ql(s,e,a))}};function wm(e,s,r,a,n,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,l,i):s.prototype&&s.prototype.isPureReactComponent?!Bn(r,a)||!Bn(n,l):!0}function Ex(e,s,r){var a=!1,n=pr,l=s.contextType;return typeof l=="object"&&l!==null?l=zt(l):(n=jt(s)?Qr:lt.current,a=s.contextTypes,l=(a=a!=null)?_a(e,n):pr),s=new s(r,l),e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Ki,e.stateNode=s,s._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=l),s}function Sm(e,s,r,a){e=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(r,a),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(r,a),s.state!==e&&Ki.enqueueReplaceState(s,s.state,null)}function Cc(e,s,r,a){var n=e.stateNode;n.props=r,n.state=e.memoizedState,n.refs={},Kd(e);var l=s.contextType;typeof l=="object"&&l!==null?n.context=zt(l):(l=jt(s)?Qr:lt.current,n.context=_a(e,l)),n.state=e.memoizedState,l=s.getDerivedStateFromProps,typeof l=="function"&&(Sc(e,s,l,r),n.state=e.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof n.getSnapshotBeforeUpdate=="function"||typeof n.UNSAFE_componentWillMount!="function"&&typeof n.componentWillMount!="function"||(s=n.state,typeof n.componentWillMount=="function"&&n.componentWillMount(),typeof n.UNSAFE_componentWillMount=="function"&&n.UNSAFE_componentWillMount(),s!==n.state&&Ki.enqueueReplaceState(n,n.state,null),vi(e,r,n,a),n.state=e.memoizedState),typeof n.componentDidMount=="function"&&(e.flags|=4194308)}function Ba(e,s){try{var r="",a=s;do r+=V0(a),a=a.return;while(a);var n=r}catch(l){n=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:s,stack:n,digest:null}}function Uo(e,s,r){return{value:e,source:null,stack:r??null,digest:s??null}}function Pc(e,s){try{console.error(s.value)}catch(r){setTimeout(function(){throw r})}}var jy=typeof WeakMap=="function"?WeakMap:Map;function Dx(e,s,r){r=Ss(-1,r),r.tag=3,r.payload={element:null};var a=s.value;return r.callback=function(){Si||(Si=!0,_c=a),Pc(e,s)},r}function Rx(e,s,r){r=Ss(-1,r),r.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var n=s.value;r.payload=function(){return a(n)},r.callback=function(){Pc(e,s)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){Pc(e,s),typeof a!="function"&&(or===null?or=new Set([this]):or.add(this));var i=s.stack;this.componentDidCatch(s.value,{componentStack:i!==null?i:""})}),r}function Cm(e,s,r){var a=e.pingCache;if(a===null){a=e.pingCache=new jy;var n=new Set;a.set(s,n)}else n=a.get(s),n===void 0&&(n=new Set,a.set(s,n));n.has(r)||(n.add(r),e=Oy.bind(null,e,s,r),s.then(e,e))}function Pm(e){do{var s;if((s=e.tag===13)&&(s=e.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return e;e=e.return}while(e!==null);return null}function Em(e,s,r,a,n){return e.mode&1?(e.flags|=65536,e.lanes=n,e):(e===s?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(s=Ss(-1,1),s.tag=2,ir(r,s,1))),r.lanes|=1),e)}var Ny=As.ReactCurrentOwner,yt=!1;function dt(e,s,r,a){s.child=e===null?nx(s,null,r,a):Ua(s,e.child,r,a)}function Dm(e,s,r,a,n){r=r.render;var l=s.ref;return Na(s,n),a=Yd(e,s,r,a,l,n),r=Xd(),e!==null&&!yt?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,Rs(e,s,n)):(ke&&r&&Ud(s),s.flags|=1,dt(e,s,a,n),s.child)}function Rm(e,s,r,a,n){if(e===null){var l=r.type;return typeof l=="function"&&!ou(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(s.tag=15,s.type=l,Mx(e,s,l,a,n)):(e=Yl(r.type,null,a,s,s.mode,n),e.ref=s.ref,e.return=s,s.child=e)}if(l=e.child,!(e.lanes&n)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Bn,r(i,a)&&e.ref===s.ref)return Rs(e,s,n)}return s.flags|=1,e=dr(l,a),e.ref=s.ref,e.return=s,s.child=e}function Mx(e,s,r,a,n){if(e!==null){var l=e.memoizedProps;if(Bn(l,a)&&e.ref===s.ref)if(yt=!1,s.pendingProps=a=l,(e.lanes&n)!==0)e.flags&131072&&(yt=!0);else return s.lanes=e.lanes,Rs(e,s,n)}return Ec(e,s,r,a,n)}function Fx(e,s,r){var a=s.pendingProps,n=a.children,l=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(ga,Pt),Pt|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:e,cachePool:null,transitions:null},s.updateQueue=null,ve(ga,Pt),Pt|=e,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=l!==null?l.baseLanes:r,ve(ga,Pt),Pt|=a}else l!==null?(a=l.baseLanes|r,s.memoizedState=null):a=r,ve(ga,Pt),Pt|=a;return dt(e,s,n,r),s.child}function Tx(e,s){var r=s.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(s.flags|=512,s.flags|=2097152)}function Ec(e,s,r,a,n){var l=jt(r)?Qr:lt.current;return l=_a(s,l),Na(s,n),r=Yd(e,s,r,a,l,n),a=Xd(),e!==null&&!yt?(s.updateQueue=e.updateQueue,s.flags&=-2053,e.lanes&=~n,Rs(e,s,n)):(ke&&a&&Ud(s),s.flags|=1,dt(e,s,r,n),s.child)}function Mm(e,s,r,a,n){if(jt(r)){var l=!0;xi(s)}else l=!1;if(Na(s,n),s.stateNode===null)Vl(e,s),Ex(s,r,a),Cc(s,r,a,n),a=!0;else if(e===null){var i=s.stateNode,o=s.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=zt(d):(d=jt(r)?Qr:lt.current,d=_a(s,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==a||c!==d)&&Sm(s,i,a,d),Bs=!1;var x=s.memoizedState;i.state=x,vi(s,a,i,n),c=s.memoizedState,o!==a||x!==c||vt.current||Bs?(typeof u=="function"&&(Sc(s,r,u,a),c=s.memoizedState),(o=Bs||wm(s,r,o,a,x,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(s.flags|=4194308)):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=a,s.memoizedState=c),i.props=a,i.state=c,i.context=d,a=o):(typeof i.componentDidMount=="function"&&(s.flags|=4194308),a=!1)}else{i=s.stateNode,ix(e,s),o=s.memoizedProps,d=s.type===s.elementType?o:Qt(s.type,o),i.props=d,h=s.pendingProps,x=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=zt(c):(c=jt(r)?Qr:lt.current,c=_a(s,c));var y=r.getDerivedStateFromProps;(u=typeof y=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||x!==c)&&Sm(s,i,a,c),Bs=!1,x=s.memoizedState,i.state=x,vi(s,a,i,n);var m=s.memoizedState;o!==h||x!==m||vt.current||Bs?(typeof y=="function"&&(Sc(s,r,y,a),m=s.memoizedState),(d=Bs||wm(s,r,d,a,x,m,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(a,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(a,m,c)),typeof i.componentDidUpdate=="function"&&(s.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=1024),s.memoizedProps=a,s.memoizedState=m),i.props=a,i.state=m,i.context=c,a=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(s.flags|=1024),a=!1)}return Dc(e,s,r,a,l,n)}function Dc(e,s,r,a,n,l){Tx(e,s);var i=(s.flags&128)!==0;if(!a&&!i)return n&&fm(s,r,!1),Rs(e,s,l);a=s.stateNode,Ny.current=s;var o=i&&typeof r.getDerivedStateFromError!="function"?null:a.render();return s.flags|=1,e!==null&&i?(s.child=Ua(s,e.child,null,l),s.child=Ua(s,null,o,l)):dt(e,s,o,l),s.memoizedState=a.state,n&&fm(s,r,!0),s.child}function Ax(e){var s=e.stateNode;s.pendingContext?xm(e,s.pendingContext,s.pendingContext!==s.context):s.context&&xm(e,s.context,!1),Wd(e,s.containerInfo)}function Fm(e,s,r,a,n){return Ia(),Bd(n),s.flags|=256,dt(e,s,r,a),s.child}var Rc={dehydrated:null,treeContext:null,retryLane:0};function Mc(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ox(e,s,r){var a=s.pendingProps,n=Se.current,l=!1,i=(s.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(n&2)!==0),o?(l=!0,s.flags&=-129):(e===null||e.memoizedState!==null)&&(n|=1),ve(Se,n&1),e===null)return kc(s),e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(s.mode&1?e.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(i=a.children,e=a.fallback,l?(a=s.mode,l=s.child,i={mode:"hidden",children:i},!(a&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Gi(i,a,0,null),e=qr(e,a,r,null),l.return=s,e.return=s,l.sibling=e,s.child=l,s.child.memoizedState=Mc(r),s.memoizedState=Rc,e):tu(s,i));if(n=e.memoizedState,n!==null&&(o=n.dehydrated,o!==null))return ky(e,s,i,a,o,n,r);if(l){l=a.fallback,i=s.mode,n=e.child,o=n.sibling;var c={mode:"hidden",children:a.children};return!(i&1)&&s.child!==n?(a=s.child,a.childLanes=0,a.pendingProps=c,s.deletions=null):(a=dr(n,c),a.subtreeFlags=n.subtreeFlags&14680064),o!==null?l=dr(o,l):(l=qr(l,i,r,null),l.flags|=2),l.return=s,a.return=s,a.sibling=l,s.child=a,a=l,l=s.child,i=e.child.memoizedState,i=i===null?Mc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,s.memoizedState=Rc,a}return l=e.child,e=l.sibling,a=dr(l,{mode:"visible",children:a.children}),!(s.mode&1)&&(a.lanes=r),a.return=s,a.sibling=null,e!==null&&(r=s.deletions,r===null?(s.deletions=[e],s.flags|=16):r.push(e)),s.child=a,s.memoizedState=null,a}function tu(e,s){return s=Gi({mode:"visible",children:s},e.mode,0,null),s.return=e,e.child=s}function Fl(e,s,r,a){return a!==null&&Bd(a),Ua(s,e.child,null,r),e=tu(s,s.pendingProps.children),e.flags|=2,s.memoizedState=null,e}function ky(e,s,r,a,n,l,i){if(r)return s.flags&256?(s.flags&=-257,a=Uo(Error(z(422))),Fl(e,s,i,a)):s.memoizedState!==null?(s.child=e.child,s.flags|=128,null):(l=a.fallback,n=s.mode,a=Gi({mode:"visible",children:a.children},n,0,null),l=qr(l,n,i,null),l.flags|=2,a.return=s,l.return=s,a.sibling=l,s.child=a,s.mode&1&&Ua(s,e.child,null,i),s.child.memoizedState=Mc(i),s.memoizedState=Rc,l);if(!(s.mode&1))return Fl(e,s,i,null);if(n.data==="$!"){if(a=n.nextSibling&&n.nextSibling.dataset,a)var o=a.dgst;return a=o,l=Error(z(419)),a=Uo(l,a,void 0),Fl(e,s,i,a)}if(o=(i&e.childLanes)!==0,yt||o){if(a=Ve,a!==null){switch(i&-i){case 4:n=2;break;case 16:n=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:n=32;break;case 536870912:n=268435456;break;default:n=0}n=n&(a.suspendedLanes|i)?0:n,n!==0&&n!==l.retryLane&&(l.retryLane=n,Ds(e,n),Yt(a,e,n,-1))}return iu(),a=Uo(Error(z(421))),Fl(e,s,i,a)}return n.data==="$?"?(s.flags|=128,s.child=e.child,s=Ly.bind(null,e),n._reactRetry=s,null):(e=l.treeContext,Et=lr(n.nextSibling),Dt=s,ke=!0,Gt=null,e!==null&&(It[Ut++]=ks,It[Ut++]=ws,It[Ut++]=Kr,ks=e.id,ws=e.overflow,Kr=s),s=tu(s,a.children),s.flags|=4096,s)}function Tm(e,s,r){e.lanes|=s;var a=e.alternate;a!==null&&(a.lanes|=s),wc(e.return,s,r)}function $o(e,s,r,a,n){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:a,tail:r,tailMode:n}:(l.isBackwards=s,l.rendering=null,l.renderingStartTime=0,l.last=a,l.tail=r,l.tailMode=n)}function Lx(e,s,r){var a=s.pendingProps,n=a.revealOrder,l=a.tail;if(dt(e,s,a.children,r),a=Se.current,a&2)a=a&1|2,s.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=s.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Tm(e,r,s);else if(e.tag===19)Tm(e,r,s);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===s)break e;for(;e.sibling===null;){if(e.return===null||e.return===s)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ve(Se,a),!(s.mode&1))s.memoizedState=null;else switch(n){case"forwards":for(r=s.child,n=null;r!==null;)e=r.alternate,e!==null&&ji(e)===null&&(n=r),r=r.sibling;r=n,r===null?(n=s.child,s.child=null):(n=r.sibling,r.sibling=null),$o(s,!1,n,r,l);break;case"backwards":for(r=null,n=s.child,s.child=null;n!==null;){if(e=n.alternate,e!==null&&ji(e)===null){s.child=n;break}e=n.sibling,n.sibling=r,r=n,n=e}$o(s,!0,r,null,l);break;case"together":$o(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Vl(e,s){!(s.mode&1)&&e!==null&&(e.alternate=null,s.alternate=null,s.flags|=2)}function Rs(e,s,r){if(e!==null&&(s.dependencies=e.dependencies),Vr|=s.lanes,!(r&s.childLanes))return null;if(e!==null&&s.child!==e.child)throw Error(z(153));if(s.child!==null){for(e=s.child,r=dr(e,e.pendingProps),s.child=r,r.return=s;e.sibling!==null;)e=e.sibling,r=r.sibling=dr(e,e.pendingProps),r.return=s;r.sibling=null}return s.child}function wy(e,s,r){switch(s.tag){case 3:Ax(s),Ia();break;case 5:ox(s);break;case 1:jt(s.type)&&xi(s);break;case 4:Wd(s,s.stateNode.containerInfo);break;case 10:var a=s.type._context,n=s.memoizedProps.value;ve(yi,a._currentValue),a._currentValue=n;break;case 13:if(a=s.memoizedState,a!==null)return a.dehydrated!==null?(ve(Se,Se.current&1),s.flags|=128,null):r&s.child.childLanes?Ox(e,s,r):(ve(Se,Se.current&1),e=Rs(e,s,r),e!==null?e.sibling:null);ve(Se,Se.current&1);break;case 19:if(a=(r&s.childLanes)!==0,e.flags&128){if(a)return Lx(e,s,r);s.flags|=128}if(n=s.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ve(Se,Se.current),a)break;return null;case 22:case 23:return s.lanes=0,Fx(e,s,r)}return Rs(e,s,r)}var _x,Fc,Ix,Ux;_x=function(e,s){for(var r=s.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Fc=function(){};Ix=function(e,s,r,a){var n=e.memoizedProps;if(n!==a){e=s.stateNode,Dr(ms.current);var l=null;switch(r){case"input":n=ec(e,n),a=ec(e,a),l=[];break;case"select":n=Ee({},n,{value:void 0}),a=Ee({},a,{value:void 0}),l=[];break;case"textarea":n=rc(e,n),a=rc(e,a),l=[];break;default:typeof n.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=hi)}nc(r,a);var i;r=null;for(d in n)if(!a.hasOwnProperty(d)&&n.hasOwnProperty(d)&&n[d]!=null)if(d==="style"){var o=n[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(An.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in a){var c=a[d];if(o=n!=null?n[d]:void 0,a.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(An.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&je("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(s.updateQueue=d)&&(s.flags|=4)}};Ux=function(e,s,r,a){r!==a&&(s.flags|=4)};function pn(e,s){if(!ke)switch(e.tailMode){case"hidden":s=e.tail;for(var r=null;s!==null;)s.alternate!==null&&(r=s),s=s.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?s||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function rt(e){var s=e.alternate!==null&&e.alternate.child===e.child,r=0,a=0;if(s)for(var n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags&14680064,a|=n.flags&14680064,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)r|=n.lanes|n.childLanes,a|=n.subtreeFlags,a|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=a,e.childLanes=r,s}function Sy(e,s,r){var a=s.pendingProps;switch($d(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(s),null;case 1:return jt(s.type)&&pi(),rt(s),null;case 3:return a=s.stateNode,$a(),Ne(vt),Ne(lt),Gd(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Rl(s)?s.flags|=4:e===null||e.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,Gt!==null&&($c(Gt),Gt=null))),Fc(e,s),rt(s),null;case 5:Vd(s);var n=Dr(Kn.current);if(r=s.type,e!==null&&s.stateNode!=null)Ix(e,s,r,a,n),e.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!a){if(s.stateNode===null)throw Error(z(166));return rt(s),null}if(e=Dr(ms.current),Rl(s)){a=s.stateNode,r=s.type;var l=s.memoizedProps;switch(a[cs]=s,a[Hn]=l,e=(s.mode&1)!==0,r){case"dialog":je("cancel",a),je("close",a);break;case"iframe":case"object":case"embed":je("load",a);break;case"video":case"audio":for(n=0;n<jn.length;n++)je(jn[n],a);break;case"source":je("error",a);break;case"img":case"image":case"link":je("error",a),je("load",a);break;case"details":je("toggle",a);break;case"input":zu(a,l),je("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!l.multiple},je("invalid",a);break;case"textarea":Hu(a,l),je("invalid",a)}nc(r,l),n=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?a.textContent!==o&&(l.suppressHydrationWarning!==!0&&Dl(a.textContent,o,e),n=["children",o]):typeof o=="number"&&a.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&Dl(a.textContent,o,e),n=["children",""+o]):An.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&je("scroll",a)}switch(r){case"input":jl(a),qu(a,l,!0);break;case"textarea":jl(a),Qu(a);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(a.onclick=hi)}a=n,s.updateQueue=a,a!==null&&(s.flags|=4)}else{i=n.nodeType===9?n:n.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=hp(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=i.createElement(r,{is:a.is}):(e=i.createElement(r),r==="select"&&(i=e,a.multiple?i.multiple=!0:a.size&&(i.size=a.size))):e=i.createElementNS(e,r),e[cs]=s,e[Hn]=a,_x(e,s,!1,!1),s.stateNode=e;e:{switch(i=lc(r,a),r){case"dialog":je("cancel",e),je("close",e),n=a;break;case"iframe":case"object":case"embed":je("load",e),n=a;break;case"video":case"audio":for(n=0;n<jn.length;n++)je(jn[n],e);n=a;break;case"source":je("error",e),n=a;break;case"img":case"image":case"link":je("error",e),je("load",e),n=a;break;case"details":je("toggle",e),n=a;break;case"input":zu(e,a),n=ec(e,a),je("invalid",e);break;case"option":n=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},n=Ee({},a,{value:void 0}),je("invalid",e);break;case"textarea":Hu(e,a),n=rc(e,a),je("invalid",e);break;default:n=a}nc(r,n),o=n;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?fp(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&pp(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&On(e,c):typeof c=="number"&&On(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(An.hasOwnProperty(l)?c!=null&&l==="onScroll"&&je("scroll",e):c!=null&&Sd(e,l,c,i))}switch(r){case"input":jl(e),qu(e,a,!1);break;case"textarea":jl(e),Qu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+hr(a.value));break;case"select":e.multiple=!!a.multiple,l=a.value,l!=null?ya(e,!!a.multiple,l,!1):a.defaultValue!=null&&ya(e,!!a.multiple,a.defaultValue,!0);break;default:typeof n.onClick=="function"&&(e.onclick=hi)}switch(r){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return rt(s),null;case 6:if(e&&s.stateNode!=null)Ux(e,s,e.memoizedProps,a);else{if(typeof a!="string"&&s.stateNode===null)throw Error(z(166));if(r=Dr(Kn.current),Dr(ms.current),Rl(s)){if(a=s.stateNode,r=s.memoizedProps,a[cs]=s,(l=a.nodeValue!==r)&&(e=Dt,e!==null))switch(e.tag){case 3:Dl(a.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Dl(a.nodeValue,r,(e.mode&1)!==0)}l&&(s.flags|=4)}else a=(r.nodeType===9?r:r.ownerDocument).createTextNode(a),a[cs]=s,s.stateNode=a}return rt(s),null;case 13:if(Ne(Se),a=s.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&Et!==null&&s.mode&1&&!(s.flags&128))rx(),Ia(),s.flags|=98560,l=!1;else if(l=Rl(s),a!==null&&a.dehydrated!==null){if(e===null){if(!l)throw Error(z(318));if(l=s.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(z(317));l[cs]=s}else Ia(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;rt(s),l=!1}else Gt!==null&&($c(Gt),Gt=null),l=!0;if(!l)return s.flags&65536?s:null}return s.flags&128?(s.lanes=r,s):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(s.child.flags|=8192,s.mode&1&&(e===null||Se.current&1?He===0&&(He=3):iu())),s.updateQueue!==null&&(s.flags|=4),rt(s),null);case 4:return $a(),Fc(e,s),e===null&&zn(s.stateNode.containerInfo),rt(s),null;case 10:return Hd(s.type._context),rt(s),null;case 17:return jt(s.type)&&pi(),rt(s),null;case 19:if(Ne(Se),l=s.memoizedState,l===null)return rt(s),null;if(a=(s.flags&128)!==0,i=l.rendering,i===null)if(a)pn(l,!1);else{if(He!==0||e!==null&&e.flags&128)for(e=s.child;e!==null;){if(i=ji(e),i!==null){for(s.flags|=128,pn(l,!1),a=i.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),s.subtreeFlags=0,a=r,r=s.child;r!==null;)l=r,e=a,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ve(Se,Se.current&1|2),s.child}e=e.sibling}l.tail!==null&&Te()>za&&(s.flags|=128,a=!0,pn(l,!1),s.lanes=4194304)}else{if(!a)if(e=ji(i),e!==null){if(s.flags|=128,a=!0,r=e.updateQueue,r!==null&&(s.updateQueue=r,s.flags|=4),pn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!ke)return rt(s),null}else 2*Te()-l.renderingStartTime>za&&r!==1073741824&&(s.flags|=128,a=!0,pn(l,!1),s.lanes=4194304);l.isBackwards?(i.sibling=s.child,s.child=i):(r=l.last,r!==null?r.sibling=i:s.child=i,l.last=i)}return l.tail!==null?(s=l.tail,l.rendering=s,l.tail=s.sibling,l.renderingStartTime=Te(),s.sibling=null,r=Se.current,ve(Se,a?r&1|2:r&1),s):(rt(s),null);case 22:case 23:return lu(),a=s.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(s.flags|=8192),a&&s.mode&1?Pt&1073741824&&(rt(s),s.subtreeFlags&6&&(s.flags|=8192)):rt(s),null;case 24:return null;case 25:return null}throw Error(z(156,s.tag))}function Cy(e,s){switch($d(s),s.tag){case 1:return jt(s.type)&&pi(),e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 3:return $a(),Ne(vt),Ne(lt),Gd(),e=s.flags,e&65536&&!(e&128)?(s.flags=e&-65537|128,s):null;case 5:return Vd(s),null;case 13:if(Ne(Se),e=s.memoizedState,e!==null&&e.dehydrated!==null){if(s.alternate===null)throw Error(z(340));Ia()}return e=s.flags,e&65536?(s.flags=e&-65537|128,s):null;case 19:return Ne(Se),null;case 4:return $a(),null;case 10:return Hd(s.type._context),null;case 22:case 23:return lu(),null;case 24:return null;default:return null}}var Tl=!1,at=!1,Py=typeof WeakSet=="function"?WeakSet:Set,V=null;function fa(e,s){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(a){Me(e,s,a)}else r.current=null}function Tc(e,s,r){try{r()}catch(a){Me(e,s,a)}}var Am=!1;function Ey(e,s){if(fc=di,e=Hp(),Id(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var a=r.getSelection&&r.getSelection();if(a&&a.rangeCount!==0){r=a.anchorNode;var n=a.anchorOffset,l=a.focusNode;a=a.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var y;h!==r||n!==0&&h.nodeType!==3||(o=i+n),h!==l||a!==0&&h.nodeType!==3||(c=i+a),h.nodeType===3&&(i+=h.nodeValue.length),(y=h.firstChild)!==null;)x=h,h=y;for(;;){if(h===e)break t;if(x===r&&++d===n&&(o=i),x===l&&++u===a&&(c=i),(y=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=y}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(gc={focusedElem:e,selectionRange:r},di=!1,V=s;V!==null;)if(s=V,e=s.child,(s.subtreeFlags&1028)!==0&&e!==null)e.return=s,V=e;else for(;V!==null;){s=V;try{var m=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,f=m.memoizedState,b=s.stateNode,g=b.getSnapshotBeforeUpdate(s.elementType===s.type?p:Qt(s.type,p),f);b.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var v=s.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(z(163))}}catch(j){Me(s,s.return,j)}if(e=s.sibling,e!==null){e.return=s.return,V=e;break}V=s.return}return m=Am,Am=!1,m}function Rn(e,s,r){var a=s.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var n=a=a.next;do{if((n.tag&e)===e){var l=n.destroy;n.destroy=void 0,l!==void 0&&Tc(s,r,l)}n=n.next}while(n!==a)}}function Wi(e,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var r=s=s.next;do{if((r.tag&e)===e){var a=r.create;r.destroy=a()}r=r.next}while(r!==s)}}function Ac(e){var s=e.ref;if(s!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof s=="function"?s(e):s.current=e}}function $x(e){var s=e.alternate;s!==null&&(e.alternate=null,$x(s)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(s=e.stateNode,s!==null&&(delete s[cs],delete s[Hn],delete s[vc],delete s[dy],delete s[uy])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Bx(e){return e.tag===5||e.tag===3||e.tag===4}function Om(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Bx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oc(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.nodeType===8?r.parentNode.insertBefore(e,s):r.insertBefore(e,s):(r.nodeType===8?(s=r.parentNode,s.insertBefore(e,r)):(s=r,s.appendChild(e)),r=r._reactRootContainer,r!=null||s.onclick!==null||(s.onclick=hi));else if(a!==4&&(e=e.child,e!==null))for(Oc(e,s,r),e=e.sibling;e!==null;)Oc(e,s,r),e=e.sibling}function Lc(e,s,r){var a=e.tag;if(a===5||a===6)e=e.stateNode,s?r.insertBefore(e,s):r.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Lc(e,s,r),e=e.sibling;e!==null;)Lc(e,s,r),e=e.sibling}var Je=null,Vt=!1;function Is(e,s,r){for(r=r.child;r!==null;)zx(e,s,r),r=r.sibling}function zx(e,s,r){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Ui,r)}catch{}switch(r.tag){case 5:at||fa(r,s);case 6:var a=Je,n=Vt;Je=null,Is(e,s,r),Je=a,Vt=n,Je!==null&&(Vt?(e=Je,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Je.removeChild(r.stateNode));break;case 18:Je!==null&&(Vt?(e=Je,r=r.stateNode,e.nodeType===8?To(e.parentNode,r):e.nodeType===1&&To(e,r),Un(e)):To(Je,r.stateNode));break;case 4:a=Je,n=Vt,Je=r.stateNode.containerInfo,Vt=!0,Is(e,s,r),Je=a,Vt=n;break;case 0:case 11:case 14:case 15:if(!at&&(a=r.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){n=a=a.next;do{var l=n,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&Tc(r,s,i),n=n.next}while(n!==a)}Is(e,s,r);break;case 1:if(!at&&(fa(r,s),a=r.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=r.memoizedProps,a.state=r.memoizedState,a.componentWillUnmount()}catch(o){Me(r,s,o)}Is(e,s,r);break;case 21:Is(e,s,r);break;case 22:r.mode&1?(at=(a=at)||r.memoizedState!==null,Is(e,s,r),at=a):Is(e,s,r);break;default:Is(e,s,r)}}function Lm(e){var s=e.updateQueue;if(s!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new Py),s.forEach(function(a){var n=_y.bind(null,e,a);r.has(a)||(r.add(a),a.then(n,n))})}}function Ht(e,s){var r=s.deletions;if(r!==null)for(var a=0;a<r.length;a++){var n=r[a];try{var l=e,i=s,o=i;e:for(;o!==null;){switch(o.tag){case 5:Je=o.stateNode,Vt=!1;break e;case 3:Je=o.stateNode.containerInfo,Vt=!0;break e;case 4:Je=o.stateNode.containerInfo,Vt=!0;break e}o=o.return}if(Je===null)throw Error(z(160));zx(l,i,n),Je=null,Vt=!1;var c=n.alternate;c!==null&&(c.return=null),n.return=null}catch(d){Me(n,s,d)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)qx(s,e),s=s.sibling}function qx(e,s){var r=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ht(s,e),ss(e),a&4){try{Rn(3,e,e.return),Wi(3,e)}catch(p){Me(e,e.return,p)}try{Rn(5,e,e.return)}catch(p){Me(e,e.return,p)}}break;case 1:Ht(s,e),ss(e),a&512&&r!==null&&fa(r,r.return);break;case 5:if(Ht(s,e),ss(e),a&512&&r!==null&&fa(r,r.return),e.flags&32){var n=e.stateNode;try{On(n,"")}catch(p){Me(e,e.return,p)}}if(a&4&&(n=e.stateNode,n!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&up(n,l),lc(o,i);var d=lc(o,l);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?fp(n,h):u==="dangerouslySetInnerHTML"?pp(n,h):u==="children"?On(n,h):Sd(n,u,h,d)}switch(o){case"input":tc(n,l);break;case"textarea":mp(n,l);break;case"select":var x=n._wrapperState.wasMultiple;n._wrapperState.wasMultiple=!!l.multiple;var y=l.value;y!=null?ya(n,!!l.multiple,y,!1):x!==!!l.multiple&&(l.defaultValue!=null?ya(n,!!l.multiple,l.defaultValue,!0):ya(n,!!l.multiple,l.multiple?[]:"",!1))}n[Hn]=l}catch(p){Me(e,e.return,p)}}break;case 6:if(Ht(s,e),ss(e),a&4){if(e.stateNode===null)throw Error(z(162));n=e.stateNode,l=e.memoizedProps;try{n.nodeValue=l}catch(p){Me(e,e.return,p)}}break;case 3:if(Ht(s,e),ss(e),a&4&&r!==null&&r.memoizedState.isDehydrated)try{Un(s.containerInfo)}catch(p){Me(e,e.return,p)}break;case 4:Ht(s,e),ss(e);break;case 13:Ht(s,e),ss(e),n=e.child,n.flags&8192&&(l=n.memoizedState!==null,n.stateNode.isHidden=l,!l||n.alternate!==null&&n.alternate.memoizedState!==null||(au=Te())),a&4&&Lm(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(at=(d=at)||u,Ht(s,e),at=d):Ht(s,e),ss(e),a&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(V=e,u=e.child;u!==null;){for(h=V=u;V!==null;){switch(x=V,y=x.child,x.tag){case 0:case 11:case 14:case 15:Rn(4,x,x.return);break;case 1:fa(x,x.return);var m=x.stateNode;if(typeof m.componentWillUnmount=="function"){a=x,r=x.return;try{s=a,m.props=s.memoizedProps,m.state=s.memoizedState,m.componentWillUnmount()}catch(p){Me(a,r,p)}}break;case 5:fa(x,x.return);break;case 22:if(x.memoizedState!==null){Im(h);continue}}y!==null?(y.return=x,V=y):Im(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{n=h.stateNode,d?(l=n.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=xp("display",i))}catch(p){Me(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){Me(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Ht(s,e),ss(e),a&4&&Lm(e);break;case 21:break;default:Ht(s,e),ss(e)}}function ss(e){var s=e.flags;if(s&2){try{e:{for(var r=e.return;r!==null;){if(Bx(r)){var a=r;break e}r=r.return}throw Error(z(160))}switch(a.tag){case 5:var n=a.stateNode;a.flags&32&&(On(n,""),a.flags&=-33);var l=Om(e);Lc(e,l,n);break;case 3:case 4:var i=a.stateNode.containerInfo,o=Om(e);Oc(e,o,i);break;default:throw Error(z(161))}}catch(c){Me(e,e.return,c)}e.flags&=-3}s&4096&&(e.flags&=-4097)}function Dy(e,s,r){V=e,Hx(e)}function Hx(e,s,r){for(var a=(e.mode&1)!==0;V!==null;){var n=V,l=n.child;if(n.tag===22&&a){var i=n.memoizedState!==null||Tl;if(!i){var o=n.alternate,c=o!==null&&o.memoizedState!==null||at;o=Tl;var d=at;if(Tl=i,(at=c)&&!d)for(V=n;V!==null;)i=V,c=i.child,i.tag===22&&i.memoizedState!==null?Um(n):c!==null?(c.return=i,V=c):Um(n);for(;l!==null;)V=l,Hx(l),l=l.sibling;V=n,Tl=o,at=d}_m(e)}else n.subtreeFlags&8772&&l!==null?(l.return=n,V=l):_m(e)}}function _m(e){for(;V!==null;){var s=V;if(s.flags&8772){var r=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:at||Wi(5,s);break;case 1:var a=s.stateNode;if(s.flags&4&&!at)if(r===null)a.componentDidMount();else{var n=s.elementType===s.type?r.memoizedProps:Qt(s.type,r.memoizedProps);a.componentDidUpdate(n,r.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var l=s.updateQueue;l!==null&&jm(s,l,a);break;case 3:var i=s.updateQueue;if(i!==null){if(r=null,s.child!==null)switch(s.child.tag){case 5:r=s.child.stateNode;break;case 1:r=s.child.stateNode}jm(s,i,r)}break;case 5:var o=s.stateNode;if(r===null&&s.flags&4){r=o;var c=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var d=s.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&Un(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(z(163))}at||s.flags&512&&Ac(s)}catch(x){Me(s,s.return,x)}}if(s===e){V=null;break}if(r=s.sibling,r!==null){r.return=s.return,V=r;break}V=s.return}}function Im(e){for(;V!==null;){var s=V;if(s===e){V=null;break}var r=s.sibling;if(r!==null){r.return=s.return,V=r;break}V=s.return}}function Um(e){for(;V!==null;){var s=V;try{switch(s.tag){case 0:case 11:case 15:var r=s.return;try{Wi(4,s)}catch(c){Me(s,r,c)}break;case 1:var a=s.stateNode;if(typeof a.componentDidMount=="function"){var n=s.return;try{a.componentDidMount()}catch(c){Me(s,n,c)}}var l=s.return;try{Ac(s)}catch(c){Me(s,l,c)}break;case 5:var i=s.return;try{Ac(s)}catch(c){Me(s,i,c)}}}catch(c){Me(s,s.return,c)}if(s===e){V=null;break}var o=s.sibling;if(o!==null){o.return=s.return,V=o;break}V=s.return}}var Ry=Math.ceil,wi=As.ReactCurrentDispatcher,su=As.ReactCurrentOwner,Bt=As.ReactCurrentBatchConfig,ue=0,Ve=null,Ie=null,Xe=0,Pt=0,ga=br(0),He=0,Jn=null,Vr=0,Vi=0,ru=0,Mn=null,gt=null,au=0,za=1/0,gs=null,Si=!1,_c=null,or=null,Al=!1,tr=null,Ci=0,Fn=0,Ic=null,Gl=-1,Jl=0;function mt(){return ue&6?Te():Gl!==-1?Gl:Gl=Te()}function cr(e){return e.mode&1?ue&2&&Xe!==0?Xe&-Xe:hy.transition!==null?(Jl===0&&(Jl=Ep()),Jl):(e=xe,e!==0||(e=window.event,e=e===void 0?16:Op(e.type)),e):1}function Yt(e,s,r,a){if(50<Fn)throw Fn=0,Ic=null,Error(z(185));il(e,r,a),(!(ue&2)||e!==Ve)&&(e===Ve&&(!(ue&2)&&(Vi|=r),He===4&&qs(e,Xe)),Nt(e,a),r===1&&ue===0&&!(s.mode&1)&&(za=Te()+500,Hi&&vr()))}function Nt(e,s){var r=e.callbackNode;hg(e,s);var a=ci(e,e===Ve?Xe:0);if(a===0)r!==null&&Vu(r),e.callbackNode=null,e.callbackPriority=0;else if(s=a&-a,e.callbackPriority!==s){if(r!=null&&Vu(r),s===1)e.tag===0?my($m.bind(null,e)):ex($m.bind(null,e)),oy(function(){!(ue&6)&&vr()}),r=null;else{switch(Dp(a)){case 1:r=Rd;break;case 4:r=Cp;break;case 16:r=oi;break;case 536870912:r=Pp;break;default:r=oi}r=Xx(r,Qx.bind(null,e))}e.callbackPriority=s,e.callbackNode=r}}function Qx(e,s){if(Gl=-1,Jl=0,ue&6)throw Error(z(327));var r=e.callbackNode;if(ka()&&e.callbackNode!==r)return null;var a=ci(e,e===Ve?Xe:0);if(a===0)return null;if(a&30||a&e.expiredLanes||s)s=Pi(e,a);else{s=a;var n=ue;ue|=2;var l=Wx();(Ve!==e||Xe!==s)&&(gs=null,za=Te()+500,zr(e,s));do try{Ty();break}catch(o){Kx(e,o)}while(!0);qd(),wi.current=l,ue=n,Ie!==null?s=0:(Ve=null,Xe=0,s=He)}if(s!==0){if(s===2&&(n=uc(e),n!==0&&(a=n,s=Uc(e,n))),s===1)throw r=Jn,zr(e,0),qs(e,a),Nt(e,Te()),r;if(s===6)qs(e,a);else{if(n=e.current.alternate,!(a&30)&&!My(n)&&(s=Pi(e,a),s===2&&(l=uc(e),l!==0&&(a=l,s=Uc(e,l))),s===1))throw r=Jn,zr(e,0),qs(e,a),Nt(e,Te()),r;switch(e.finishedWork=n,e.finishedLanes=a,s){case 0:case 1:throw Error(z(345));case 2:Cr(e,gt,gs);break;case 3:if(qs(e,a),(a&130023424)===a&&(s=au+500-Te(),10<s)){if(ci(e,0)!==0)break;if(n=e.suspendedLanes,(n&a)!==a){mt(),e.pingedLanes|=e.suspendedLanes&n;break}e.timeoutHandle=bc(Cr.bind(null,e,gt,gs),s);break}Cr(e,gt,gs);break;case 4:if(qs(e,a),(a&4194240)===a)break;for(s=e.eventTimes,n=-1;0<a;){var i=31-Jt(a);l=1<<i,i=s[i],i>n&&(n=i),a&=~l}if(a=n,a=Te()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Ry(a/1960))-a,10<a){e.timeoutHandle=bc(Cr.bind(null,e,gt,gs),a);break}Cr(e,gt,gs);break;case 5:Cr(e,gt,gs);break;default:throw Error(z(329))}}}return Nt(e,Te()),e.callbackNode===r?Qx.bind(null,e):null}function Uc(e,s){var r=Mn;return e.current.memoizedState.isDehydrated&&(zr(e,s).flags|=256),e=Pi(e,s),e!==2&&(s=gt,gt=r,s!==null&&$c(s)),e}function $c(e){gt===null?gt=e:gt.push.apply(gt,e)}function My(e){for(var s=e;;){if(s.flags&16384){var r=s.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var a=0;a<r.length;a++){var n=r[a],l=n.getSnapshot;n=n.value;try{if(!Xt(l(),n))return!1}catch{return!1}}}if(r=s.child,s.subtreeFlags&16384&&r!==null)r.return=s,s=r;else{if(s===e)break;for(;s.sibling===null;){if(s.return===null||s.return===e)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function qs(e,s){for(s&=~ru,s&=~Vi,e.suspendedLanes|=s,e.pingedLanes&=~s,e=e.expirationTimes;0<s;){var r=31-Jt(s),a=1<<r;e[r]=-1,s&=~a}}function $m(e){if(ue&6)throw Error(z(327));ka();var s=ci(e,0);if(!(s&1))return Nt(e,Te()),null;var r=Pi(e,s);if(e.tag!==0&&r===2){var a=uc(e);a!==0&&(s=a,r=Uc(e,a))}if(r===1)throw r=Jn,zr(e,0),qs(e,s),Nt(e,Te()),r;if(r===6)throw Error(z(345));return e.finishedWork=e.current.alternate,e.finishedLanes=s,Cr(e,gt,gs),Nt(e,Te()),null}function nu(e,s){var r=ue;ue|=1;try{return e(s)}finally{ue=r,ue===0&&(za=Te()+500,Hi&&vr())}}function Gr(e){tr!==null&&tr.tag===0&&!(ue&6)&&ka();var s=ue;ue|=1;var r=Bt.transition,a=xe;try{if(Bt.transition=null,xe=1,e)return e()}finally{xe=a,Bt.transition=r,ue=s,!(ue&6)&&vr()}}function lu(){Pt=ga.current,Ne(ga)}function zr(e,s){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,iy(r)),Ie!==null)for(r=Ie.return;r!==null;){var a=r;switch($d(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&pi();break;case 3:$a(),Ne(vt),Ne(lt),Gd();break;case 5:Vd(a);break;case 4:$a();break;case 13:Ne(Se);break;case 19:Ne(Se);break;case 10:Hd(a.type._context);break;case 22:case 23:lu()}r=r.return}if(Ve=e,Ie=e=dr(e.current,null),Xe=Pt=s,He=0,Jn=null,ru=Vi=Vr=0,gt=Mn=null,Er!==null){for(s=0;s<Er.length;s++)if(r=Er[s],a=r.interleaved,a!==null){r.interleaved=null;var n=a.next,l=r.pending;if(l!==null){var i=l.next;l.next=n,a.next=i}r.pending=a}Er=null}return e}function Kx(e,s){do{var r=Ie;try{if(qd(),Kl.current=ki,Ni){for(var a=Pe.memoizedState;a!==null;){var n=a.queue;n!==null&&(n.pending=null),a=a.next}Ni=!1}if(Wr=0,Ke=Be=Pe=null,Dn=!1,Wn=0,su.current=null,r===null||r.return===null){He=1,Jn=s,Ie=null;break}e:{var l=e,i=r.return,o=r,c=s;if(s=Xe,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var y=Pm(i);if(y!==null){y.flags&=-257,Em(y,i,o,l,s),y.mode&1&&Cm(l,d,s),s=y,c=d;var m=s.updateQueue;if(m===null){var p=new Set;p.add(c),s.updateQueue=p}else m.add(c);break e}else{if(!(s&1)){Cm(l,d,s),iu();break e}c=Error(z(426))}}else if(ke&&o.mode&1){var f=Pm(i);if(f!==null){!(f.flags&65536)&&(f.flags|=256),Em(f,i,o,l,s),Bd(Ba(c,o));break e}}l=c=Ba(c,o),He!==4&&(He=2),Mn===null?Mn=[l]:Mn.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,s&=-s,l.lanes|=s;var b=Dx(l,c,s);vm(l,b);break e;case 1:o=c;var g=l.type,v=l.stateNode;if(!(l.flags&128)&&(typeof g.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(or===null||!or.has(v)))){l.flags|=65536,s&=-s,l.lanes|=s;var j=Rx(l,o,s);vm(l,j);break e}}l=l.return}while(l!==null)}Gx(r)}catch(S){s=S,Ie===r&&r!==null&&(Ie=r=r.return);continue}break}while(!0)}function Wx(){var e=wi.current;return wi.current=ki,e===null?ki:e}function iu(){(He===0||He===3||He===2)&&(He=4),Ve===null||!(Vr&268435455)&&!(Vi&268435455)||qs(Ve,Xe)}function Pi(e,s){var r=ue;ue|=2;var a=Wx();(Ve!==e||Xe!==s)&&(gs=null,zr(e,s));do try{Fy();break}catch(n){Kx(e,n)}while(!0);if(qd(),ue=r,wi.current=a,Ie!==null)throw Error(z(261));return Ve=null,Xe=0,He}function Fy(){for(;Ie!==null;)Vx(Ie)}function Ty(){for(;Ie!==null&&!ag();)Vx(Ie)}function Vx(e){var s=Yx(e.alternate,e,Pt);e.memoizedProps=e.pendingProps,s===null?Gx(e):Ie=s,su.current=null}function Gx(e){var s=e;do{var r=s.alternate;if(e=s.return,s.flags&32768){if(r=Cy(r,s),r!==null){r.flags&=32767,Ie=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{He=6,Ie=null;return}}else if(r=Sy(r,s,Pt),r!==null){Ie=r;return}if(s=s.sibling,s!==null){Ie=s;return}Ie=s=e}while(s!==null);He===0&&(He=5)}function Cr(e,s,r){var a=xe,n=Bt.transition;try{Bt.transition=null,xe=1,Ay(e,s,r,a)}finally{Bt.transition=n,xe=a}return null}function Ay(e,s,r,a){do ka();while(tr!==null);if(ue&6)throw Error(z(327));r=e.finishedWork;var n=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(z(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(pg(e,l),e===Ve&&(Ie=Ve=null,Xe=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Al||(Al=!0,Xx(oi,function(){return ka(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Bt.transition,Bt.transition=null;var i=xe;xe=1;var o=ue;ue|=4,su.current=null,Ey(e,r),qx(r,e),ey(gc),di=!!fc,gc=fc=null,e.current=r,Dy(r),ng(),ue=o,xe=i,Bt.transition=l}else e.current=r;if(Al&&(Al=!1,tr=e,Ci=n),l=e.pendingLanes,l===0&&(or=null),og(r.stateNode),Nt(e,Te()),s!==null)for(a=e.onRecoverableError,r=0;r<s.length;r++)n=s[r],a(n.value,{componentStack:n.stack,digest:n.digest});if(Si)throw Si=!1,e=_c,_c=null,e;return Ci&1&&e.tag!==0&&ka(),l=e.pendingLanes,l&1?e===Ic?Fn++:(Fn=0,Ic=e):Fn=0,vr(),null}function ka(){if(tr!==null){var e=Dp(Ci),s=Bt.transition,r=xe;try{if(Bt.transition=null,xe=16>e?16:e,tr===null)var a=!1;else{if(e=tr,tr=null,Ci=0,ue&6)throw Error(z(331));var n=ue;for(ue|=4,V=e.current;V!==null;){var l=V,i=l.child;if(V.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(V=d;V!==null;){var u=V;switch(u.tag){case 0:case 11:case 15:Rn(8,u,l)}var h=u.child;if(h!==null)h.return=u,V=h;else for(;V!==null;){u=V;var x=u.sibling,y=u.return;if($x(u),u===d){V=null;break}if(x!==null){x.return=y,V=x;break}V=y}}}var m=l.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var f=p.sibling;p.sibling=null,p=f}while(p!==null)}}V=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,V=i;else e:for(;V!==null;){if(l=V,l.flags&2048)switch(l.tag){case 0:case 11:case 15:Rn(9,l,l.return)}var b=l.sibling;if(b!==null){b.return=l.return,V=b;break e}V=l.return}}var g=e.current;for(V=g;V!==null;){i=V;var v=i.child;if(i.subtreeFlags&2064&&v!==null)v.return=i,V=v;else e:for(i=g;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Wi(9,o)}}catch(S){Me(o,o.return,S)}if(o===i){V=null;break e}var j=o.sibling;if(j!==null){j.return=o.return,V=j;break e}V=o.return}}if(ue=n,vr(),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Ui,e)}catch{}a=!0}return a}finally{xe=r,Bt.transition=s}}return!1}function Bm(e,s,r){s=Ba(r,s),s=Dx(e,s,1),e=ir(e,s,1),s=mt(),e!==null&&(il(e,1,s),Nt(e,s))}function Me(e,s,r){if(e.tag===3)Bm(e,e,r);else for(;s!==null;){if(s.tag===3){Bm(s,e,r);break}else if(s.tag===1){var a=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(or===null||!or.has(a))){e=Ba(r,e),e=Rx(s,e,1),s=ir(s,e,1),e=mt(),s!==null&&(il(s,1,e),Nt(s,e));break}}s=s.return}}function Oy(e,s,r){var a=e.pingCache;a!==null&&a.delete(s),s=mt(),e.pingedLanes|=e.suspendedLanes&r,Ve===e&&(Xe&r)===r&&(He===4||He===3&&(Xe&130023424)===Xe&&500>Te()-au?zr(e,0):ru|=r),Nt(e,s)}function Jx(e,s){s===0&&(e.mode&1?(s=wl,wl<<=1,!(wl&130023424)&&(wl=4194304)):s=1);var r=mt();e=Ds(e,s),e!==null&&(il(e,s,r),Nt(e,r))}function Ly(e){var s=e.memoizedState,r=0;s!==null&&(r=s.retryLane),Jx(e,r)}function _y(e,s){var r=0;switch(e.tag){case 13:var a=e.stateNode,n=e.memoizedState;n!==null&&(r=n.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(z(314))}a!==null&&a.delete(s),Jx(e,r)}var Yx;Yx=function(e,s,r){if(e!==null)if(e.memoizedProps!==s.pendingProps||vt.current)yt=!0;else{if(!(e.lanes&r)&&!(s.flags&128))return yt=!1,wy(e,s,r);yt=!!(e.flags&131072)}else yt=!1,ke&&s.flags&1048576&&tx(s,gi,s.index);switch(s.lanes=0,s.tag){case 2:var a=s.type;Vl(e,s),e=s.pendingProps;var n=_a(s,lt.current);Na(s,r),n=Yd(null,s,a,e,n,r);var l=Xd();return s.flags|=1,typeof n=="object"&&n!==null&&typeof n.render=="function"&&n.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,jt(a)?(l=!0,xi(s)):l=!1,s.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,Kd(s),n.updater=Ki,s.stateNode=n,n._reactInternals=s,Cc(s,a,e,r),s=Dc(null,s,a,!0,l,r)):(s.tag=0,ke&&l&&Ud(s),dt(null,s,n,r),s=s.child),s;case 16:a=s.elementType;e:{switch(Vl(e,s),e=s.pendingProps,n=a._init,a=n(a._payload),s.type=a,n=s.tag=Uy(a),e=Qt(a,e),n){case 0:s=Ec(null,s,a,e,r);break e;case 1:s=Mm(null,s,a,e,r);break e;case 11:s=Dm(null,s,a,e,r);break e;case 14:s=Rm(null,s,a,Qt(a.type,e),r);break e}throw Error(z(306,a,""))}return s;case 0:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Qt(a,n),Ec(e,s,a,n,r);case 1:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Qt(a,n),Mm(e,s,a,n,r);case 3:e:{if(Ax(s),e===null)throw Error(z(387));a=s.pendingProps,l=s.memoizedState,n=l.element,ix(e,s),vi(s,a,null,r);var i=s.memoizedState;if(a=i.element,l.isDehydrated)if(l={element:a,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},s.updateQueue.baseState=l,s.memoizedState=l,s.flags&256){n=Ba(Error(z(423)),s),s=Fm(e,s,a,r,n);break e}else if(a!==n){n=Ba(Error(z(424)),s),s=Fm(e,s,a,r,n);break e}else for(Et=lr(s.stateNode.containerInfo.firstChild),Dt=s,ke=!0,Gt=null,r=nx(s,null,a,r),s.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ia(),a===n){s=Rs(e,s,r);break e}dt(e,s,a,r)}s=s.child}return s;case 5:return ox(s),e===null&&kc(s),a=s.type,n=s.pendingProps,l=e!==null?e.memoizedProps:null,i=n.children,yc(a,n)?i=null:l!==null&&yc(a,l)&&(s.flags|=32),Tx(e,s),dt(e,s,i,r),s.child;case 6:return e===null&&kc(s),null;case 13:return Ox(e,s,r);case 4:return Wd(s,s.stateNode.containerInfo),a=s.pendingProps,e===null?s.child=Ua(s,null,a,r):dt(e,s,a,r),s.child;case 11:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Qt(a,n),Dm(e,s,a,n,r);case 7:return dt(e,s,s.pendingProps,r),s.child;case 8:return dt(e,s,s.pendingProps.children,r),s.child;case 12:return dt(e,s,s.pendingProps.children,r),s.child;case 10:e:{if(a=s.type._context,n=s.pendingProps,l=s.memoizedProps,i=n.value,ve(yi,a._currentValue),a._currentValue=i,l!==null)if(Xt(l.value,i)){if(l.children===n.children&&!vt.current){s=Rs(e,s,r);break e}}else for(l=s.child,l!==null&&(l.return=s);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===a){if(l.tag===1){c=Ss(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),wc(l.return,r,s),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===s.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(z(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),wc(i,r,s),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===s){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}dt(e,s,n.children,r),s=s.child}return s;case 9:return n=s.type,a=s.pendingProps.children,Na(s,r),n=zt(n),a=a(n),s.flags|=1,dt(e,s,a,r),s.child;case 14:return a=s.type,n=Qt(a,s.pendingProps),n=Qt(a.type,n),Rm(e,s,a,n,r);case 15:return Mx(e,s,s.type,s.pendingProps,r);case 17:return a=s.type,n=s.pendingProps,n=s.elementType===a?n:Qt(a,n),Vl(e,s),s.tag=1,jt(a)?(e=!0,xi(s)):e=!1,Na(s,r),Ex(s,a,n),Cc(s,a,n,r),Dc(null,s,a,!0,e,r);case 19:return Lx(e,s,r);case 22:return Fx(e,s,r)}throw Error(z(156,s.tag))};function Xx(e,s){return Sp(e,s)}function Iy(e,s,r,a){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function $t(e,s,r,a){return new Iy(e,s,r,a)}function ou(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Uy(e){if(typeof e=="function")return ou(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Pd)return 11;if(e===Ed)return 14}return 2}function dr(e,s){var r=e.alternate;return r===null?(r=$t(e.tag,s,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=s,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,s=e.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Yl(e,s,r,a,n,l){var i=2;if(a=e,typeof e=="function")ou(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case ia:return qr(r.children,n,l,s);case Cd:i=8,n|=8;break;case Jo:return e=$t(12,r,s,n|2),e.elementType=Jo,e.lanes=l,e;case Yo:return e=$t(13,r,s,n),e.elementType=Yo,e.lanes=l,e;case Xo:return e=$t(19,r,s,n),e.elementType=Xo,e.lanes=l,e;case op:return Gi(r,n,l,s);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lp:i=10;break e;case ip:i=9;break e;case Pd:i=11;break e;case Ed:i=14;break e;case $s:i=16,a=null;break e}throw Error(z(130,e==null?e:typeof e,""))}return s=$t(i,r,s,n),s.elementType=e,s.type=a,s.lanes=l,s}function qr(e,s,r,a){return e=$t(7,e,a,s),e.lanes=r,e}function Gi(e,s,r,a){return e=$t(22,e,a,s),e.elementType=op,e.lanes=r,e.stateNode={isHidden:!1},e}function Bo(e,s,r){return e=$t(6,e,null,s),e.lanes=r,e}function zo(e,s,r){return s=$t(4,e.children!==null?e.children:[],e.key,s),s.lanes=r,s.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},s}function $y(e,s,r,a,n){this.tag=s,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=No(0),this.expirationTimes=No(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=No(0),this.identifierPrefix=a,this.onRecoverableError=n,this.mutableSourceEagerHydrationData=null}function cu(e,s,r,a,n,l,i,o,c){return e=new $y(e,s,r,o,c),s===1?(s=1,l===!0&&(s|=8)):s=0,l=$t(3,null,null,s),e.current=l,l.stateNode=e,l.memoizedState={element:a,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kd(l),e}function By(e,s,r){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:la,key:a==null?null:""+a,children:e,containerInfo:s,implementation:r}}function Zx(e){if(!e)return pr;e=e._reactInternals;e:{if(ta(e)!==e||e.tag!==1)throw Error(z(170));var s=e;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(jt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(z(171))}if(e.tag===1){var r=e.type;if(jt(r))return Zp(e,r,s)}return s}function ef(e,s,r,a,n,l,i,o,c){return e=cu(r,a,!0,e,n,l,i,o,c),e.context=Zx(null),r=e.current,a=mt(),n=cr(r),l=Ss(a,n),l.callback=s??null,ir(r,l,n),e.current.lanes=n,il(e,n,a),Nt(e,a),e}function Ji(e,s,r,a){var n=s.current,l=mt(),i=cr(n);return r=Zx(r),s.context===null?s.context=r:s.pendingContext=r,s=Ss(l,i),s.payload={element:e},a=a===void 0?null:a,a!==null&&(s.callback=a),e=ir(n,s,i),e!==null&&(Yt(e,n,i,l),Ql(e,n,i)),i}function Ei(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zm(e,s){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<s?r:s}}function du(e,s){zm(e,s),(e=e.alternate)&&zm(e,s)}function zy(){return null}var tf=typeof reportError=="function"?reportError:function(e){console.error(e)};function uu(e){this._internalRoot=e}Yi.prototype.render=uu.prototype.render=function(e){var s=this._internalRoot;if(s===null)throw Error(z(409));Ji(e,s,null,null)};Yi.prototype.unmount=uu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var s=e.containerInfo;Gr(function(){Ji(null,e,null,null)}),s[Es]=null}};function Yi(e){this._internalRoot=e}Yi.prototype.unstable_scheduleHydration=function(e){if(e){var s=Fp();e={blockedOn:null,target:e,priority:s};for(var r=0;r<zs.length&&s!==0&&s<zs[r].priority;r++);zs.splice(r,0,e),r===0&&Ap(e)}};function mu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Xi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function qm(){}function qy(e,s,r,a,n){if(n){if(typeof a=="function"){var l=a;a=function(){var d=Ei(i);l.call(d)}}var i=ef(s,a,e,0,null,!1,!1,"",qm);return e._reactRootContainer=i,e[Es]=i.current,zn(e.nodeType===8?e.parentNode:e),Gr(),i}for(;n=e.lastChild;)e.removeChild(n);if(typeof a=="function"){var o=a;a=function(){var d=Ei(c);o.call(d)}}var c=cu(e,0,!1,null,null,!1,!1,"",qm);return e._reactRootContainer=c,e[Es]=c.current,zn(e.nodeType===8?e.parentNode:e),Gr(function(){Ji(s,c,r,a)}),c}function Zi(e,s,r,a,n){var l=r._reactRootContainer;if(l){var i=l;if(typeof n=="function"){var o=n;n=function(){var c=Ei(i);o.call(c)}}Ji(s,i,e,n)}else i=qy(r,s,e,n,a);return Ei(i)}Rp=function(e){switch(e.tag){case 3:var s=e.stateNode;if(s.current.memoizedState.isDehydrated){var r=vn(s.pendingLanes);r!==0&&(Md(s,r|1),Nt(s,Te()),!(ue&6)&&(za=Te()+500,vr()))}break;case 13:Gr(function(){var a=Ds(e,1);if(a!==null){var n=mt();Yt(a,e,1,n)}}),du(e,1)}};Fd=function(e){if(e.tag===13){var s=Ds(e,134217728);if(s!==null){var r=mt();Yt(s,e,134217728,r)}du(e,134217728)}};Mp=function(e){if(e.tag===13){var s=cr(e),r=Ds(e,s);if(r!==null){var a=mt();Yt(r,e,s,a)}du(e,s)}};Fp=function(){return xe};Tp=function(e,s){var r=xe;try{return xe=e,s()}finally{xe=r}};oc=function(e,s,r){switch(s){case"input":if(tc(e,r),s=r.name,r.type==="radio"&&s!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<r.length;s++){var a=r[s];if(a!==e&&a.form===e.form){var n=qi(a);if(!n)throw Error(z(90));dp(a),tc(a,n)}}}break;case"textarea":mp(e,r);break;case"select":s=r.value,s!=null&&ya(e,!!r.multiple,s,!1)}};bp=nu;vp=Gr;var Hy={usingClientEntryPoint:!1,Events:[cl,ua,qi,gp,yp,nu]},xn={findFiberByHostInstance:Pr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Qy={bundleType:xn.bundleType,version:xn.version,rendererPackageName:xn.rendererPackageName,rendererConfig:xn.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:As.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kp(e),e===null?null:e.stateNode},findFiberByHostInstance:xn.findFiberByHostInstance||zy,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ol=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ol.isDisabled&&Ol.supportsFiber)try{Ui=Ol.inject(Qy),us=Ol}catch{}}Mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hy;Mt.createPortal=function(e,s){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!mu(s))throw Error(z(200));return By(e,s,null,r)};Mt.createRoot=function(e,s){if(!mu(e))throw Error(z(299));var r=!1,a="",n=tf;return s!=null&&(s.unstable_strictMode===!0&&(r=!0),s.identifierPrefix!==void 0&&(a=s.identifierPrefix),s.onRecoverableError!==void 0&&(n=s.onRecoverableError)),s=cu(e,1,!1,null,null,r,!1,a,n),e[Es]=s.current,zn(e.nodeType===8?e.parentNode:e),new uu(s)};Mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var s=e._reactInternals;if(s===void 0)throw typeof e.render=="function"?Error(z(188)):(e=Object.keys(e).join(","),Error(z(268,e)));return e=kp(s),e=e===null?null:e.stateNode,e};Mt.flushSync=function(e){return Gr(e)};Mt.hydrate=function(e,s,r){if(!Xi(s))throw Error(z(200));return Zi(null,e,s,!0,r)};Mt.hydrateRoot=function(e,s,r){if(!mu(e))throw Error(z(405));var a=r!=null&&r.hydratedSources||null,n=!1,l="",i=tf;if(r!=null&&(r.unstable_strictMode===!0&&(n=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),s=ef(s,null,e,1,r??null,n,!1,l,i),e[Es]=s.current,zn(e),a)for(e=0;e<a.length;e++)r=a[e],n=r._getVersion,n=n(r._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[r,n]:s.mutableSourceEagerHydrationData.push(r,n);return new Yi(s)};Mt.render=function(e,s,r){if(!Xi(s))throw Error(z(200));return Zi(null,e,s,!1,r)};Mt.unmountComponentAtNode=function(e){if(!Xi(e))throw Error(z(40));return e._reactRootContainer?(Gr(function(){Zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Es]=null})}),!0):!1};Mt.unstable_batchedUpdates=nu;Mt.unstable_renderSubtreeIntoContainer=function(e,s,r,a){if(!Xi(r))throw Error(z(200));if(e==null||e._reactInternals===void 0)throw Error(z(38));return Zi(e,s,r,!1,a)};Mt.version="18.3.1-next-f1338f8080-20240426";function sf(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(sf)}catch(e){console.error(e)}}sf(),sp.exports=Mt;var eo=sp.exports,Hm=eo;Vo.createRoot=Hm.createRoot,Vo.hydrateRoot=Hm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yn(){return Yn=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Yn.apply(this,arguments)}var sr;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(sr||(sr={}));const Qm="popstate";function Ky(e){e===void 0&&(e={});function s(a,n){let{pathname:l,search:i,hash:o}=a.location;return Bc("",{pathname:l,search:i,hash:o},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function r(a,n){return typeof n=="string"?n:Di(n)}return Vy(s,r,null,e)}function Ae(e,s){if(e===!1||e===null||typeof e>"u")throw new Error(s)}function hu(e,s){if(!e){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function Wy(){return Math.random().toString(36).substr(2,8)}function Km(e,s){return{usr:e.state,key:e.key,idx:s}}function Bc(e,s,r,a){return r===void 0&&(r=null),Yn({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof s=="string"?Za(s):s,{state:r,key:s&&s.key||a||Wy()})}function Di(e){let{pathname:s="/",search:r="",hash:a=""}=e;return r&&r!=="?"&&(s+=r.charAt(0)==="?"?r:"?"+r),a&&a!=="#"&&(s+=a.charAt(0)==="#"?a:"#"+a),s}function Za(e){let s={};if(e){let r=e.indexOf("#");r>=0&&(s.hash=e.substr(r),e=e.substr(0,r));let a=e.indexOf("?");a>=0&&(s.search=e.substr(a),e=e.substr(0,a)),e&&(s.pathname=e)}return s}function Vy(e,s,r,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:l=!1}=a,i=n.history,o=sr.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(Yn({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=sr.Pop;let f=u(),b=f==null?null:f-d;d=f,c&&c({action:o,location:p.location,delta:b})}function x(f,b){o=sr.Push;let g=Bc(p.location,f,b);d=u()+1;let v=Km(g,d),j=p.createHref(g);try{i.pushState(v,"",j)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;n.location.assign(j)}l&&c&&c({action:o,location:p.location,delta:1})}function y(f,b){o=sr.Replace;let g=Bc(p.location,f,b);d=u();let v=Km(g,d),j=p.createHref(g);i.replaceState(v,"",j),l&&c&&c({action:o,location:p.location,delta:0})}function m(f){let b=n.location.origin!=="null"?n.location.origin:n.location.href,g=typeof f=="string"?f:Di(f);return g=g.replace(/ $/,"%20"),Ae(b,"No window.location.(origin|href) available to create URL for href: "+g),new URL(g,b)}let p={get action(){return o},get location(){return e(n,i)},listen(f){if(c)throw new Error("A history only accepts one active listener");return n.addEventListener(Qm,h),c=f,()=>{n.removeEventListener(Qm,h),c=null}},createHref(f){return s(n,f)},createURL:m,encodeLocation(f){let b=m(f);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:x,replace:y,go(f){return i.go(f)}};return p}var Wm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Wm||(Wm={}));function Gy(e,s,r){return r===void 0&&(r="/"),Jy(e,s,r)}function Jy(e,s,r,a){let n=typeof s=="string"?Za(s):s,l=pu(n.pathname||"/",r);if(l==null)return null;let i=rf(e);Yy(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=cb(l);o=lb(i[c],d)}return o}function rf(e,s,r,a){s===void 0&&(s=[]),r===void 0&&(r=[]),a===void 0&&(a="");let n=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Ae(c.relativePath.startsWith(a),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(a.length));let d=ur([a,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Ae(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),rf(l.children,s,u,d)),!(l.path==null&&!l.index)&&s.push({path:d,score:ab(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))n(l,i);else for(let c of af(l.path))n(l,i,c)}),s}function af(e){let s=e.split("/");if(s.length===0)return[];let[r,...a]=s,n=r.endsWith("?"),l=r.replace(/\?$/,"");if(a.length===0)return n?[l,""]:[l];let i=af(a.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),n&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Yy(e){e.sort((s,r)=>s.score!==r.score?r.score-s.score:nb(s.routesMeta.map(a=>a.childrenIndex),r.routesMeta.map(a=>a.childrenIndex)))}const Xy=/^:[\w-]+$/,Zy=3,eb=2,tb=1,sb=10,rb=-2,Vm=e=>e==="*";function ab(e,s){let r=e.split("/"),a=r.length;return r.some(Vm)&&(a+=rb),s&&(a+=eb),r.filter(n=>!Vm(n)).reduce((n,l)=>n+(Xy.test(l)?Zy:l===""?tb:sb),a)}function nb(e,s){return e.length===s.length&&e.slice(0,-1).every((a,n)=>a===s[n])?e[e.length-1]-s[s.length-1]:0}function lb(e,s,r){let{routesMeta:a}=e,n={},l="/",i=[];for(let o=0;o<a.length;++o){let c=a[o],d=o===a.length-1,u=l==="/"?s:s.slice(l.length)||"/",h=ib({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!h)return null;Object.assign(n,h.params),i.push({params:n,pathname:ur([l,h.pathname]),pathnameBase:pb(ur([l,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(l=ur([l,h.pathnameBase]))}return i}function ib(e,s){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,a]=ob(e.path,e.caseSensitive,e.end),n=s.match(r);if(!n)return null;let l=n[0],i=l.replace(/(.)\/+$/,"$1"),o=n.slice(1);return{params:a.reduce((d,u,h)=>{let{paramName:x,isOptional:y}=u;if(x==="*"){let p=o[h]||"";i=l.slice(0,l.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[h];return y&&!m?d[x]=void 0:d[x]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function ob(e,s,r){s===void 0&&(s=!1),r===void 0&&(r=!0),hu(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let a=[],n="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(a.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(a.push({paramName:"*"}),n+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?n+="\\/*$":e!==""&&e!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,s?void 0:"i"),a]}function cb(e){try{return e.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return hu(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+s+").")),e}}function pu(e,s){if(s==="/")return e;if(!e.toLowerCase().startsWith(s.toLowerCase()))return null;let r=s.endsWith("/")?s.length-1:s.length,a=e.charAt(r);return a&&a!=="/"?null:e.slice(r)||"/"}const db=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ub=e=>db.test(e);function mb(e,s){s===void 0&&(s="/");let{pathname:r,search:a="",hash:n=""}=typeof e=="string"?Za(e):e,l;if(r)if(ub(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),hu(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=Gm(r.substring(1),"/"):l=Gm(r,s)}else l=s;return{pathname:l,search:xb(a),hash:fb(n)}}function Gm(e,s){let r=s.replace(/\/+$/,"").split("/");return e.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function qo(e,s,r,a){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+s+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function hb(e){return e.filter((s,r)=>r===0||s.route.path&&s.route.path.length>0)}function xu(e,s){let r=hb(e);return s?r.map((a,n)=>n===r.length-1?a.pathname:a.pathnameBase):r.map(a=>a.pathnameBase)}function fu(e,s,r,a){a===void 0&&(a=!1);let n;typeof e=="string"?n=Za(e):(n=Yn({},e),Ae(!n.pathname||!n.pathname.includes("?"),qo("?","pathname","search",n)),Ae(!n.pathname||!n.pathname.includes("#"),qo("#","pathname","hash",n)),Ae(!n.search||!n.search.includes("#"),qo("#","search","hash",n)));let l=e===""||n.pathname==="",i=l?"/":n.pathname,o;if(i==null)o=r;else{let h=s.length-1;if(!a&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;n.pathname=x.join("/")}o=h>=0?s[h]:"/"}let c=mb(n,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const ur=e=>e.join("/").replace(/\/\/+/g,"/"),pb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),xb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,fb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function gb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const nf=["post","put","patch","delete"];new Set(nf);const yb=["get",...nf];new Set(yb);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xn(){return Xn=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Xn.apply(this,arguments)}const gu=N.createContext(null),bb=N.createContext(null),jr=N.createContext(null),to=N.createContext(null),ps=N.createContext({outlet:null,matches:[],isDataRoute:!1}),lf=N.createContext(null);function vb(e,s){let{relative:r}=s===void 0?{}:s;en()||Ae(!1);let{basename:a,navigator:n}=N.useContext(jr),{hash:l,pathname:i,search:o}=cf(e,{relative:r}),c=i;return a!=="/"&&(c=i==="/"?a:ur([a,i])),n.createHref({pathname:c,search:o,hash:l})}function en(){return N.useContext(to)!=null}function sa(){return en()||Ae(!1),N.useContext(to).location}function of(e){N.useContext(jr).static||N.useLayoutEffect(e)}function be(){let{isDataRoute:e}=N.useContext(ps);return e?Ob():jb()}function jb(){en()||Ae(!1);let e=N.useContext(gu),{basename:s,future:r,navigator:a}=N.useContext(jr),{matches:n}=N.useContext(ps),{pathname:l}=sa(),i=JSON.stringify(xu(n,r.v7_relativeSplatPath)),o=N.useRef(!1);return of(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){a.go(d);return}let h=fu(d,JSON.parse(i),l,u.relative==="path");e==null&&s!=="/"&&(h.pathname=h.pathname==="/"?s:ur([s,h.pathname])),(u.replace?a.replace:a.push)(h,u.state,u)},[s,a,i,l,e])}const Nb=N.createContext(null);function kb(e){let s=N.useContext(ps).outlet;return s&&N.createElement(Nb.Provider,{value:e},s)}function Tt(){let{matches:e}=N.useContext(ps),s=e[e.length-1];return s?s.params:{}}function cf(e,s){let{relative:r}=s===void 0?{}:s,{future:a}=N.useContext(jr),{matches:n}=N.useContext(ps),{pathname:l}=sa(),i=JSON.stringify(xu(n,a.v7_relativeSplatPath));return N.useMemo(()=>fu(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function wb(e,s){return Sb(e,s)}function Sb(e,s,r,a){en()||Ae(!1);let{navigator:n}=N.useContext(jr),{matches:l}=N.useContext(ps),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=sa(),u;if(s){var h;let f=typeof s=="string"?Za(s):s;c==="/"||(h=f.pathname)!=null&&h.startsWith(c)||Ae(!1),u=f}else u=d;let x=u.pathname||"/",y=x;if(c!=="/"){let f=c.replace(/^\//,"").split("/");y="/"+x.replace(/^\//,"").split("/").slice(f.length).join("/")}let m=Gy(e,{pathname:y}),p=Rb(m&&m.map(f=>Object.assign({},f,{params:Object.assign({},o,f.params),pathname:ur([c,n.encodeLocation?n.encodeLocation(f.pathname).pathname:f.pathname]),pathnameBase:f.pathnameBase==="/"?c:ur([c,n.encodeLocation?n.encodeLocation(f.pathnameBase).pathname:f.pathnameBase])})),l,r,a);return s&&p?N.createElement(to.Provider,{value:{location:Xn({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:sr.Pop}},p):p}function Cb(){let e=Ab(),s=gb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},s),r?N.createElement("pre",{style:n},r):null,null)}const Pb=N.createElement(Cb,null);class Eb extends N.Component{constructor(s){super(s),this.state={location:s.location,revalidation:s.revalidation,error:s.error}}static getDerivedStateFromError(s){return{error:s}}static getDerivedStateFromProps(s,r){return r.location!==s.location||r.revalidation!=="idle"&&s.revalidation==="idle"?{error:s.error,location:s.location,revalidation:s.revalidation}:{error:s.error!==void 0?s.error:r.error,location:r.location,revalidation:s.revalidation||r.revalidation}}componentDidCatch(s,r){console.error("React Router caught the following error during render",s,r)}render(){return this.state.error!==void 0?N.createElement(ps.Provider,{value:this.props.routeContext},N.createElement(lf.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Db(e){let{routeContext:s,match:r,children:a}=e,n=N.useContext(gu);return n&&n.static&&n.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(ps.Provider,{value:s},a)}function Rb(e,s,r,a){var n;if(s===void 0&&(s=[]),r===void 0&&(r=null),a===void 0&&(a=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=a)!=null&&l.v7_partialHydration&&s.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(n=r)==null?void 0:n.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Ae(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&a&&a.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:x,errors:y}=r,m=h.route.loader&&x[h.route.id]===void 0&&(!y||y[h.route.id]===void 0);if(h.route.lazy||m){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,x)=>{let y,m=!1,p=null,f=null;r&&(y=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||Pb,c&&(d<0&&x===0?(Lb("route-fallback"),m=!0,f=null):d===x&&(m=!0,f=h.route.hydrateFallbackElement||null)));let b=s.concat(i.slice(0,x+1)),g=()=>{let v;return y?v=p:m?v=f:h.route.Component?v=N.createElement(h.route.Component,null):h.route.element?v=h.route.element:v=u,N.createElement(Db,{match:h,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:v})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?N.createElement(Eb,{location:r.location,revalidation:r.revalidation,component:p,error:y,children:g(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):g()},null)}var df=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(df||{}),uf=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(uf||{});function Mb(e){let s=N.useContext(gu);return s||Ae(!1),s}function Fb(e){let s=N.useContext(bb);return s||Ae(!1),s}function Tb(e){let s=N.useContext(ps);return s||Ae(!1),s}function mf(e){let s=Tb(),r=s.matches[s.matches.length-1];return r.route.id||Ae(!1),r.route.id}function Ab(){var e;let s=N.useContext(lf),r=Fb(),a=mf();return s!==void 0?s:(e=r.errors)==null?void 0:e[a]}function Ob(){let{router:e}=Mb(df.UseNavigateStable),s=mf(uf.UseNavigateStable),r=N.useRef(!1);return of(()=>{r.current=!0}),N.useCallback(function(n,l){l===void 0&&(l={}),r.current&&(typeof n=="number"?e.navigate(n):e.navigate(n,Xn({fromRouteId:s},l)))},[e,s])}const Jm={};function Lb(e,s,r){Jm[e]||(Jm[e]=!0)}function _b(e,s){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function zc(e){let{to:s,replace:r,state:a,relative:n}=e;en()||Ae(!1);let{future:l,static:i}=N.useContext(jr),{matches:o}=N.useContext(ps),{pathname:c}=sa(),d=be(),u=fu(s,xu(o,l.v7_relativeSplatPath),c,n==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:r,state:a,relative:n}),[d,h,n,r,a]),null}function Ib(e){return kb(e.context)}function re(e){Ae(!1)}function Ub(e){let{basename:s="/",children:r=null,location:a,navigationType:n=sr.Pop,navigator:l,static:i=!1,future:o}=e;en()&&Ae(!1);let c=s.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:l,static:i,future:Xn({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof a=="string"&&(a=Za(a));let{pathname:u="/",search:h="",hash:x="",state:y=null,key:m="default"}=a,p=N.useMemo(()=>{let f=pu(u,c);return f==null?null:{location:{pathname:f,search:h,hash:x,state:y,key:m},navigationType:n}},[c,u,h,x,y,m,n]);return p==null?null:N.createElement(jr.Provider,{value:d},N.createElement(to.Provider,{children:r,value:p}))}function $b(e){let{children:s,location:r}=e;return wb(qc(s),r)}new Promise(()=>{});function qc(e,s){s===void 0&&(s=[]);let r=[];return N.Children.forEach(e,(a,n)=>{if(!N.isValidElement(a))return;let l=[...s,n];if(a.type===N.Fragment){r.push.apply(r,qc(a.props.children,l));return}a.type!==re&&Ae(!1),!a.props.index||!a.props.children||Ae(!1);let i={id:a.props.id||l.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(i.children=qc(a.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(e){for(var s=1;s<arguments.length;s++){var r=arguments[s];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Hc.apply(this,arguments)}function Bb(e,s){if(e==null)return{};var r={},a=Object.keys(e),n,l;for(l=0;l<a.length;l++)n=a[l],!(s.indexOf(n)>=0)&&(r[n]=e[n]);return r}function zb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function qb(e,s){return e.button===0&&(!s||s==="_self")&&!zb(e)}function Qc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((s,r)=>{let a=e[r];return s.concat(Array.isArray(a)?a.map(n=>[r,n]):[[r,a]])},[]))}function Hb(e,s){let r=Qc(e);return s&&s.forEach((a,n)=>{r.has(n)||s.getAll(n).forEach(l=>{r.append(n,l)})}),r}const Qb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Kb="6";try{window.__reactRouterVersion=Kb}catch{}const Wb="startTransition",Ym=O0[Wb];function Vb(e){let{basename:s,children:r,future:a,window:n}=e,l=N.useRef();l.current==null&&(l.current=Ky({window:n,v5Compat:!0}));let i=l.current,[o,c]=N.useState({action:i.action,location:i.location}),{v7_startTransition:d}=a||{},u=N.useCallback(h=>{d&&Ym?Ym(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>i.listen(u),[i,u]),N.useEffect(()=>_b(a),[a]),N.createElement(Ub,{basename:s,children:r,location:o.location,navigationType:o.action,navigator:i,future:a})}const Gb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Jb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,q=N.forwardRef(function(s,r){let{onClick:a,relative:n,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=s,x=Bb(s,Qb),{basename:y}=N.useContext(jr),m,p=!1;if(typeof d=="string"&&Jb.test(d)&&(m=d,Gb))try{let v=new URL(window.location.href),j=d.startsWith("//")?new URL(v.protocol+d):new URL(d),S=pu(j.pathname,y);j.origin===v.origin&&S!=null?d=S+j.search+j.hash:p=!0}catch{}let f=vb(d,{relative:n}),b=Yb(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:n,viewTransition:h});function g(v){a&&a(v),v.defaultPrevented||b(v)}return N.createElement("a",Hc({},x,{href:m||f,onClick:p||l?a:g,ref:r,target:c}))});var Xm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Xm||(Xm={}));var Zm;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Zm||(Zm={}));function Yb(e,s){let{target:r,replace:a,state:n,preventScrollReset:l,relative:i,viewTransition:o}=s===void 0?{}:s,c=be(),d=sa(),u=cf(e,{relative:i});return N.useCallback(h=>{if(qb(h,r)){h.preventDefault();let x=a!==void 0?a:Di(d)===Di(u);c(e,{replace:x,state:n,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,a,n,r,e,l,i,o])}function so(e){let s=N.useRef(Qc(e)),r=N.useRef(!1),a=sa(),n=N.useMemo(()=>Hb(a.search,r.current?null:s.current),[a.search]),l=be(),i=N.useCallback((o,c)=>{const d=Qc(typeof o=="function"?o(n):o);r.current=!0,l("?"+d,c)},[l,n]);return[n,i]}var tn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Xb={setTimeout:(e,s)=>setTimeout(e,s),clearTimeout:e=>clearTimeout(e),setInterval:(e,s)=>setInterval(e,s),clearInterval:e=>clearInterval(e)},Qs,yd,Th,Zb=(Th=class{constructor(){ee(this,Qs,Xb);ee(this,yd,!1)}setTimeoutProvider(e){Q(this,Qs,e)}setTimeout(e,s){return E(this,Qs).setTimeout(e,s)}clearTimeout(e){E(this,Qs).clearTimeout(e)}setInterval(e,s){return E(this,Qs).setInterval(e,s)}clearInterval(e){E(this,Qs).clearInterval(e)}},Qs=new WeakMap,yd=new WeakMap,Th),Rr=new Zb;function ev(e){setTimeout(e,0)}var Jr=typeof window>"u"||"Deno"in globalThis;function ut(){}function tv(e,s){return typeof e=="function"?e(s):e}function Kc(e){return typeof e=="number"&&e>=0&&e!==1/0}function hf(e,s){return Math.max(e+(s||0)-Date.now(),0)}function mr(e,s){return typeof e=="function"?e(s):e}function _t(e,s){return typeof e=="function"?e(s):e}function eh(e,s){const{type:r="all",exact:a,fetchStatus:n,predicate:l,queryKey:i,stale:o}=e;if(i){if(a){if(s.queryHash!==yu(i,s.options))return!1}else if(!Zn(s.queryKey,i))return!1}if(r!=="all"){const c=s.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&s.isStale()!==o||n&&n!==s.state.fetchStatus||l&&!l(s))}function th(e,s){const{exact:r,status:a,predicate:n,mutationKey:l}=e;if(l){if(!s.options.mutationKey)return!1;if(r){if(Yr(s.options.mutationKey)!==Yr(l))return!1}else if(!Zn(s.options.mutationKey,l))return!1}return!(a&&s.state.status!==a||n&&!n(s))}function yu(e,s){return((s==null?void 0:s.queryKeyHashFn)||Yr)(e)}function Yr(e){return JSON.stringify(e,(s,r)=>Wc(r)?Object.keys(r).sort().reduce((a,n)=>(a[n]=r[n],a),{}):r)}function Zn(e,s){return e===s?!0:typeof e!=typeof s?!1:e&&s&&typeof e=="object"&&typeof s=="object"?Object.keys(s).every(r=>Zn(e[r],s[r])):!1}var sv=Object.prototype.hasOwnProperty;function pf(e,s){if(e===s)return e;const r=sh(e)&&sh(s);if(!r&&!(Wc(e)&&Wc(s)))return s;const n=(r?e:Object.keys(e)).length,l=r?s:Object.keys(s),i=l.length,o=r?new Array(i):{};let c=0;for(let d=0;d<i;d++){const u=r?d:l[d],h=e[u],x=s[u];if(h===x){o[u]=h,(r?d<n:sv.call(e,u))&&c++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){o[u]=x;continue}const y=pf(h,x);o[u]=y,y===h&&c++}return n===i&&c===n?e:o}function Ri(e,s){if(!s||Object.keys(e).length!==Object.keys(s).length)return!1;for(const r in e)if(e[r]!==s[r])return!1;return!0}function sh(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Wc(e){if(!rh(e))return!1;const s=e.constructor;if(s===void 0)return!0;const r=s.prototype;return!(!rh(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function rh(e){return Object.prototype.toString.call(e)==="[object Object]"}function rv(e){return new Promise(s=>{Rr.setTimeout(s,e)})}function Vc(e,s,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,s):r.structuralSharing!==!1?pf(e,s):s}function av(e,s,r=0){const a=[...e,s];return r&&a.length>r?a.slice(1):a}function nv(e,s,r=0){const a=[s,...e];return r&&a.length>r?a.slice(0,-1):a}var bu=Symbol();function xf(e,s){return!e.queryFn&&(s!=null&&s.initialPromise)?()=>s.initialPromise:!e.queryFn||e.queryFn===bu?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function vu(e,s){return typeof e=="function"?e(...s):!!e}function lv(e,s,r){let a=!1,n;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(n??(n=s()),a||(a=!0,n.aborted?r():n.addEventListener("abort",r,{once:!0})),n)}),e}var Tr,Ks,wa,Ah,iv=(Ah=class extends tn{constructor(){super();ee(this,Tr);ee(this,Ks);ee(this,wa);Q(this,wa,s=>{if(!Jr&&window.addEventListener){const r=()=>s();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){E(this,Ks)||this.setEventListener(E(this,wa))}onUnsubscribe(){var s;this.hasListeners()||((s=E(this,Ks))==null||s.call(this),Q(this,Ks,void 0))}setEventListener(s){var r;Q(this,wa,s),(r=E(this,Ks))==null||r.call(this),Q(this,Ks,s(a=>{typeof a=="boolean"?this.setFocused(a):this.onFocus()}))}setFocused(s){E(this,Tr)!==s&&(Q(this,Tr,s),this.onFocus())}onFocus(){const s=this.isFocused();this.listeners.forEach(r=>{r(s)})}isFocused(){var s;return typeof E(this,Tr)=="boolean"?E(this,Tr):((s=globalThis.document)==null?void 0:s.visibilityState)!=="hidden"}},Tr=new WeakMap,Ks=new WeakMap,wa=new WeakMap,Ah),ju=new iv;function Gc(){let e,s;const r=new Promise((n,l)=>{e=n,s=l});r.status="pending",r.catch(()=>{});function a(n){Object.assign(r,n),delete r.resolve,delete r.reject}return r.resolve=n=>{a({status:"fulfilled",value:n}),e(n)},r.reject=n=>{a({status:"rejected",reason:n}),s(n)},r}var ov=ev;function cv(){let e=[],s=0,r=o=>{o()},a=o=>{o()},n=ov;const l=o=>{s?e.push(o):n(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&n(()=>{a(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;s++;try{c=o()}finally{s--,s||i()}return c},batchCalls:o=>(...c)=>{l(()=>{o(...c)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{a=o},setScheduler:o=>{n=o}}}var ze=cv(),Sa,Ws,Ca,Oh,dv=(Oh=class extends tn{constructor(){super();ee(this,Sa,!0);ee(this,Ws);ee(this,Ca);Q(this,Ca,s=>{if(!Jr&&window.addEventListener){const r=()=>s(!0),a=()=>s(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",a,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",a)}}})}onSubscribe(){E(this,Ws)||this.setEventListener(E(this,Ca))}onUnsubscribe(){var s;this.hasListeners()||((s=E(this,Ws))==null||s.call(this),Q(this,Ws,void 0))}setEventListener(s){var r;Q(this,Ca,s),(r=E(this,Ws))==null||r.call(this),Q(this,Ws,s(this.setOnline.bind(this)))}setOnline(s){E(this,Sa)!==s&&(Q(this,Sa,s),this.listeners.forEach(a=>{a(s)}))}isOnline(){return E(this,Sa)}},Sa=new WeakMap,Ws=new WeakMap,Ca=new WeakMap,Oh),Mi=new dv;function uv(e){return Math.min(1e3*2**e,3e4)}function ff(e){return(e??"online")==="online"?Mi.isOnline():!0}var Jc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function gf(e){let s=!1,r=0,a;const n=Gc(),l=()=>n.status!=="pending",i=p=>{var f;if(!l()){const b=new Jc(p);x(b),(f=e.onCancel)==null||f.call(e,b)}},o=()=>{s=!0},c=()=>{s=!1},d=()=>ju.isFocused()&&(e.networkMode==="always"||Mi.isOnline())&&e.canRun(),u=()=>ff(e.networkMode)&&e.canRun(),h=p=>{l()||(a==null||a(),n.resolve(p))},x=p=>{l()||(a==null||a(),n.reject(p))},y=()=>new Promise(p=>{var f;a=b=>{(l()||d())&&p(b)},(f=e.onPause)==null||f.call(e)}).then(()=>{var p;a=void 0,l()||(p=e.onContinue)==null||p.call(e)}),m=()=>{if(l())return;let p;const f=r===0?e.initialPromise:void 0;try{p=f??e.fn()}catch(b){p=Promise.reject(b)}Promise.resolve(p).then(h).catch(b=>{var k;if(l())return;const g=e.retry??(Jr?0:3),v=e.retryDelay??uv,j=typeof v=="function"?v(r,b):v,S=g===!0||typeof g=="number"&&r<g||typeof g=="function"&&g(r,b);if(s||!S){x(b);return}r++,(k=e.onFail)==null||k.call(e,r,b),rv(j).then(()=>d()?void 0:y()).then(()=>{s?x(b):m()})})};return{promise:n,status:()=>n.status,cancel:i,continue:()=>(a==null||a(),n),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?m():y().then(m),n)}}var Ar,Lh,yf=(Lh=class{constructor(){ee(this,Ar)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Kc(this.gcTime)&&Q(this,Ar,Rr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Jr?1/0:5*60*1e3))}clearGcTimeout(){E(this,Ar)&&(Rr.clearTimeout(E(this,Ar)),Q(this,Ar,void 0))}},Ar=new WeakMap,Lh),Or,Pa,Lt,Lr,Qe,tl,_r,Kt,fs,_h,mv=(_h=class extends yf{constructor(s){super();ee(this,Kt);ee(this,Or);ee(this,Pa);ee(this,Lt);ee(this,Lr);ee(this,Qe);ee(this,tl);ee(this,_r);Q(this,_r,!1),Q(this,tl,s.defaultOptions),this.setOptions(s.options),this.observers=[],Q(this,Lr,s.client),Q(this,Lt,E(this,Lr).getQueryCache()),this.queryKey=s.queryKey,this.queryHash=s.queryHash,Q(this,Or,nh(this.options)),this.state=s.state??E(this,Or),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var s;return(s=E(this,Qe))==null?void 0:s.promise}setOptions(s){if(this.options={...E(this,tl),...s},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=nh(this.options);r.data!==void 0&&(this.setState(ah(r.data,r.dataUpdatedAt)),Q(this,Or,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&E(this,Lt).remove(this)}setData(s,r){const a=Vc(this.state.data,s,this.options);return le(this,Kt,fs).call(this,{data:a,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),a}setState(s,r){le(this,Kt,fs).call(this,{type:"setState",state:s,setStateOptions:r})}cancel(s){var a,n;const r=(a=E(this,Qe))==null?void 0:a.promise;return(n=E(this,Qe))==null||n.cancel(s),r?r.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(E(this,Or))}isActive(){return this.observers.some(s=>_t(s.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===bu||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(s=>mr(s.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(s=>s.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(s=0){return this.state.data===void 0?!0:s==="static"?!1:this.state.isInvalidated?!0:!hf(this.state.dataUpdatedAt,s)}onFocus(){var r;const s=this.observers.find(a=>a.shouldFetchOnWindowFocus());s==null||s.refetch({cancelRefetch:!1}),(r=E(this,Qe))==null||r.continue()}onOnline(){var r;const s=this.observers.find(a=>a.shouldFetchOnReconnect());s==null||s.refetch({cancelRefetch:!1}),(r=E(this,Qe))==null||r.continue()}addObserver(s){this.observers.includes(s)||(this.observers.push(s),this.clearGcTimeout(),E(this,Lt).notify({type:"observerAdded",query:this,observer:s}))}removeObserver(s){this.observers.includes(s)&&(this.observers=this.observers.filter(r=>r!==s),this.observers.length||(E(this,Qe)&&(E(this,_r)?E(this,Qe).cancel({revert:!0}):E(this,Qe).cancelRetry()),this.scheduleGc()),E(this,Lt).notify({type:"observerRemoved",query:this,observer:s}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||le(this,Kt,fs).call(this,{type:"invalidate"})}async fetch(s,r){var c,d,u,h,x,y,m,p,f,b,g,v;if(this.state.fetchStatus!=="idle"&&((c=E(this,Qe))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(E(this,Qe))return E(this,Qe).continueRetry(),E(this,Qe).promise}if(s&&this.setOptions(s),!this.options.queryFn){const j=this.observers.find(S=>S.options.queryFn);j&&this.setOptions(j.options)}const a=new AbortController,n=j=>{Object.defineProperty(j,"signal",{enumerable:!0,get:()=>(Q(this,_r,!0),a.signal)})},l=()=>{const j=xf(this.options,r),k=(()=>{const w={client:E(this,Lr),queryKey:this.queryKey,meta:this.meta};return n(w),w})();return Q(this,_r,!1),this.options.persister?this.options.persister(j,k,this):j(k)},o=(()=>{const j={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:E(this,Lr),state:this.state,fetchFn:l};return n(j),j})();(d=this.options.behavior)==null||d.onFetch(o,this),Q(this,Pa,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&le(this,Kt,fs).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),Q(this,Qe,gf({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:j=>{j instanceof Jc&&j.revert&&this.setState({...E(this,Pa),fetchStatus:"idle"}),a.abort()},onFail:(j,S)=>{le(this,Kt,fs).call(this,{type:"failed",failureCount:j,error:S})},onPause:()=>{le(this,Kt,fs).call(this,{type:"pause"})},onContinue:()=>{le(this,Kt,fs).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const j=await E(this,Qe).start();if(j===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(j),(y=(x=E(this,Lt).config).onSuccess)==null||y.call(x,j,this),(p=(m=E(this,Lt).config).onSettled)==null||p.call(m,j,this.state.error,this),j}catch(j){if(j instanceof Jc){if(j.silent)return E(this,Qe).promise;if(j.revert){if(this.state.data===void 0)throw j;return this.state.data}}throw le(this,Kt,fs).call(this,{type:"error",error:j}),(b=(f=E(this,Lt).config).onError)==null||b.call(f,j,this),(v=(g=E(this,Lt).config).onSettled)==null||v.call(g,this.state.data,j,this),j}finally{this.scheduleGc()}}},Or=new WeakMap,Pa=new WeakMap,Lt=new WeakMap,Lr=new WeakMap,Qe=new WeakMap,tl=new WeakMap,_r=new WeakMap,Kt=new WeakSet,fs=function(s){const r=a=>{switch(s.type){case"failed":return{...a,fetchFailureCount:s.failureCount,fetchFailureReason:s.error};case"pause":return{...a,fetchStatus:"paused"};case"continue":return{...a,fetchStatus:"fetching"};case"fetch":return{...a,...bf(a.data,this.options),fetchMeta:s.meta??null};case"success":const n={...a,...ah(s.data,s.dataUpdatedAt),dataUpdateCount:a.dataUpdateCount+1,...!s.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return Q(this,Pa,s.manual?n:void 0),n;case"error":const l=s.error;return{...a,error:l,errorUpdateCount:a.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:a.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...a,isInvalidated:!0};case"setState":return{...a,...s.state}}};this.state=r(this.state),ze.batch(()=>{this.observers.forEach(a=>{a.onQueryUpdate()}),E(this,Lt).notify({query:this,type:"updated",action:s})})},_h);function bf(e,s){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:ff(s.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function ah(e,s){return{data:e,dataUpdatedAt:s??Date.now(),error:null,isInvalidated:!1,status:"success"}}function nh(e){const s=typeof e.initialData=="function"?e.initialData():e.initialData,r=s!==void 0,a=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:s,dataUpdateCount:0,dataUpdatedAt:r?a??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var xt,ce,sl,ot,Ir,Ea,bs,Vs,rl,Da,Ra,Ur,$r,Gs,Ma,he,Nn,Yc,Xc,Zc,ed,td,sd,rd,vf,Ih,hv=(Ih=class extends tn{constructor(s,r){super();ee(this,he);ee(this,xt);ee(this,ce);ee(this,sl);ee(this,ot);ee(this,Ir);ee(this,Ea);ee(this,bs);ee(this,Vs);ee(this,rl);ee(this,Da);ee(this,Ra);ee(this,Ur);ee(this,$r);ee(this,Gs);ee(this,Ma,new Set);this.options=r,Q(this,xt,s),Q(this,Vs,null),Q(this,bs,Gc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(E(this,ce).addObserver(this),lh(E(this,ce),this.options)?le(this,he,Nn).call(this):this.updateResult(),le(this,he,ed).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return ad(E(this,ce),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return ad(E(this,ce),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,le(this,he,td).call(this),le(this,he,sd).call(this),E(this,ce).removeObserver(this)}setOptions(s){const r=this.options,a=E(this,ce);if(this.options=E(this,xt).defaultQueryOptions(s),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _t(this.options.enabled,E(this,ce))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");le(this,he,rd).call(this),E(this,ce).setOptions(this.options),r._defaulted&&!Ri(this.options,r)&&E(this,xt).getQueryCache().notify({type:"observerOptionsUpdated",query:E(this,ce),observer:this});const n=this.hasListeners();n&&ih(E(this,ce),a,this.options,r)&&le(this,he,Nn).call(this),this.updateResult(),n&&(E(this,ce)!==a||_t(this.options.enabled,E(this,ce))!==_t(r.enabled,E(this,ce))||mr(this.options.staleTime,E(this,ce))!==mr(r.staleTime,E(this,ce)))&&le(this,he,Yc).call(this);const l=le(this,he,Xc).call(this);n&&(E(this,ce)!==a||_t(this.options.enabled,E(this,ce))!==_t(r.enabled,E(this,ce))||l!==E(this,Gs))&&le(this,he,Zc).call(this,l)}getOptimisticResult(s){const r=E(this,xt).getQueryCache().build(E(this,xt),s),a=this.createResult(r,s);return xv(this,a)&&(Q(this,ot,a),Q(this,Ea,this.options),Q(this,Ir,E(this,ce).state)),a}getCurrentResult(){return E(this,ot)}trackResult(s,r){return new Proxy(s,{get:(a,n)=>(this.trackProp(n),r==null||r(n),n==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&E(this,bs).status==="pending"&&E(this,bs).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(a,n))})}trackProp(s){E(this,Ma).add(s)}getCurrentQuery(){return E(this,ce)}refetch({...s}={}){return this.fetch({...s})}fetchOptimistic(s){const r=E(this,xt).defaultQueryOptions(s),a=E(this,xt).getQueryCache().build(E(this,xt),r);return a.fetch().then(()=>this.createResult(a,r))}fetch(s){return le(this,he,Nn).call(this,{...s,cancelRefetch:s.cancelRefetch??!0}).then(()=>(this.updateResult(),E(this,ot)))}createResult(s,r){var O;const a=E(this,ce),n=this.options,l=E(this,ot),i=E(this,Ir),o=E(this,Ea),d=s!==a?s.state:E(this,sl),{state:u}=s;let h={...u},x=!1,y;if(r._optimisticResults){const C=this.hasListeners(),P=!C&&lh(s,r),R=C&&ih(s,a,r,n);(P||R)&&(h={...h,...bf(u.data,s.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:f}=h;y=h.data;let b=!1;if(r.placeholderData!==void 0&&y===void 0&&f==="pending"){let C;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=l.data,b=!0):C=typeof r.placeholderData=="function"?r.placeholderData((O=E(this,Ra))==null?void 0:O.state.data,E(this,Ra)):r.placeholderData,C!==void 0&&(f="success",y=Vc(l==null?void 0:l.data,C,r),x=!0)}if(r.select&&y!==void 0&&!b)if(l&&y===(i==null?void 0:i.data)&&r.select===E(this,rl))y=E(this,Da);else try{Q(this,rl,r.select),y=r.select(y),y=Vc(l==null?void 0:l.data,y,r),Q(this,Da,y),Q(this,Vs,null)}catch(C){Q(this,Vs,C)}E(this,Vs)&&(m=E(this,Vs),y=E(this,Da),p=Date.now(),f="error");const g=h.fetchStatus==="fetching",v=f==="pending",j=f==="error",S=v&&g,k=y!==void 0,D={status:f,fetchStatus:h.fetchStatus,isPending:v,isSuccess:f==="success",isError:j,isInitialLoading:S,isLoading:S,data:y,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:g,isRefetching:g&&!v,isLoadingError:j&&!k,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:j&&k,isStale:Nu(s,r),refetch:this.refetch,promise:E(this,bs),isEnabled:_t(r.enabled,s)!==!1};if(this.options.experimental_prefetchInRender){const C=I=>{D.status==="error"?I.reject(D.error):D.data!==void 0&&I.resolve(D.data)},P=()=>{const I=Q(this,bs,D.promise=Gc());C(I)},R=E(this,bs);switch(R.status){case"pending":s.queryHash===a.queryHash&&C(R);break;case"fulfilled":(D.status==="error"||D.data!==R.value)&&P();break;case"rejected":(D.status!=="error"||D.error!==R.reason)&&P();break}}return D}updateResult(){const s=E(this,ot),r=this.createResult(E(this,ce),this.options);if(Q(this,Ir,E(this,ce).state),Q(this,Ea,this.options),E(this,Ir).data!==void 0&&Q(this,Ra,E(this,ce)),Ri(r,s))return;Q(this,ot,r);const a=()=>{if(!s)return!0;const{notifyOnChangeProps:n}=this.options,l=typeof n=="function"?n():n;if(l==="all"||!l&&!E(this,Ma).size)return!0;const i=new Set(l??E(this,Ma));return this.options.throwOnError&&i.add("error"),Object.keys(E(this,ot)).some(o=>{const c=o;return E(this,ot)[c]!==s[c]&&i.has(c)})};le(this,he,vf).call(this,{listeners:a()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&le(this,he,ed).call(this)}},xt=new WeakMap,ce=new WeakMap,sl=new WeakMap,ot=new WeakMap,Ir=new WeakMap,Ea=new WeakMap,bs=new WeakMap,Vs=new WeakMap,rl=new WeakMap,Da=new WeakMap,Ra=new WeakMap,Ur=new WeakMap,$r=new WeakMap,Gs=new WeakMap,Ma=new WeakMap,he=new WeakSet,Nn=function(s){le(this,he,rd).call(this);let r=E(this,ce).fetch(this.options,s);return s!=null&&s.throwOnError||(r=r.catch(ut)),r},Yc=function(){le(this,he,td).call(this);const s=mr(this.options.staleTime,E(this,ce));if(Jr||E(this,ot).isStale||!Kc(s))return;const a=hf(E(this,ot).dataUpdatedAt,s)+1;Q(this,Ur,Rr.setTimeout(()=>{E(this,ot).isStale||this.updateResult()},a))},Xc=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(E(this,ce)):this.options.refetchInterval)??!1},Zc=function(s){le(this,he,sd).call(this),Q(this,Gs,s),!(Jr||_t(this.options.enabled,E(this,ce))===!1||!Kc(E(this,Gs))||E(this,Gs)===0)&&Q(this,$r,Rr.setInterval(()=>{(this.options.refetchIntervalInBackground||ju.isFocused())&&le(this,he,Nn).call(this)},E(this,Gs)))},ed=function(){le(this,he,Yc).call(this),le(this,he,Zc).call(this,le(this,he,Xc).call(this))},td=function(){E(this,Ur)&&(Rr.clearTimeout(E(this,Ur)),Q(this,Ur,void 0))},sd=function(){E(this,$r)&&(Rr.clearInterval(E(this,$r)),Q(this,$r,void 0))},rd=function(){const s=E(this,xt).getQueryCache().build(E(this,xt),this.options);if(s===E(this,ce))return;const r=E(this,ce);Q(this,ce,s),Q(this,sl,s.state),this.hasListeners()&&(r==null||r.removeObserver(this),s.addObserver(this))},vf=function(s){ze.batch(()=>{s.listeners&&this.listeners.forEach(r=>{r(E(this,ot))}),E(this,xt).getQueryCache().notify({query:E(this,ce),type:"observerResultsUpdated"})})},Ih);function pv(e,s){return _t(s.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&s.retryOnMount===!1)}function lh(e,s){return pv(e,s)||e.state.data!==void 0&&ad(e,s,s.refetchOnMount)}function ad(e,s,r){if(_t(s.enabled,e)!==!1&&mr(s.staleTime,e)!=="static"){const a=typeof r=="function"?r(e):r;return a==="always"||a!==!1&&Nu(e,s)}return!1}function ih(e,s,r,a){return(e!==s||_t(a.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&Nu(e,r)}function Nu(e,s){return _t(s.enabled,e)!==!1&&e.isStaleByTime(mr(s.staleTime,e))}function xv(e,s){return!Ri(e.getCurrentResult(),s)}function oh(e){return{onFetch:(s,r)=>{var u,h,x,y,m;const a=s.options,n=(x=(h=(u=s.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,l=((y=s.state.data)==null?void 0:y.pages)||[],i=((m=s.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const f=v=>{lv(v,()=>s.signal,()=>p=!0)},b=xf(s.options,s.fetchOptions),g=async(v,j,S)=>{if(p)return Promise.reject();if(j==null&&v.pages.length)return Promise.resolve(v);const w=(()=>{const P={client:s.client,queryKey:s.queryKey,pageParam:j,direction:S?"backward":"forward",meta:s.options.meta};return f(P),P})(),D=await b(w),{maxPages:O}=s.options,C=S?nv:av;return{pages:C(v.pages,D,O),pageParams:C(v.pageParams,j,O)}};if(n&&l.length){const v=n==="backward",j=v?fv:ch,S={pages:l,pageParams:i},k=j(a,S);o=await g(S,k,v)}else{const v=e??l.length;do{const j=c===0?i[0]??a.initialPageParam:ch(a,o);if(c>0&&j==null)break;o=await g(o,j),c++}while(c<v)}return o};s.options.persister?s.fetchFn=()=>{var p,f;return(f=(p=s.options).persister)==null?void 0:f.call(p,d,{client:s.client,queryKey:s.queryKey,meta:s.options.meta,signal:s.signal},r)}:s.fetchFn=d}}}function ch(e,{pages:s,pageParams:r}){const a=s.length-1;return s.length>0?e.getNextPageParam(s[a],s,r[a],r):void 0}function fv(e,{pages:s,pageParams:r}){var a;return s.length>0?(a=e.getPreviousPageParam)==null?void 0:a.call(e,s[0],s,r[0],r):void 0}var al,ls,ct,Br,is,Us,Uh,gv=(Uh=class extends yf{constructor(s){super();ee(this,is);ee(this,al);ee(this,ls);ee(this,ct);ee(this,Br);Q(this,al,s.client),this.mutationId=s.mutationId,Q(this,ct,s.mutationCache),Q(this,ls,[]),this.state=s.state||jf(),this.setOptions(s.options),this.scheduleGc()}setOptions(s){this.options=s,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(s){E(this,ls).includes(s)||(E(this,ls).push(s),this.clearGcTimeout(),E(this,ct).notify({type:"observerAdded",mutation:this,observer:s}))}removeObserver(s){Q(this,ls,E(this,ls).filter(r=>r!==s)),this.scheduleGc(),E(this,ct).notify({type:"observerRemoved",mutation:this,observer:s})}optionalRemove(){E(this,ls).length||(this.state.status==="pending"?this.scheduleGc():E(this,ct).remove(this))}continue(){var s;return((s=E(this,Br))==null?void 0:s.continue())??this.execute(this.state.variables)}async execute(s){var i,o,c,d,u,h,x,y,m,p,f,b,g,v,j,S,k,w,D,O;const r=()=>{le(this,is,Us).call(this,{type:"continue"})},a={client:E(this,al),meta:this.options.meta,mutationKey:this.options.mutationKey};Q(this,Br,gf({fn:()=>this.options.mutationFn?this.options.mutationFn(s,a):Promise.reject(new Error("No mutationFn found")),onFail:(C,P)=>{le(this,is,Us).call(this,{type:"failed",failureCount:C,error:P})},onPause:()=>{le(this,is,Us).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>E(this,ct).canRun(this)}));const n=this.state.status==="pending",l=!E(this,Br).canStart();try{if(n)r();else{le(this,is,Us).call(this,{type:"pending",variables:s,isPaused:l}),await((o=(i=E(this,ct).config).onMutate)==null?void 0:o.call(i,s,this,a));const P=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,s,a));P!==this.state.context&&le(this,is,Us).call(this,{type:"pending",context:P,variables:s,isPaused:l})}const C=await E(this,Br).start();return await((h=(u=E(this,ct).config).onSuccess)==null?void 0:h.call(u,C,s,this.state.context,this,a)),await((y=(x=this.options).onSuccess)==null?void 0:y.call(x,C,s,this.state.context,a)),await((p=(m=E(this,ct).config).onSettled)==null?void 0:p.call(m,C,null,this.state.variables,this.state.context,this,a)),await((b=(f=this.options).onSettled)==null?void 0:b.call(f,C,null,s,this.state.context,a)),le(this,is,Us).call(this,{type:"success",data:C}),C}catch(C){try{await((v=(g=E(this,ct).config).onError)==null?void 0:v.call(g,C,s,this.state.context,this,a))}catch(P){Promise.reject(P)}try{await((S=(j=this.options).onError)==null?void 0:S.call(j,C,s,this.state.context,a))}catch(P){Promise.reject(P)}try{await((w=(k=E(this,ct).config).onSettled)==null?void 0:w.call(k,void 0,C,this.state.variables,this.state.context,this,a))}catch(P){Promise.reject(P)}try{await((O=(D=this.options).onSettled)==null?void 0:O.call(D,void 0,C,s,this.state.context,a))}catch(P){Promise.reject(P)}throw le(this,is,Us).call(this,{type:"error",error:C}),C}finally{E(this,ct).runNext(this)}}},al=new WeakMap,ls=new WeakMap,ct=new WeakMap,Br=new WeakMap,is=new WeakSet,Us=function(s){const r=a=>{switch(s.type){case"failed":return{...a,failureCount:s.failureCount,failureReason:s.error};case"pause":return{...a,isPaused:!0};case"continue":return{...a,isPaused:!1};case"pending":return{...a,context:s.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:s.isPaused,status:"pending",variables:s.variables,submittedAt:Date.now()};case"success":return{...a,data:s.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...a,data:void 0,error:s.error,failureCount:a.failureCount+1,failureReason:s.error,isPaused:!1,status:"error"}}};this.state=r(this.state),ze.batch(()=>{E(this,ls).forEach(a=>{a.onMutationUpdate(s)}),E(this,ct).notify({mutation:this,type:"updated",action:s})})},Uh);function jf(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vs,Wt,nl,$h,yv=($h=class extends tn{constructor(s={}){super();ee(this,vs);ee(this,Wt);ee(this,nl);this.config=s,Q(this,vs,new Set),Q(this,Wt,new Map),Q(this,nl,0)}build(s,r,a){const n=new gv({client:s,mutationCache:this,mutationId:++yl(this,nl)._,options:s.defaultMutationOptions(r),state:a});return this.add(n),n}add(s){E(this,vs).add(s);const r=Ll(s);if(typeof r=="string"){const a=E(this,Wt).get(r);a?a.push(s):E(this,Wt).set(r,[s])}this.notify({type:"added",mutation:s})}remove(s){if(E(this,vs).delete(s)){const r=Ll(s);if(typeof r=="string"){const a=E(this,Wt).get(r);if(a)if(a.length>1){const n=a.indexOf(s);n!==-1&&a.splice(n,1)}else a[0]===s&&E(this,Wt).delete(r)}}this.notify({type:"removed",mutation:s})}canRun(s){const r=Ll(s);if(typeof r=="string"){const a=E(this,Wt).get(r),n=a==null?void 0:a.find(l=>l.state.status==="pending");return!n||n===s}else return!0}runNext(s){var a;const r=Ll(s);if(typeof r=="string"){const n=(a=E(this,Wt).get(r))==null?void 0:a.find(l=>l!==s&&l.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}else return Promise.resolve()}clear(){ze.batch(()=>{E(this,vs).forEach(s=>{this.notify({type:"removed",mutation:s})}),E(this,vs).clear(),E(this,Wt).clear()})}getAll(){return Array.from(E(this,vs))}find(s){const r={exact:!0,...s};return this.getAll().find(a=>th(r,a))}findAll(s={}){return this.getAll().filter(r=>th(s,r))}notify(s){ze.batch(()=>{this.listeners.forEach(r=>{r(s)})})}resumePausedMutations(){const s=this.getAll().filter(r=>r.state.isPaused);return ze.batch(()=>Promise.all(s.map(r=>r.continue().catch(ut))))}},vs=new WeakMap,Wt=new WeakMap,nl=new WeakMap,$h);function Ll(e){var s;return(s=e.options.scope)==null?void 0:s.id}var js,Js,ft,Ns,Cs,Xl,nd,Bh,bv=(Bh=class extends tn{constructor(r,a){super();ee(this,Cs);ee(this,js);ee(this,Js);ee(this,ft);ee(this,Ns);Q(this,js,r),this.setOptions(a),this.bindMethods(),le(this,Cs,Xl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var n;const a=this.options;this.options=E(this,js).defaultMutationOptions(r),Ri(this.options,a)||E(this,js).getMutationCache().notify({type:"observerOptionsUpdated",mutation:E(this,ft),observer:this}),a!=null&&a.mutationKey&&this.options.mutationKey&&Yr(a.mutationKey)!==Yr(this.options.mutationKey)?this.reset():((n=E(this,ft))==null?void 0:n.state.status)==="pending"&&E(this,ft).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=E(this,ft))==null||r.removeObserver(this)}onMutationUpdate(r){le(this,Cs,Xl).call(this),le(this,Cs,nd).call(this,r)}getCurrentResult(){return E(this,Js)}reset(){var r;(r=E(this,ft))==null||r.removeObserver(this),Q(this,ft,void 0),le(this,Cs,Xl).call(this),le(this,Cs,nd).call(this)}mutate(r,a){var n;return Q(this,Ns,a),(n=E(this,ft))==null||n.removeObserver(this),Q(this,ft,E(this,js).getMutationCache().build(E(this,js),this.options)),E(this,ft).addObserver(this),E(this,ft).execute(r)}},js=new WeakMap,Js=new WeakMap,ft=new WeakMap,Ns=new WeakMap,Cs=new WeakSet,Xl=function(){var a;const r=((a=E(this,ft))==null?void 0:a.state)??jf();Q(this,Js,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},nd=function(r){ze.batch(()=>{var a,n,l,i,o,c,d,u;if(E(this,Ns)&&this.hasListeners()){const h=E(this,Js).variables,x=E(this,Js).context,y={client:E(this,js),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(n=(a=E(this,Ns)).onSuccess)==null||n.call(a,r.data,h,x,y)}catch(m){Promise.reject(m)}try{(i=(l=E(this,Ns)).onSettled)==null||i.call(l,r.data,null,h,x,y)}catch(m){Promise.reject(m)}}else if((r==null?void 0:r.type)==="error"){try{(c=(o=E(this,Ns)).onError)==null||c.call(o,r.error,h,x,y)}catch(m){Promise.reject(m)}try{(u=(d=E(this,Ns)).onSettled)==null||u.call(d,void 0,r.error,h,x,y)}catch(m){Promise.reject(m)}}}this.listeners.forEach(h=>{h(E(this,Js))})})},Bh),os,zh,vv=(zh=class extends tn{constructor(s={}){super();ee(this,os);this.config=s,Q(this,os,new Map)}build(s,r,a){const n=r.queryKey,l=r.queryHash??yu(n,r);let i=this.get(l);return i||(i=new mv({client:s,queryKey:n,queryHash:l,options:s.defaultQueryOptions(r),state:a,defaultOptions:s.getQueryDefaults(n)}),this.add(i)),i}add(s){E(this,os).has(s.queryHash)||(E(this,os).set(s.queryHash,s),this.notify({type:"added",query:s}))}remove(s){const r=E(this,os).get(s.queryHash);r&&(s.destroy(),r===s&&E(this,os).delete(s.queryHash),this.notify({type:"removed",query:s}))}clear(){ze.batch(()=>{this.getAll().forEach(s=>{this.remove(s)})})}get(s){return E(this,os).get(s)}getAll(){return[...E(this,os).values()]}find(s){const r={exact:!0,...s};return this.getAll().find(a=>eh(r,a))}findAll(s={}){const r=this.getAll();return Object.keys(s).length>0?r.filter(a=>eh(s,a)):r}notify(s){ze.batch(()=>{this.listeners.forEach(r=>{r(s)})})}onFocus(){ze.batch(()=>{this.getAll().forEach(s=>{s.onFocus()})})}onOnline(){ze.batch(()=>{this.getAll().forEach(s=>{s.onOnline()})})}},os=new WeakMap,zh),Re,Ys,Xs,Fa,Ta,Zs,Aa,Oa,qh,jv=(qh=class{constructor(e={}){ee(this,Re);ee(this,Ys);ee(this,Xs);ee(this,Fa);ee(this,Ta);ee(this,Zs);ee(this,Aa);ee(this,Oa);Q(this,Re,e.queryCache||new vv),Q(this,Ys,e.mutationCache||new yv),Q(this,Xs,e.defaultOptions||{}),Q(this,Fa,new Map),Q(this,Ta,new Map),Q(this,Zs,0)}mount(){yl(this,Zs)._++,E(this,Zs)===1&&(Q(this,Aa,ju.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Re).onFocus())})),Q(this,Oa,Mi.subscribe(async e=>{e&&(await this.resumePausedMutations(),E(this,Re).onOnline())})))}unmount(){var e,s;yl(this,Zs)._--,E(this,Zs)===0&&((e=E(this,Aa))==null||e.call(this),Q(this,Aa,void 0),(s=E(this,Oa))==null||s.call(this),Q(this,Oa,void 0))}isFetching(e){return E(this,Re).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return E(this,Ys).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=E(this,Re).get(s.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const s=this.defaultQueryOptions(e),r=E(this,Re).build(this,s),a=r.state.data;return a===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(mr(s.staleTime,r))&&this.prefetchQuery(s),Promise.resolve(a))}getQueriesData(e){return E(this,Re).findAll(e).map(({queryKey:s,state:r})=>{const a=r.data;return[s,a]})}setQueryData(e,s,r){const a=this.defaultQueryOptions({queryKey:e}),n=E(this,Re).get(a.queryHash),l=n==null?void 0:n.state.data,i=tv(s,l);if(i!==void 0)return E(this,Re).build(this,a).setData(i,{...r,manual:!0})}setQueriesData(e,s,r){return ze.batch(()=>E(this,Re).findAll(e).map(({queryKey:a})=>[a,this.setQueryData(a,s,r)]))}getQueryState(e){var r;const s=this.defaultQueryOptions({queryKey:e});return(r=E(this,Re).get(s.queryHash))==null?void 0:r.state}removeQueries(e){const s=E(this,Re);ze.batch(()=>{s.findAll(e).forEach(r=>{s.remove(r)})})}resetQueries(e,s){const r=E(this,Re);return ze.batch(()=>(r.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries({type:"active",...e},s)))}cancelQueries(e,s={}){const r={revert:!0,...s},a=ze.batch(()=>E(this,Re).findAll(e).map(n=>n.cancel(r)));return Promise.all(a).then(ut).catch(ut)}invalidateQueries(e,s={}){return ze.batch(()=>(E(this,Re).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},s)))}refetchQueries(e,s={}){const r={...s,cancelRefetch:s.cancelRefetch??!0},a=ze.batch(()=>E(this,Re).findAll(e).filter(n=>!n.isDisabled()&&!n.isStatic()).map(n=>{let l=n.fetch(void 0,r);return r.throwOnError||(l=l.catch(ut)),n.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(a).then(ut)}fetchQuery(e){const s=this.defaultQueryOptions(e);s.retry===void 0&&(s.retry=!1);const r=E(this,Re).build(this,s);return r.isStaleByTime(mr(s.staleTime,r))?r.fetch(s):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(ut).catch(ut)}fetchInfiniteQuery(e){return e.behavior=oh(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(ut).catch(ut)}ensureInfiniteQueryData(e){return e.behavior=oh(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mi.isOnline()?E(this,Ys).resumePausedMutations():Promise.resolve()}getQueryCache(){return E(this,Re)}getMutationCache(){return E(this,Ys)}getDefaultOptions(){return E(this,Xs)}setDefaultOptions(e){Q(this,Xs,e)}setQueryDefaults(e,s){E(this,Fa).set(Yr(e),{queryKey:e,defaultOptions:s})}getQueryDefaults(e){const s=[...E(this,Fa).values()],r={};return s.forEach(a=>{Zn(e,a.queryKey)&&Object.assign(r,a.defaultOptions)}),r}setMutationDefaults(e,s){E(this,Ta).set(Yr(e),{mutationKey:e,defaultOptions:s})}getMutationDefaults(e){const s=[...E(this,Ta).values()],r={};return s.forEach(a=>{Zn(e,a.mutationKey)&&Object.assign(r,a.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const s={...E(this,Xs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return s.queryHash||(s.queryHash=yu(s.queryKey,s)),s.refetchOnReconnect===void 0&&(s.refetchOnReconnect=s.networkMode!=="always"),s.throwOnError===void 0&&(s.throwOnError=!!s.suspense),!s.networkMode&&s.persister&&(s.networkMode="offlineFirst"),s.queryFn===bu&&(s.enabled=!1),s}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...E(this,Xs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){E(this,Re).clear(),E(this,Ys).clear()}},Re=new WeakMap,Ys=new WeakMap,Xs=new WeakMap,Fa=new WeakMap,Ta=new WeakMap,Zs=new WeakMap,Aa=new WeakMap,Oa=new WeakMap,qh),Nf=N.createContext(void 0),pe=e=>{const s=N.useContext(Nf);if(!s)throw new Error("No QueryClient set, use QueryClientProvider to set one");return s},Nv=({client:e,children:s})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),t.jsx(Nf.Provider,{value:e,children:s})),kf=N.createContext(!1),kv=()=>N.useContext(kf);kf.Provider;function wv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Sv=N.createContext(wv()),Cv=()=>N.useContext(Sv),Pv=(e,s,r)=>{const a=r!=null&&r.state.error&&typeof e.throwOnError=="function"?vu(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||a)&&(s.isReset()||(e.retryOnMount=!1))},Ev=e=>{N.useEffect(()=>{e.clearReset()},[e])},Dv=({result:e,errorResetBoundary:s,throwOnError:r,query:a,suspense:n})=>e.isError&&!s.isReset()&&!e.isFetching&&a&&(n&&e.data===void 0||vu(r,[e.error,a])),Rv=e=>{if(e.suspense){const r=n=>n==="static"?n:Math.max(n??1e3,1e3),a=e.staleTime;e.staleTime=typeof a=="function"?(...n)=>r(a(...n)):r(a),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},Mv=(e,s)=>e.isLoading&&e.isFetching&&!s,Fv=(e,s)=>(e==null?void 0:e.suspense)&&s.isPending,dh=(e,s,r)=>s.fetchOptimistic(e).catch(()=>{r.clearReset()});function Tv(e,s,r){var x,y,m,p;const a=kv(),n=Cv(),l=pe(),i=l.defaultQueryOptions(e);(y=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||y.call(x,i);const o=l.getQueryCache().get(i.queryHash);i._optimisticResults=a?"isRestoring":"optimistic",Rv(i),Pv(i,n,o),Ev(n);const c=!l.getQueryCache().get(i.queryHash),[d]=N.useState(()=>new s(l,i)),u=d.getOptimisticResult(i),h=!a&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(f=>{const b=h?d.subscribe(ze.batchCalls(f)):ut;return d.updateResult(),b},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(i)},[i,d]),Fv(i,u))throw dh(i,d,n);if(Dv({result:u,errorResetBoundary:n,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw u.error;if((p=(m=l.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,i,u),i.experimental_prefetchInRender&&!Jr&&Mv(u,a)){const f=c?dh(i,d,n):o==null?void 0:o.promise;f==null||f.catch(ut).finally(()=>{d.updateResult()})}return i.notifyOnChangeProps?u:d.trackResult(u)}function Z(e,s){return Tv(e,hv)}function K(e,s){const r=pe(),[a]=N.useState(()=>new bv(r,e));N.useEffect(()=>{a.setOptions(e)},[a,e]);const n=N.useSyncExternalStore(N.useCallback(i=>a.subscribe(ze.batchCalls(i)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),l=N.useCallback((i,o)=>{a.mutate(i,o).catch(ut)},[a]);if(n.error&&vu(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:l,mutateAsync:n.mutate}}let Av={data:""},Ov=e=>{if(typeof window=="object"){let s=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return s.nonce=window.__nonce__,s.parentNode||(e||document.head).appendChild(s),s.firstChild}return e||Av},Lv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,_v=/\/\*[^]*?\*\/|  +/g,uh=/\n+/g,Hs=(e,s)=>{let r="",a="",n="";for(let l in e){let i=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":a+=l[1]=="f"?Hs(i,l):l+"{"+Hs(i,l[1]=="k"?"":s)+"}":typeof i=="object"?a+=Hs(i,s?s.replace(/([^,])+/g,o=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),n+=Hs.p?Hs.p(l,i):l+":"+i+";")}return r+(s&&n?s+"{"+n+"}":n)+a},xs={},wf=e=>{if(typeof e=="object"){let s="";for(let r in e)s+=r+wf(e[r]);return s}return e},Iv=(e,s,r,a,n)=>{let l=wf(e),i=xs[l]||(xs[l]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(l));if(!xs[i]){let c=l!==e?e:(d=>{let u,h,x=[{}];for(;u=Lv.exec(d.replace(_v,""));)u[4]?x.shift():u[3]?(h=u[3].replace(uh," ").trim(),x.unshift(x[0][h]=x[0][h]||{})):x[0][u[1]]=u[2].replace(uh," ").trim();return x[0]})(e);xs[i]=Hs(n?{["@keyframes "+i]:c}:c,r?"":"."+i)}let o=r&&xs.g?xs.g:null;return r&&(xs.g=xs[i]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(xs[i],s,a,o),i},Uv=(e,s,r)=>e.reduce((a,n,l)=>{let i=s[l];if(i&&i.call){let o=i(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":Hs(o,""):o===!1?"":o}return a+n+(i??"")},"");function ro(e){let s=this||{},r=e.call?e(s.p):e;return Iv(r.unshift?r.raw?Uv(r,[].slice.call(arguments,1),s.p):r.reduce((a,n)=>Object.assign(a,n&&n.call?n(s.p):n),{}):r,Ov(s.target),s.g,s.o,s.k)}let Sf,ld,id;ro.bind({g:1});let Ms=ro.bind({k:1});function $v(e,s,r,a){Hs.p=s,Sf=e,ld=r,id=a}function Nr(e,s){let r=this||{};return function(){let a=arguments;function n(l,i){let o=Object.assign({},l),c=o.className||n.className;r.p=Object.assign({theme:ld&&ld()},o),r.o=/ *go\d+/.test(c),o.className=ro.apply(r,a)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),id&&d[0]&&id(o),Sf(d,o)}return n}}var Bv=e=>typeof e=="function",Fi=(e,s)=>Bv(e)?e(s):e,zv=(()=>{let e=0;return()=>(++e).toString()})(),Cf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let s=matchMedia("(prefers-reduced-motion: reduce)");e=!s||s.matches}return e}})(),qv=20,ku="default",Pf=(e,s)=>{let{toastLimit:r}=e.settings;switch(s.type){case 0:return{...e,toasts:[s.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===s.toast.id?{...i,...s.toast}:i)};case 2:let{toast:a}=s;return Pf(e,{type:e.toasts.find(i=>i.id===a.id)?1:0,toast:a});case 3:let{toastId:n}=s;return{...e,toasts:e.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return s.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==s.toastId)};case 5:return{...e,pausedAt:s.time};case 6:let l=s.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},Zl=[],Ef={toasts:[],pausedAt:void 0,settings:{toastLimit:qv}},ds={},Df=(e,s=ku)=>{ds[s]=Pf(ds[s]||Ef,e),Zl.forEach(([r,a])=>{r===s&&a(ds[s])})},Rf=e=>Object.keys(ds).forEach(s=>Df(e,s)),Hv=e=>Object.keys(ds).find(s=>ds[s].toasts.some(r=>r.id===e)),ao=(e=ku)=>s=>{Df(s,e)},Qv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Kv=(e={},s=ku)=>{let[r,a]=N.useState(ds[s]||Ef),n=N.useRef(ds[s]);N.useEffect(()=>(n.current!==ds[s]&&a(ds[s]),Zl.push([s,a]),()=>{let i=Zl.findIndex(([o])=>o===s);i>-1&&Zl.splice(i,1)}),[s]);let l=r.toasts.map(i=>{var o,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Qv[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...r,toasts:l}},Wv=(e,s="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:s,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||zv()}),ul=e=>(s,r)=>{let a=Wv(s,e,r);return ao(a.toasterId||Hv(a.id))({type:2,toast:a}),a.id},qe=(e,s)=>ul("blank")(e,s);qe.error=ul("error");qe.success=ul("success");qe.loading=ul("loading");qe.custom=ul("custom");qe.dismiss=(e,s)=>{let r={type:3,toastId:e};s?ao(s)(r):Rf(r)};qe.dismissAll=e=>qe.dismiss(void 0,e);qe.remove=(e,s)=>{let r={type:4,toastId:e};s?ao(s)(r):Rf(r)};qe.removeAll=e=>qe.remove(void 0,e);qe.promise=(e,s,r)=>{let a=qe.loading(s.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(n=>{let l=s.success?Fi(s.success,n):void 0;return l?qe.success(l,{id:a,...r,...r==null?void 0:r.success}):qe.dismiss(a),n}).catch(n=>{let l=s.error?Fi(s.error,n):void 0;l?qe.error(l,{id:a,...r,...r==null?void 0:r.error}):qe.dismiss(a)}),e};var Vv=1e3,Gv=(e,s="default")=>{let{toasts:r,pausedAt:a}=Kv(e,s),n=N.useRef(new Map).current,l=N.useCallback((h,x=Vv)=>{if(n.has(h))return;let y=setTimeout(()=>{n.delete(h),i({type:4,toastId:h})},x);n.set(h,y)},[]);N.useEffect(()=>{if(a)return;let h=Date.now(),x=r.map(y=>{if(y.duration===1/0)return;let m=(y.duration||0)+y.pauseDuration-(h-y.createdAt);if(m<0){y.visible&&qe.dismiss(y.id);return}return setTimeout(()=>qe.dismiss(y.id,s),m)});return()=>{x.forEach(y=>y&&clearTimeout(y))}},[r,a,s]);let i=N.useCallback(ao(s),[s]),o=N.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=N.useCallback((h,x)=>{i({type:1,toast:{id:h,height:x}})},[i]),d=N.useCallback(()=>{a&&i({type:6,time:Date.now()})},[a,i]),u=N.useCallback((h,x)=>{let{reverseOrder:y=!1,gutter:m=8,defaultPosition:p}=x||{},f=r.filter(v=>(v.position||p)===(h.position||p)&&v.height),b=f.findIndex(v=>v.id===h.id),g=f.filter((v,j)=>j<b&&v.visible).length;return f.filter(v=>v.visible).slice(...y?[g+1]:[0,g]).reduce((v,j)=>v+(j.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(h=>{if(h.dismissed)l(h.id,h.removeDelay);else{let x=n.get(h.id);x&&(clearTimeout(x),n.delete(h.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},Jv=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Yv=Ms`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Xv=Ms`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Zv=Nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Jv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Yv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Xv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,ej=Ms`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,tj=Nr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${ej} 1s linear infinite;
`,sj=Ms`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,rj=Ms`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,aj=Nr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sj} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${rj} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,nj=Nr("div")`
  position: absolute;
`,lj=Nr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,ij=Ms`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,oj=Nr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${ij} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,cj=({toast:e})=>{let{icon:s,type:r,iconTheme:a}=e;return s!==void 0?typeof s=="string"?N.createElement(oj,null,s):s:r==="blank"?null:N.createElement(lj,null,N.createElement(tj,{...a}),r!=="loading"&&N.createElement(nj,null,r==="error"?N.createElement(Zv,{...a}):N.createElement(aj,{...a})))},dj=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,uj=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,mj="0%{opacity:0;} 100%{opacity:1;}",hj="0%{opacity:1;} 100%{opacity:0;}",pj=Nr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,xj=Nr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,fj=(e,s)=>{let r=e.includes("top")?1:-1,[a,n]=Cf()?[mj,hj]:[dj(r),uj(r)];return{animation:s?`${Ms(a)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${Ms(n)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},gj=N.memo(({toast:e,position:s,style:r,children:a})=>{let n=e.height?fj(e.position||s||"top-center",e.visible):{opacity:0},l=N.createElement(cj,{toast:e}),i=N.createElement(xj,{...e.ariaProps},Fi(e.message,e));return N.createElement(pj,{className:e.className,style:{...n,...r,...e.style}},typeof a=="function"?a({icon:l,message:i}):N.createElement(N.Fragment,null,l,i))});$v(N.createElement);var yj=({id:e,className:s,style:r,onHeightUpdate:a,children:n})=>{let l=N.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;a(e,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,a]);return N.createElement("div",{ref:l,className:s,style:r},n)},bj=(e,s)=>{let r=e.includes("top"),a=r?{top:0}:{bottom:0},n=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:Cf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${s*(r?1:-1)}px)`,...a,...n}},vj=ro`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,_l=16,jj=({reverseOrder:e,position:s="top-center",toastOptions:r,gutter:a,children:n,toasterId:l,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=Gv(r,l);return N.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:_l,left:_l,right:_l,bottom:_l,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||s,x=d.calculateOffset(u,{reverseOrder:e,gutter:a,defaultPosition:s}),y=bj(h,x);return N.createElement(yj,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?vj:"",style:y},u.type==="custom"?Fi(u.message,u):n?n(u):N.createElement(gj,{toast:u,position:h}))}))},B=qe;function Mf(e,s){return function(){return e.apply(s,arguments)}}const{toString:Nj}=Object.prototype,{getPrototypeOf:wu}=Object,{iterator:no,toStringTag:Ff}=Symbol,lo=(e=>s=>{const r=Nj.call(s);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),es=e=>(e=e.toLowerCase(),s=>lo(s)===e),io=e=>s=>typeof s===e,{isArray:sn}=Array,qa=io("undefined");function ml(e){return e!==null&&!qa(e)&&e.constructor!==null&&!qa(e.constructor)&&kt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Tf=es("ArrayBuffer");function kj(e){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(e):s=e&&e.buffer&&Tf(e.buffer),s}const wj=io("string"),kt=io("function"),Af=io("number"),hl=e=>e!==null&&typeof e=="object",Sj=e=>e===!0||e===!1,ei=e=>{if(lo(e)!=="object")return!1;const s=wu(e);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(Ff in e)&&!(no in e)},Cj=e=>{if(!hl(e)||ml(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},Pj=es("Date"),Ej=es("File"),Dj=es("Blob"),Rj=es("FileList"),Mj=e=>hl(e)&&kt(e.pipe),Fj=e=>{let s;return e&&(typeof FormData=="function"&&e instanceof FormData||kt(e.append)&&((s=lo(e))==="formdata"||s==="object"&&kt(e.toString)&&e.toString()==="[object FormData]"))},Tj=es("URLSearchParams"),[Aj,Oj,Lj,_j]=["ReadableStream","Request","Response","Headers"].map(es),Ij=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function pl(e,s,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let a,n;if(typeof e!="object"&&(e=[e]),sn(e))for(a=0,n=e.length;a<n;a++)s.call(null,e[a],a,e);else{if(ml(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(a=0;a<i;a++)o=l[a],s.call(null,e[o],o,e)}}function Of(e,s){if(ml(e))return null;s=s.toLowerCase();const r=Object.keys(e);let a=r.length,n;for(;a-- >0;)if(n=r[a],s===n.toLowerCase())return n;return null}const Mr=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Lf=e=>!qa(e)&&e!==Mr;function od(){const{caseless:e,skipUndefined:s}=Lf(this)&&this||{},r={},a=(n,l)=>{const i=e&&Of(r,l)||l;ei(r[i])&&ei(n)?r[i]=od(r[i],n):ei(n)?r[i]=od({},n):sn(n)?r[i]=n.slice():(!s||!qa(n))&&(r[i]=n)};for(let n=0,l=arguments.length;n<l;n++)arguments[n]&&pl(arguments[n],a);return r}const Uj=(e,s,r,{allOwnKeys:a}={})=>(pl(s,(n,l)=>{r&&kt(n)?e[l]=Mf(n,r):e[l]=n},{allOwnKeys:a}),e),$j=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Bj=(e,s,r,a)=>{e.prototype=Object.create(s.prototype,a),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:s.prototype}),r&&Object.assign(e.prototype,r)},zj=(e,s,r,a)=>{let n,l,i;const o={};if(s=s||{},e==null)return s;do{for(n=Object.getOwnPropertyNames(e),l=n.length;l-- >0;)i=n[l],(!a||a(i,e,s))&&!o[i]&&(s[i]=e[i],o[i]=!0);e=r!==!1&&wu(e)}while(e&&(!r||r(e,s))&&e!==Object.prototype);return s},qj=(e,s,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=s.length;const a=e.indexOf(s,r);return a!==-1&&a===r},Hj=e=>{if(!e)return null;if(sn(e))return e;let s=e.length;if(!Af(s))return null;const r=new Array(s);for(;s-- >0;)r[s]=e[s];return r},Qj=(e=>s=>e&&s instanceof e)(typeof Uint8Array<"u"&&wu(Uint8Array)),Kj=(e,s)=>{const a=(e&&e[no]).call(e);let n;for(;(n=a.next())&&!n.done;){const l=n.value;s.call(e,l[0],l[1])}},Wj=(e,s)=>{let r;const a=[];for(;(r=e.exec(s))!==null;)a.push(r);return a},Vj=es("HTMLFormElement"),Gj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,a,n){return a.toUpperCase()+n}),mh=(({hasOwnProperty:e})=>(s,r)=>e.call(s,r))(Object.prototype),Jj=es("RegExp"),_f=(e,s)=>{const r=Object.getOwnPropertyDescriptors(e),a={};pl(r,(n,l)=>{let i;(i=s(n,l,e))!==!1&&(a[l]=i||n)}),Object.defineProperties(e,a)},Yj=e=>{_f(e,(s,r)=>{if(kt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const a=e[r];if(kt(a)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Xj=(e,s)=>{const r={},a=n=>{n.forEach(l=>{r[l]=!0})};return sn(e)?a(e):a(String(e).split(s)),r},Zj=()=>{},eN=(e,s)=>e!=null&&Number.isFinite(e=+e)?e:s;function tN(e){return!!(e&&kt(e.append)&&e[Ff]==="FormData"&&e[no])}const sN=e=>{const s=new Array(10),r=(a,n)=>{if(hl(a)){if(s.indexOf(a)>=0)return;if(ml(a))return a;if(!("toJSON"in a)){s[n]=a;const l=sn(a)?[]:{};return pl(a,(i,o)=>{const c=r(i,n+1);!qa(c)&&(l[o]=c)}),s[n]=void 0,l}}return a};return r(e,0)},rN=es("AsyncFunction"),aN=e=>e&&(hl(e)||kt(e))&&kt(e.then)&&kt(e.catch),If=((e,s)=>e?setImmediate:s?((r,a)=>(Mr.addEventListener("message",({source:n,data:l})=>{n===Mr&&l===r&&a.length&&a.shift()()},!1),n=>{a.push(n),Mr.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",kt(Mr.postMessage)),nN=typeof queueMicrotask<"u"?queueMicrotask.bind(Mr):typeof process<"u"&&process.nextTick||If,lN=e=>e!=null&&kt(e[no]),T={isArray:sn,isArrayBuffer:Tf,isBuffer:ml,isFormData:Fj,isArrayBufferView:kj,isString:wj,isNumber:Af,isBoolean:Sj,isObject:hl,isPlainObject:ei,isEmptyObject:Cj,isReadableStream:Aj,isRequest:Oj,isResponse:Lj,isHeaders:_j,isUndefined:qa,isDate:Pj,isFile:Ej,isBlob:Dj,isRegExp:Jj,isFunction:kt,isStream:Mj,isURLSearchParams:Tj,isTypedArray:Qj,isFileList:Rj,forEach:pl,merge:od,extend:Uj,trim:Ij,stripBOM:$j,inherits:Bj,toFlatObject:zj,kindOf:lo,kindOfTest:es,endsWith:qj,toArray:Hj,forEachEntry:Kj,matchAll:Wj,isHTMLForm:Vj,hasOwnProperty:mh,hasOwnProp:mh,reduceDescriptors:_f,freezeMethods:Yj,toObjectSet:Xj,toCamelCase:Gj,noop:Zj,toFiniteNumber:eN,findKey:Of,global:Mr,isContextDefined:Lf,isSpecCompliantForm:tN,toJSONObject:sN,isAsyncFn:rN,isThenable:aN,setImmediate:If,asap:nN,isIterable:lN};function ne(e,s,r,a,n){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",s&&(this.code=s),r&&(this.config=r),a&&(this.request=a),n&&(this.response=n,this.status=n.status?n.status:null)}T.inherits(ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const Uf=ne.prototype,$f={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{$f[e]={value:e}});Object.defineProperties(ne,$f);Object.defineProperty(Uf,"isAxiosError",{value:!0});ne.from=(e,s,r,a,n,l)=>{const i=Object.create(Uf);T.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=s==null&&e?e.code:s;return ne.call(i,o,c,r,a,n),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const iN=null;function cd(e){return T.isPlainObject(e)||T.isArray(e)}function Bf(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function hh(e,s,r){return e?e.concat(s).map(function(n,l){return n=Bf(n),!r&&l?"["+n+"]":n}).join(r?".":""):s}function oN(e){return T.isArray(e)&&!e.some(cd)}const cN=T.toFlatObject(T,{},null,function(s){return/^is[A-Z]/.test(s)});function oo(e,s,r){if(!T.isObject(e))throw new TypeError("target must be an object");s=s||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,f){return!T.isUndefined(f[p])});const a=r.metaTokens,n=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(s);if(!T.isFunction(n))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(T.isDate(m))return m.toISOString();if(T.isBoolean(m))return m.toString();if(!c&&T.isBlob(m))throw new ne("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(m)||T.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,f){let b=m;if(m&&!f&&typeof m=="object"){if(T.endsWith(p,"{}"))p=a?p:p.slice(0,-2),m=JSON.stringify(m);else if(T.isArray(m)&&oN(m)||(T.isFileList(m)||T.endsWith(p,"[]"))&&(b=T.toArray(m)))return p=Bf(p),b.forEach(function(v,j){!(T.isUndefined(v)||v===null)&&s.append(i===!0?hh([p],j,l):i===null?p:p+"[]",d(v))}),!1}return cd(m)?!0:(s.append(hh(f,p,l),d(m)),!1)}const h=[],x=Object.assign(cN,{defaultVisitor:u,convertValue:d,isVisitable:cd});function y(m,p){if(!T.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),T.forEach(m,function(b,g){(!(T.isUndefined(b)||b===null)&&n.call(s,b,T.isString(g)?g.trim():g,p,x))===!0&&y(b,p?p.concat(g):[g])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return y(e),s}function ph(e){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(a){return s[a]})}function Su(e,s){this._pairs=[],e&&oo(e,this,s)}const zf=Su.prototype;zf.append=function(s,r){this._pairs.push([s,r])};zf.toString=function(s){const r=s?function(a){return s.call(this,a,ph)}:ph;return this._pairs.map(function(n){return r(n[0])+"="+r(n[1])},"").join("&")};function dN(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function qf(e,s,r){if(!s)return e;const a=r&&r.encode||dN;T.isFunction(r)&&(r={serialize:r});const n=r&&r.serialize;let l;if(n?l=n(s,r):l=T.isURLSearchParams(s)?s.toString():new Su(s,r).toString(a),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class xh{constructor(){this.handlers=[]}use(s,r,a){return this.handlers.push({fulfilled:s,rejected:r,synchronous:a?a.synchronous:!1,runWhen:a?a.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){T.forEach(this.handlers,function(a){a!==null&&s(a)})}}const Hf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uN=typeof URLSearchParams<"u"?URLSearchParams:Su,mN=typeof FormData<"u"?FormData:null,hN=typeof Blob<"u"?Blob:null,pN={isBrowser:!0,classes:{URLSearchParams:uN,FormData:mN,Blob:hN},protocols:["http","https","file","blob","url","data"]},Cu=typeof window<"u"&&typeof document<"u",dd=typeof navigator=="object"&&navigator||void 0,xN=Cu&&(!dd||["ReactNative","NativeScript","NS"].indexOf(dd.product)<0),fN=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",gN=Cu&&window.location.href||"http://localhost",yN=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Cu,hasStandardBrowserEnv:xN,hasStandardBrowserWebWorkerEnv:fN,navigator:dd,origin:gN},Symbol.toStringTag,{value:"Module"})),nt={...yN,...pN};function bN(e,s){return oo(e,new nt.classes.URLSearchParams,{visitor:function(r,a,n,l){return nt.isNode&&T.isBuffer(r)?(this.append(a,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...s})}function vN(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(s=>s[0]==="[]"?"":s[1]||s[0])}function jN(e){const s={},r=Object.keys(e);let a;const n=r.length;let l;for(a=0;a<n;a++)l=r[a],s[l]=e[l];return s}function Qf(e){function s(r,a,n,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&T.isArray(n)?n.length:i,c?(T.hasOwnProp(n,i)?n[i]=[n[i],a]:n[i]=a,!o):((!n[i]||!T.isObject(n[i]))&&(n[i]=[]),s(r,a,n[i],l)&&T.isArray(n[i])&&(n[i]=jN(n[i])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(a,n)=>{s(vN(a),n,r,0)}),r}return null}function NN(e,s,r){if(T.isString(e))try{return(s||JSON.parse)(e),T.trim(e)}catch(a){if(a.name!=="SyntaxError")throw a}return(r||JSON.stringify)(e)}const xl={transitional:Hf,adapter:["xhr","http","fetch"],transformRequest:[function(s,r){const a=r.getContentType()||"",n=a.indexOf("application/json")>-1,l=T.isObject(s);if(l&&T.isHTMLForm(s)&&(s=new FormData(s)),T.isFormData(s))return n?JSON.stringify(Qf(s)):s;if(T.isArrayBuffer(s)||T.isBuffer(s)||T.isStream(s)||T.isFile(s)||T.isBlob(s)||T.isReadableStream(s))return s;if(T.isArrayBufferView(s))return s.buffer;if(T.isURLSearchParams(s))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let o;if(l){if(a.indexOf("application/x-www-form-urlencoded")>-1)return bN(s,this.formSerializer).toString();if((o=T.isFileList(s))||a.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return oo(o?{"files[]":s}:s,c&&new c,this.formSerializer)}}return l||n?(r.setContentType("application/json",!1),NN(s)):s}],transformResponse:[function(s){const r=this.transitional||xl.transitional,a=r&&r.forcedJSONParsing,n=this.responseType==="json";if(T.isResponse(s)||T.isReadableStream(s))return s;if(s&&T.isString(s)&&(a&&!this.responseType||n)){const i=!(r&&r.silentJSONParsing)&&n;try{return JSON.parse(s,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?ne.from(o,ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:nt.classes.FormData,Blob:nt.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{xl.headers[e]={}});const kN=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),wN=e=>{const s={};let r,a,n;return e&&e.split(`
`).forEach(function(i){n=i.indexOf(":"),r=i.substring(0,n).trim().toLowerCase(),a=i.substring(n+1).trim(),!(!r||s[r]&&kN[r])&&(r==="set-cookie"?s[r]?s[r].push(a):s[r]=[a]:s[r]=s[r]?s[r]+", "+a:a)}),s},fh=Symbol("internals");function fn(e){return e&&String(e).trim().toLowerCase()}function ti(e){return e===!1||e==null?e:T.isArray(e)?e.map(ti):String(e)}function SN(e){const s=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let a;for(;a=r.exec(e);)s[a[1]]=a[2];return s}const CN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function Ho(e,s,r,a,n){if(T.isFunction(a))return a.call(this,s,r);if(n&&(s=r),!!T.isString(s)){if(T.isString(a))return s.indexOf(a)!==-1;if(T.isRegExp(a))return a.test(s)}}function PN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,r,a)=>r.toUpperCase()+a)}function EN(e,s){const r=T.toCamelCase(" "+s);["get","set","has"].forEach(a=>{Object.defineProperty(e,a+r,{value:function(n,l,i){return this[a].call(this,s,n,l,i)},configurable:!0})})}let wt=class{constructor(s){s&&this.set(s)}set(s,r,a){const n=this;function l(o,c,d){const u=fn(c);if(!u)throw new Error("header name must be a non-empty string");const h=T.findKey(n,u);(!h||n[h]===void 0||d===!0||d===void 0&&n[h]!==!1)&&(n[h||c]=ti(o))}const i=(o,c)=>T.forEach(o,(d,u)=>l(d,u,c));if(T.isPlainObject(s)||s instanceof this.constructor)i(s,r);else if(T.isString(s)&&(s=s.trim())&&!CN(s))i(wN(s),r);else if(T.isObject(s)&&T.isIterable(s)){let o={},c,d;for(const u of s){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else s!=null&&l(r,s,a);return this}get(s,r){if(s=fn(s),s){const a=T.findKey(this,s);if(a){const n=this[a];if(!r)return n;if(r===!0)return SN(n);if(T.isFunction(r))return r.call(this,n,a);if(T.isRegExp(r))return r.exec(n);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,r){if(s=fn(s),s){const a=T.findKey(this,s);return!!(a&&this[a]!==void 0&&(!r||Ho(this,this[a],a,r)))}return!1}delete(s,r){const a=this;let n=!1;function l(i){if(i=fn(i),i){const o=T.findKey(a,i);o&&(!r||Ho(a,a[o],o,r))&&(delete a[o],n=!0)}}return T.isArray(s)?s.forEach(l):l(s),n}clear(s){const r=Object.keys(this);let a=r.length,n=!1;for(;a--;){const l=r[a];(!s||Ho(this,this[l],l,s,!0))&&(delete this[l],n=!0)}return n}normalize(s){const r=this,a={};return T.forEach(this,(n,l)=>{const i=T.findKey(a,l);if(i){r[i]=ti(n),delete r[l];return}const o=s?PN(l):String(l).trim();o!==l&&delete r[l],r[o]=ti(n),a[o]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const r=Object.create(null);return T.forEach(this,(a,n)=>{a!=null&&a!==!1&&(r[n]=s&&T.isArray(a)?a.join(", "):a)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,r])=>s+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...r){const a=new this(s);return r.forEach(n=>a.set(n)),a}static accessor(s){const a=(this[fh]=this[fh]={accessors:{}}).accessors,n=this.prototype;function l(i){const o=fn(i);a[o]||(EN(n,i),a[o]=!0)}return T.isArray(s)?s.forEach(l):l(s),this}};wt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(wt.prototype,({value:e},s)=>{let r=s[0].toUpperCase()+s.slice(1);return{get:()=>e,set(a){this[r]=a}}});T.freezeMethods(wt);function Qo(e,s){const r=this||xl,a=s||r,n=wt.from(a.headers);let l=a.data;return T.forEach(e,function(o){l=o.call(r,l,n.normalize(),s?s.status:void 0)}),n.normalize(),l}function Kf(e){return!!(e&&e.__CANCEL__)}function rn(e,s,r){ne.call(this,e??"canceled",ne.ERR_CANCELED,s,r),this.name="CanceledError"}T.inherits(rn,ne,{__CANCEL__:!0});function Wf(e,s,r){const a=r.config.validateStatus;!r.status||!a||a(r.status)?e(r):s(new ne("Request failed with status code "+r.status,[ne.ERR_BAD_REQUEST,ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function DN(e){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return s&&s[1]||""}function RN(e,s){e=e||10;const r=new Array(e),a=new Array(e);let n=0,l=0,i;return s=s!==void 0?s:1e3,function(c){const d=Date.now(),u=a[l];i||(i=d),r[n]=c,a[n]=d;let h=l,x=0;for(;h!==n;)x+=r[h++],h=h%e;if(n=(n+1)%e,n===l&&(l=(l+1)%e),d-i<s)return;const y=u&&d-u;return y?Math.round(x*1e3/y):void 0}}function MN(e,s){let r=0,a=1e3/s,n,l;const i=(d,u=Date.now())=>{r=u,n=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=a?i(d,u):(n=d,l||(l=setTimeout(()=>{l=null,i(n)},a-h)))},()=>n&&i(n)]}const Ti=(e,s,r=3)=>{let a=0;const n=RN(50,250);return MN(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-a,d=n(c),u=i<=o;a=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[s?"download":"upload"]:!0};e(h)},r)},gh=(e,s)=>{const r=e!=null;return[a=>s[0]({lengthComputable:r,total:e,loaded:a}),s[1]]},yh=e=>(...s)=>T.asap(()=>e(...s)),FN=nt.hasStandardBrowserEnv?((e,s)=>r=>(r=new URL(r,nt.origin),e.protocol===r.protocol&&e.host===r.host&&(s||e.port===r.port)))(new URL(nt.origin),nt.navigator&&/(msie|trident)/i.test(nt.navigator.userAgent)):()=>!0,TN=nt.hasStandardBrowserEnv?{write(e,s,r,a,n,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(s)}`];T.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),T.isString(a)&&o.push(`path=${a}`),T.isString(n)&&o.push(`domain=${n}`),l===!0&&o.push("secure"),T.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function AN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function ON(e,s){return s?e.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):e}function Vf(e,s,r){let a=!AN(s);return e&&(a||r==!1)?ON(e,s):s}const bh=e=>e instanceof wt?{...e}:e;function Xr(e,s){s=s||{};const r={};function a(d,u,h,x){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:x},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function n(d,u,h,x){if(T.isUndefined(u)){if(!T.isUndefined(d))return a(void 0,d,h,x)}else return a(d,u,h,x)}function l(d,u){if(!T.isUndefined(u))return a(void 0,u)}function i(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return a(void 0,d)}else return a(void 0,u)}function o(d,u,h){if(h in s)return a(d,u);if(h in e)return a(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,h)=>n(bh(d),bh(u),h,!0)};return T.forEach(Object.keys({...e,...s}),function(u){const h=c[u]||n,x=h(e[u],s[u],u);T.isUndefined(x)&&h!==o||(r[u]=x)}),r}const Gf=e=>{const s=Xr({},e);let{data:r,withXSRFToken:a,xsrfHeaderName:n,xsrfCookieName:l,headers:i,auth:o}=s;if(s.headers=i=wt.from(i),s.url=qf(Vf(s.baseURL,s.url,s.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(r)){if(nt.hasStandardBrowserEnv||nt.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(nt.hasStandardBrowserEnv&&(a&&T.isFunction(a)&&(a=a(s)),a||a!==!1&&FN(s.url))){const c=n&&l&&TN.read(l);c&&i.set(n,c)}return s},LN=typeof XMLHttpRequest<"u",_N=LN&&function(e){return new Promise(function(r,a){const n=Gf(e);let l=n.data;const i=wt.from(n.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=n,u,h,x,y,m;function p(){y&&y(),m&&m(),n.cancelToken&&n.cancelToken.unsubscribe(u),n.signal&&n.signal.removeEventListener("abort",u)}let f=new XMLHttpRequest;f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout;function b(){if(!f)return;const v=wt.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?f.responseText:f.response,status:f.status,statusText:f.statusText,headers:v,config:e,request:f};Wf(function(w){r(w),p()},function(w){a(w),p()},S),f=null}"onloadend"in f?f.onloadend=b:f.onreadystatechange=function(){!f||f.readyState!==4||f.status===0&&!(f.responseURL&&f.responseURL.indexOf("file:")===0)||setTimeout(b)},f.onabort=function(){f&&(a(new ne("Request aborted",ne.ECONNABORTED,e,f)),f=null)},f.onerror=function(j){const S=j&&j.message?j.message:"Network Error",k=new ne(S,ne.ERR_NETWORK,e,f);k.event=j||null,a(k),f=null},f.ontimeout=function(){let j=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const S=n.transitional||Hf;n.timeoutErrorMessage&&(j=n.timeoutErrorMessage),a(new ne(j,S.clarifyTimeoutError?ne.ETIMEDOUT:ne.ECONNABORTED,e,f)),f=null},l===void 0&&i.setContentType(null),"setRequestHeader"in f&&T.forEach(i.toJSON(),function(j,S){f.setRequestHeader(S,j)}),T.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),o&&o!=="json"&&(f.responseType=n.responseType),d&&([x,m]=Ti(d,!0),f.addEventListener("progress",x)),c&&f.upload&&([h,y]=Ti(c),f.upload.addEventListener("progress",h),f.upload.addEventListener("loadend",y)),(n.cancelToken||n.signal)&&(u=v=>{f&&(a(!v||v.type?new rn(null,e,f):v),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(u),n.signal&&(n.signal.aborted?u():n.signal.addEventListener("abort",u)));const g=DN(n.url);if(g&&nt.protocols.indexOf(g)===-1){a(new ne("Unsupported protocol "+g+":",ne.ERR_BAD_REQUEST,e));return}f.send(l||null)})},IN=(e,s)=>{const{length:r}=e=e?e.filter(Boolean):[];if(s||r){let a=new AbortController,n;const l=function(d){if(!n){n=!0,o();const u=d instanceof Error?d:this.reason;a.abort(u instanceof ne?u:new rn(u instanceof Error?u.message:u))}};let i=s&&setTimeout(()=>{i=null,l(new ne(`timeout ${s} of ms exceeded`,ne.ETIMEDOUT))},s);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=a;return c.unsubscribe=()=>T.asap(o),c}},UN=function*(e,s){let r=e.byteLength;if(r<s){yield e;return}let a=0,n;for(;a<r;)n=a+s,yield e.slice(a,n),a=n},$N=async function*(e,s){for await(const r of BN(e))yield*UN(r,s)},BN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const s=e.getReader();try{for(;;){const{done:r,value:a}=await s.read();if(r)break;yield a}}finally{await s.cancel()}},vh=(e,s,r,a)=>{const n=$N(e,s);let l=0,i,o=c=>{i||(i=!0,a&&a(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await n.next();if(d){o(),c.close();return}let h=u.byteLength;if(r){let x=l+=h;r(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),n.return()}},{highWaterMark:2})},jh=64*1024,{isFunction:Il}=T,zN=(({Request:e,Response:s})=>({Request:e,Response:s}))(T.global),{ReadableStream:Nh,TextEncoder:kh}=T.global,wh=(e,...s)=>{try{return!!e(...s)}catch{return!1}},qN=e=>{e=T.merge.call({skipUndefined:!0},zN,e);const{fetch:s,Request:r,Response:a}=e,n=s?Il(s):typeof fetch=="function",l=Il(r),i=Il(a);if(!n)return!1;const o=n&&Il(Nh),c=n&&(typeof kh=="function"?(m=>p=>m.encode(p))(new kh):async m=>new Uint8Array(await new r(m).arrayBuffer())),d=l&&o&&wh(()=>{let m=!1;const p=new r(nt.origin,{body:new Nh,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),u=i&&o&&wh(()=>T.isReadableStream(new a("").body)),h={stream:u&&(m=>m.body)};n&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(p,f)=>{let b=p&&p[m];if(b)return b.call(p);throw new ne(`Response type '${m}' is not supported`,ne.ERR_NOT_SUPPORT,f)})});const x=async m=>{if(m==null)return 0;if(T.isBlob(m))return m.size;if(T.isSpecCompliantForm(m))return(await new r(nt.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(T.isArrayBufferView(m)||T.isArrayBuffer(m))return m.byteLength;if(T.isURLSearchParams(m)&&(m=m+""),T.isString(m))return(await c(m)).byteLength},y=async(m,p)=>{const f=T.toFiniteNumber(m.getContentLength());return f??x(p)};return async m=>{let{url:p,method:f,data:b,signal:g,cancelToken:v,timeout:j,onDownloadProgress:S,onUploadProgress:k,responseType:w,headers:D,withCredentials:O="same-origin",fetchOptions:C}=Gf(m),P=s||fetch;w=w?(w+"").toLowerCase():"text";let R=IN([g,v&&v.toAbortSignal()],j),I=null;const G=R&&R.unsubscribe&&(()=>{R.unsubscribe()});let J;try{if(k&&d&&f!=="get"&&f!=="head"&&(J=await y(D,b))!==0){let Y=new r(p,{method:"POST",body:b,duplex:"half"}),_;if(T.isFormData(b)&&(_=Y.headers.get("content-type"))&&D.setContentType(_),Y.body){const[ie,te]=gh(J,Ti(yh(k)));b=vh(Y.body,jh,ie,te)}}T.isString(O)||(O=O?"include":"omit");const X=l&&"credentials"in r.prototype,A={...C,signal:R,method:f.toUpperCase(),headers:D.normalize().toJSON(),body:b,duplex:"half",credentials:X?O:void 0};I=l&&new r(p,A);let F=await(l?P(I,C):P(p,A));const L=u&&(w==="stream"||w==="response");if(u&&(S||L&&G)){const Y={};["status","statusText","headers"].forEach(de=>{Y[de]=F[de]});const _=T.toFiniteNumber(F.headers.get("content-length")),[ie,te]=S&&gh(_,Ti(yh(S),!0))||[];F=new a(vh(F.body,jh,ie,()=>{te&&te(),G&&G()}),Y)}w=w||"text";let W=await h[T.findKey(h,w)||"text"](F,m);return!L&&G&&G(),await new Promise((Y,_)=>{Wf(Y,_,{data:W,headers:wt.from(F.headers),status:F.status,statusText:F.statusText,config:m,request:I})})}catch(X){throw G&&G(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new ne("Network Error",ne.ERR_NETWORK,m,I),{cause:X.cause||X}):ne.from(X,X&&X.code,m,I)}}},HN=new Map,Jf=e=>{let s=e&&e.env||{};const{fetch:r,Request:a,Response:n}=s,l=[a,n,r];let i=l.length,o=i,c,d,u=HN;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:qN(s)),u=d;return d};Jf();const Pu={http:iN,xhr:_N,fetch:{get:Jf}};T.forEach(Pu,(e,s)=>{if(e){try{Object.defineProperty(e,"name",{value:s})}catch{}Object.defineProperty(e,"adapterName",{value:s})}});const Sh=e=>`- ${e}`,QN=e=>T.isFunction(e)||e===null||e===!1;function KN(e,s){e=T.isArray(e)?e:[e];const{length:r}=e;let a,n;const l={};for(let i=0;i<r;i++){a=e[i];let o;if(n=a,!QN(a)&&(n=Pu[(o=String(a)).toLowerCase()],n===void 0))throw new ne(`Unknown adapter '${o}'`);if(n&&(T.isFunction(n)||(n=n.get(s))))break;l[o||"#"+i]=n}if(!n){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(Sh).join(`
`):" "+Sh(i[0]):"as no adapter specified";throw new ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return n}const Yf={getAdapter:KN,adapters:Pu};function Ko(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new rn(null,e)}function Ch(e){return Ko(e),e.headers=wt.from(e.headers),e.data=Qo.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Yf.getAdapter(e.adapter||xl.adapter,e)(e).then(function(a){return Ko(e),a.data=Qo.call(e,e.transformResponse,a),a.headers=wt.from(a.headers),a},function(a){return Kf(a)||(Ko(e),a&&a.response&&(a.response.data=Qo.call(e,e.transformResponse,a.response),a.response.headers=wt.from(a.response.headers))),Promise.reject(a)})}const Xf="1.13.2",co={};["object","boolean","number","function","string","symbol"].forEach((e,s)=>{co[e]=function(a){return typeof a===e||"a"+(s<1?"n ":" ")+e}});const Ph={};co.transitional=function(s,r,a){function n(l,i){return"[Axios v"+Xf+"] Transitional option '"+l+"'"+i+(a?". "+a:"")}return(l,i,o)=>{if(s===!1)throw new ne(n(i," has been removed"+(r?" in "+r:"")),ne.ERR_DEPRECATED);return r&&!Ph[i]&&(Ph[i]=!0,console.warn(n(i," has been deprecated since v"+r+" and will be removed in the near future"))),s?s(l,i,o):!0}};co.spelling=function(s){return(r,a)=>(console.warn(`${a} is likely a misspelling of ${s}`),!0)};function WN(e,s,r){if(typeof e!="object")throw new ne("options must be an object",ne.ERR_BAD_OPTION_VALUE);const a=Object.keys(e);let n=a.length;for(;n-- >0;){const l=a[n],i=s[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new ne("option "+l+" must be "+c,ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new ne("Unknown option "+l,ne.ERR_BAD_OPTION)}}const si={assertOptions:WN,validators:co},rs=si.validators;let Hr=class{constructor(s){this.defaults=s||{},this.interceptors={request:new xh,response:new xh}}async request(s,r){try{return await this._request(s,r)}catch(a){if(a instanceof Error){let n={};Error.captureStackTrace?Error.captureStackTrace(n):n=new Error;const l=n.stack?n.stack.replace(/^.+\n/,""):"";try{a.stack?l&&!String(a.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(a.stack+=`
`+l):a.stack=l}catch{}}throw a}}_request(s,r){typeof s=="string"?(r=r||{},r.url=s):r=s||{},r=Xr(this.defaults,r);const{transitional:a,paramsSerializer:n,headers:l}=r;a!==void 0&&si.assertOptions(a,{silentJSONParsing:rs.transitional(rs.boolean),forcedJSONParsing:rs.transitional(rs.boolean),clarifyTimeoutError:rs.transitional(rs.boolean)},!1),n!=null&&(T.isFunction(n)?r.paramsSerializer={serialize:n}:si.assertOptions(n,{encode:rs.function,serialize:rs.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),si.assertOptions(r,{baseUrl:rs.spelling("baseURL"),withXsrfToken:rs.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&T.merge(l.common,l[r.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],m=>{delete l[m]}),r.headers=wt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,x;if(!c){const m=[Ch.bind(this),void 0];for(m.unshift(...o),m.push(...d),x=m.length,u=Promise.resolve(r);h<x;)u=u.then(m[h++],m[h++]);return u}x=o.length;let y=r;for(;h<x;){const m=o[h++],p=o[h++];try{y=m(y)}catch(f){p.call(this,f);break}}try{u=Ch.call(this,y)}catch(m){return Promise.reject(m)}for(h=0,x=d.length;h<x;)u=u.then(d[h++],d[h++]);return u}getUri(s){s=Xr(this.defaults,s);const r=Vf(s.baseURL,s.url,s.allowAbsoluteUrls);return qf(r,s.params,s.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(s){Hr.prototype[s]=function(r,a){return this.request(Xr(a||{},{method:s,url:r,data:(a||{}).data}))}});T.forEach(["post","put","patch"],function(s){function r(a){return function(l,i,o){return this.request(Xr(o||{},{method:s,headers:a?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Hr.prototype[s]=r(),Hr.prototype[s+"Form"]=r(!0)});let VN=class Zf{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const a=this;this.promise.then(n=>{if(!a._listeners)return;let l=a._listeners.length;for(;l-- >0;)a._listeners[l](n);a._listeners=null}),this.promise.then=n=>{let l;const i=new Promise(o=>{a.subscribe(o),l=o}).then(n);return i.cancel=function(){a.unsubscribe(l)},i},s(function(l,i,o){a.reason||(a.reason=new rn(l,i,o),r(a.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const r=this._listeners.indexOf(s);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const s=new AbortController,r=a=>{s.abort(a)};return this.subscribe(r),s.signal.unsubscribe=()=>this.unsubscribe(r),s.signal}static source(){let s;return{token:new Zf(function(n){s=n}),cancel:s}}};function GN(e){return function(r){return e.apply(null,r)}}function JN(e){return T.isObject(e)&&e.isAxiosError===!0}const ud={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(ud).forEach(([e,s])=>{ud[s]=e});function e0(e){const s=new Hr(e),r=Mf(Hr.prototype.request,s);return T.extend(r,Hr.prototype,s,{allOwnKeys:!0}),T.extend(r,s,null,{allOwnKeys:!0}),r.create=function(n){return e0(Xr(e,n))},r}const Oe=e0(xl);Oe.Axios=Hr;Oe.CanceledError=rn;Oe.CancelToken=VN;Oe.isCancel=Kf;Oe.VERSION=Xf;Oe.toFormData=oo;Oe.AxiosError=ne;Oe.Cancel=Oe.CanceledError;Oe.all=function(s){return Promise.all(s)};Oe.spread=GN;Oe.isAxiosError=JN;Oe.mergeConfig=Xr;Oe.AxiosHeaders=wt;Oe.formToJSON=e=>Qf(T.isHTMLForm(e)?new FormData(e):e);Oe.getAdapter=Yf.getAdapter;Oe.HttpStatusCode=ud;Oe.default=Oe;const{Axios:aw,AxiosError:nw,CanceledError:lw,isCancel:iw,CancelToken:ow,VERSION:cw,all:dw,Cancel:uw,isAxiosError:mw,spread:hw,toFormData:pw,AxiosHeaders:xw,HttpStatusCode:fw,formToJSON:gw,getAdapter:yw,mergeConfig:bw}=Oe,M=Oe.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});M.interceptors.response.use(e=>e,e=>{var s;return((s=e.response)==null?void 0:s.status)===401&&window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(e)});const t0=N.createContext();function YN({children:e}){const[s,r]=N.useState(null),[a,n]=N.useState(null),[l,i]=N.useState(!0),o=be();N.useEffect(()=>{c();const m=localStorage.getItem("previousUser");m&&n(JSON.parse(m))},[]);const c=async()=>{try{const m=await M.get("/api/auth/me");r(m.data.user)}catch{r(null)}finally{i(!1)}},d=async(m,p)=>{const f=await M.post("/api/auth/login",{username:m,password:p});return r(f.data.user),n(null),localStorage.removeItem("previousUser"),f.data},u=async()=>{try{await M.post("/api/auth/logout")}finally{r(null),n(null),localStorage.removeItem("previousUser"),o("/login")}},h=async m=>{try{const p=await M.post(`/api/auth/login-as/${m}`);return s&&(n(s),localStorage.setItem("previousUser",JSON.stringify(s))),r(p.data.user),p.data}catch(p){throw p}},x=async()=>{if(a)try{const m=await M.post("/api/auth/return-to-admin");return r(m.data.user),n(null),localStorage.removeItem("previousUser"),m.data}catch(m){throw n(null),localStorage.removeItem("previousUser"),m}},y=(s==null?void 0:s.role)==="admin";return t.jsx(t0.Provider,{value:{user:s,loading:l,login:d,logout:u,isAdmin:y,checkAuth:c,previousUser:a,loginAsUser:h,returnToPreviousUser:x},children:e})}function Os(){const e=N.useContext(t0);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const s0=N.createContext();function XN({children:e}){const[s,r]=N.useState(()=>{const n=localStorage.getItem("theme");return n?n==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});N.useEffect(()=>{const n=document.documentElement;s?(n.classList.add("dark"),localStorage.setItem("theme","dark")):(n.classList.remove("dark"),localStorage.setItem("theme","light"))},[s]);const a=()=>r(!s);return t.jsx(s0.Provider,{value:{isDark:s,toggleTheme:a},children:e})}function r0(){const e=N.useContext(s0);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ZN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,s)=>{const r=N.forwardRef(({color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>N.createElement("svg",{ref:u,...ZN,width:n,height:n,stroke:a,strokeWidth:i?Number(l)*24/Number(n):l,className:["lucide",`lucide-${ek(e)}`,o].join(" "),...d},[...s.map(([h,x])=>N.createElement(h,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ha=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const md=U("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tk=U("ArrowDownRight",[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=U("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=U("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=U("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tn=U("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const an=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=U("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lk=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=U("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a0=U("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ka=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=U("Clipboard",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=U("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fr=U("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oi=U("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=U("Cylinder",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ze=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xr=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=U("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ls=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ts=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dk=U("FileArchive",[["path",{d:"M4 22V4c0-.5.2-1 .6-1.4C5 2.2 5.5 2 6 2h8.5L20 7.5V20c0 .5-.2 1-.6 1.4-.4.4-.9.6-1.4.6h-2",key:"1u864v"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"20",r:"2",key:"1xzdoj"}],["path",{d:"M10 7V6",key:"dljcrl"}],["path",{d:"M10 12v-1",key:"v7bkov"}],["path",{d:"M10 18v-2",key:"1cjy8d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=U("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=U("FileImage",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["circle",{cx:"10",cy:"13",r:"2",key:"6v46hv"}],["path",{d:"m20 17-1.09-1.09a2 2 0 0 0-2.82 0L10 22",key:"17vly1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=U("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n0=U("File",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hd=U("FolderOpen",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pd=U("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=U("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const et=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=U("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const it=U("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=U("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=U("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eu=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fr=U("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l0=U("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Va=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=U("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i0=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=U("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dh=U("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o0=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=U("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kn=U("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ga=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=U("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=U("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=U("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=U("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=U("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=U("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=U("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const St=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=U("Scissors",[["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M8.12 8.12 12 12",key:"1alkpv"}],["path",{d:"M20 4 8.12 15.88",key:"xgtan2"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M14.8 14.8 20 20",key:"ptml3r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const We=U("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=U("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wk=U("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ln=U("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fd=U("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=U("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=U("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gd=U("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ue=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=U("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=U("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m0=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Du=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ce=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=U("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=U("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function h0(e){var s,r,a="";if(typeof e=="string"||typeof e=="number")a+=e;else if(typeof e=="object")if(Array.isArray(e)){var n=e.length;for(s=0;s<n;s++)e[s]&&(r=h0(e[s]))&&(a&&(a+=" "),a+=r)}else for(r in e)e[r]&&(a&&(a+=" "),a+=r);return a}function Ye(){for(var e,s,r=0,a="",n=arguments.length;r<n;r++)(e=arguments[r])&&(s=h0(e))&&(a&&(a+=" "),a+=s);return a}const Fk=[{name:"Dashboard",href:"/",icon:l0},{name:"Users",href:"/users",icon:mo,adminOnly:!0},{name:"DNS",href:"/dns",icon:et,service:"dns"},{name:"Mail",href:"/mail",icon:Zt,service:"mail"},{name:"Cron",href:"/cron",icon:ra},{name:"Backups",href:"/backups",icon:it},{name:"PM2",href:"/pm2",icon:ri},{name:"Statistics",href:"/stats",icon:an}],Tk=[{name:"MariaDB",href:"/databases?type=mysql",icon:ck,service:"mysql"},{name:"PostgreSQL",href:"/databases?type=pgsql",icon:Ze,service:"pgsql"},{name:"MongoDB",href:"/databases?type=mongodb",icon:Va,service:"mongodb"}],Ak=[{name:"Packages",href:"/packages",icon:Ga},{name:"Services",href:"/server-services",icon:Zr},{name:"Statistics",href:"/statistics",icon:an},{name:"Applications",href:"/applications",icon:We},{name:"Firewall",href:"/firewall",icon:ln},{name:"Database Settings",href:"/admin/database-settings",icon:Ts},{name:"Cloud Storage",href:"/admin/rclone",icon:Fr},{name:"HAProxy",href:"/haproxy",icon:kn}];function Ok(){var w,D,O,C;const{user:e,logout:s,isAdmin:r,previousUser:a,returnToPreviousUser:n,loginAsUser:l}=Os(),{isDark:i,toggleTheme:o}=r0(),c=sa(),d=be(),[u,h]=N.useState(!1),[x,y]=N.useState(!1),[m,p]=N.useState(!1),[f,b]=N.useState(!1),{data:g}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data,staleTime:5*60*1e3}),v=N.useMemo(()=>{var G;const R=(((G=g==null?void 0:g.installedServices)==null?void 0:G.webServer)||"nginx")==="apache"?"Web Apache":"Web Nginx";return[{name:"Dashboard",href:"/",icon:l0},{name:"Users",href:"/users",icon:mo,adminOnly:!0},{name:R,href:"/web",icon:et},...Fk.filter(J=>J.name!=="Dashboard"&&J.name!=="Users")].filter(J=>J.adminOnly&&!r?!1:J.service&&(g!=null&&g.installedServices)?g.installedServices[J.service]!==!1:!0)},[r,g]),j=N.useMemo(()=>Tk.filter(P=>P.service&&(g!=null&&g.installedServices)?g.installedServices[P.service]===!0:!0),[g]),S=j.length>0,k=()=>{a&&(n(),d("/"))};return t.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg",children:[u&&t.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>h(!1)}),t.jsxs("aside",{className:Ye("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-dark-card border-r border-gray-200 dark:border-dark-border transform transition-transform duration-200 lg:translate-x-0 flex flex-col",u?"translate-x-0":"-translate-x-full"),children:[t.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-dark-border flex-shrink-0",children:[t.jsxs(q,{to:"/",className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:t.jsx("span",{className:"text-white font-bold text-sm",children:"V"})}),t.jsx("span",{className:"font-semibold text-lg",children:"VHestiaCP"})]}),t.jsx("button",{className:"lg:hidden p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>h(!1),children:t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-border flex-shrink-0",children:[t.jsxs("div",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>y(!x),children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0",children:t.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-medium",children:((D=(w=e==null?void 0:e.name)==null?void 0:w[0])==null?void 0:D.toUpperCase())||((C=(O=e==null?void 0:e.username)==null?void 0:O[0])==null?void 0:C.toUpperCase())})}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||(e==null?void 0:e.username)}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted truncate",children:e==null?void 0:e.email}),r&&t.jsx("span",{className:"inline-block mt-1 px-1.5 py-0.5 text-xs bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 rounded",children:"Admin"})]}),t.jsx(hs,{className:Ye("w-4 h-4 text-gray-400 transition-transform",x&&"rotate-180")})]}),x&&t.jsxs("div",{className:"mt-2 space-y-1",children:[t.jsxs(q,{to:`/users/${e==null?void 0:e.username}/edit`,className:"flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>y(!1),children:[t.jsx(Du,{className:"w-4 h-4"}),"Edit Profile"]}),t.jsxs(q,{to:"/settings",className:"flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>y(!1),children:[t.jsx(Ts,{className:"w-4 h-4"}),"Settings"]})]}),a&&t.jsxs("button",{onClick:k,className:"mt-3 w-full flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-amber-100 hover:bg-amber-200 text-amber-800 dark:bg-amber-900/30 dark:hover:bg-amber-900/50 dark:text-amber-400 transition-colors",children:[t.jsx(sk,{className:"w-4 h-4"}),"Return to ",a.username]})]}),t.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[v.map(P=>{const R=c.pathname===P.href||P.href!=="/"&&c.pathname.startsWith(P.href);return t.jsxs(q,{to:P.href,className:Ye("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",R?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[t.jsx(P.icon,{className:"w-5 h-5"}),P.name]},P.name)}),S&&t.jsxs("div",{children:[t.jsxs("button",{onClick:()=>p(!m),className:Ye("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",c.pathname.startsWith("/databases")?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),children:[t.jsx(Ze,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left",children:"Databases"}),t.jsx(Qa,{className:Ye("w-4 h-4 transition-transform",m&&"rotate-90")})]}),m&&t.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-dark-border pl-3",children:j.map(P=>{const R=c.pathname+c.search===P.href||c.pathname==="/databases"&&c.search===`?type=${P.service}`;return t.jsxs(q,{to:P.href,className:Ye("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",R?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:bg-gray-100 dark:text-dark-muted dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[t.jsx(P.icon,{className:"w-4 h-4"}),P.name]},P.name)})})]}),r&&t.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("button",{onClick:()=>b(!f),className:Ye("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",c.pathname.startsWith("/packages")||c.pathname.startsWith("/applications")||c.pathname.startsWith("/server-services")||c.pathname.startsWith("/statistics")||c.pathname.startsWith("/admin")||c.pathname.startsWith("/firewall")||c.pathname.startsWith("/haproxy")||c.pathname.startsWith("/file-manager")?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),children:[t.jsx(Ts,{className:"w-5 h-5"}),t.jsx("span",{className:"flex-1 text-left",children:"Admin"}),t.jsx(Qa,{className:Ye("w-4 h-4 transition-transform",f&&"rotate-90")})]}),f&&t.jsxs("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-dark-border pl-3",children:[Ak.map(P=>{const R=c.pathname===P.href||P.href!=="/"&&c.pathname.startsWith(P.href);return t.jsxs(q,{to:P.href,className:Ye("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",R?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:bg-gray-100 dark:text-dark-muted dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[t.jsx(P.icon,{className:"w-4 h-4"}),P.name]},P.name)}),(g==null?void 0:g.fileManager)&&t.jsxs(q,{to:"/file-manager",className:Ye("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",c.pathname.startsWith("/file-manager")?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:bg-gray-100 dark:text-dark-muted dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[t.jsx(hd,{className:"w-4 h-4"}),"File Manager"]})]})]})]}),t.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-dark-border flex-shrink-0",children:t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80 transition-colors",title:i?"Switch to light mode":"Switch to dark mode",children:[i?t.jsx(d0,{className:"w-4 h-4"}):t.jsx(o0,{className:"w-4 h-4"}),i?"Light":"Dark"]}),t.jsxs("button",{onClick:s,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-gray-100 hover:bg-red-100 hover:text-red-600 dark:bg-dark-border dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Logout",children:[t.jsx(fk,{className:"w-4 h-4"}),"Logout"]})]})})]}),t.jsxs("div",{className:"lg:pl-64 min-h-screen flex flex-col",children:[t.jsxs("header",{className:"lg:hidden h-14 bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border flex items-center px-4 sticky top-0 z-30",children:[t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>h(!0),children:t.jsx(yk,{className:"w-5 h-5"})}),t.jsx("span",{className:"ml-3 font-semibold",children:"VHestiaCP"})]}),t.jsx("main",{className:"flex-1 p-6",children:t.jsx(Ib,{})})]})]})}function Lk(){const[e,s]=N.useState(""),[r,a]=N.useState(""),[n,l]=N.useState(!1),[i,o]=N.useState(""),[c,d]=N.useState(!1),{login:u}=Os(),{isDark:h,toggleTheme:x}=r0(),y=be(),m=async p=>{var f,b;p.preventDefault(),o(""),d(!0);try{await u(e,r),y("/")}catch(g){o(((b=(f=g.response)==null?void 0:f.data)==null?void 0:b.error)||"Login failed. Please try again.")}finally{d(!1)}};return t.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-dark-bg dark:to-slate-900 p-4",children:[t.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 rounded-lg bg-white dark:bg-dark-card shadow-sm hover:shadow transition-shadow",children:h?t.jsx(d0,{className:"w-5 h-5"}):t.jsx(o0,{className:"w-5 h-5"})}),t.jsxs("div",{className:"w-full max-w-md",children:[t.jsxs("div",{className:"text-center mb-8",children:[t.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4 shadow-lg",children:t.jsx("span",{className:"text-white font-bold text-2xl",children:"V"})}),t.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-dark-text",children:"VHestiaCP"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Server Control Panel"})]}),t.jsxs("div",{className:"card p-8",children:[t.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:"Sign in to your account"}),i&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),i]}),t.jsxs("form",{onSubmit:m,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-1",children:"Username"}),t.jsx("input",{type:"text",id:"username",value:e,onChange:p=>s(p.target.value),className:"input",placeholder:"admin",required:!0,autoFocus:!0,autoComplete:"username"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:n?"text":"password",id:"password",value:r,onChange:p=>a(p.target.value),className:"input pr-10",placeholder:"Enter your password",required:!0,autoComplete:"current-password"}),t.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]})]}),t.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary w-full flex items-center justify-center gap-2",children:c?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign in"})]})]}),t.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-dark-muted mt-6",children:"VHestiaCP Panel v2.0"})]})]})}function _k(){const{user:e,isAdmin:s}=Os(),r=[{name:"Web Domains",value:"5",icon:et,color:"bg-blue-500"},{name:"Databases",value:"3",icon:Ze,color:"bg-green-500"},{name:"Mail Domains",value:"2",icon:Zt,color:"bg-purple-500"},{name:"Cron Jobs",value:"8",icon:ra,color:"bg-orange-500"},{name:"Backups",value:"4",icon:it,color:"bg-cyan-500"}];return s&&r.unshift({name:"Users",value:"12",icon:mo,color:"bg-pink-500"}),t.jsxs("div",{children:[t.jsxs("div",{className:"mb-8",children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",(e==null?void 0:e.name)||(e==null?void 0:e.username),"!"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Here's what's happening with your server today."})]}),t.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:r.map(a=>t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:`${a.color} p-3 rounded-xl`,children:t.jsx(a.icon,{className:"w-6 h-6 text-white"})}),t.jsxs("div",{children:[t.jsx("p",{className:"text-2xl font-bold",children:a.value}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:a.name})]})]})},a.name))}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsxs("button",{className:"btn btn-primary",children:[t.jsx(et,{className:"w-4 h-4 mr-2"}),"Add Web Domain"]}),t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Ze,{className:"w-4 h-4 mr-2"}),"Add Database"]}),t.jsxs("button",{className:"btn btn-secondary",children:[t.jsx(Zt,{className:"w-4 h-4 mr-2"}),"Add Mail Domain"]})]})]})]})}function Ik(){var S;const[e,s]=N.useState(""),[r,a]=N.useState(null),[n,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=pe(),{loginAsUser:c,user:d}=Os(),u=be(),h=k=>{if(r===k){a(null);return}const w=i.current[k];if(w){const D=w.getBoundingClientRect();l({top:D.bottom+4,right:window.innerWidth-D.right})}a(k)},{data:x,isLoading:y,error:m}=Z({queryKey:["users"],queryFn:async()=>(await M.get("/api/users")).data.users}),p=K({mutationFn:async({username:k,suspend:w})=>{w?await M.post(`/api/users/${k}/suspend`):await M.post(`/api/users/${k}/unsuspend`)},onSuccess:()=>{o.invalidateQueries(["users"])}}),f=K({mutationFn:async k=>{await M.delete(`/api/users/${k}`)},onSuccess:()=>{o.invalidateQueries(["users"])}}),b=k=>{confirm(`Are you sure you want to delete user "${k}"? This cannot be undone.`)&&f.mutate(k),a(null)},g=(k,w)=>{p.mutate({username:k,suspend:!w}),a(null)},v=async k=>{try{await c(k),u("/")}catch(w){console.error("Failed to login as user:",w)}a(null)},j=(x==null?void 0:x.filter(k=>{var w,D;return k.username.toLowerCase().includes(e.toLowerCase())||((w=k.NAME)==null?void 0:w.toLowerCase().includes(e.toLowerCase()))||((D=k.CONTACT)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))}))||[];return y?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):m?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load users. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage system users and their resources"})]}),t.jsxs(q,{to:"/users/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search users...",value:e,onChange:k=>s(k.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"User"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Package"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Resources"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:j.map(k=>{var w,D;return t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:t.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-medium",children:((D=(w=k.NAME)==null?void 0:w[0])==null?void 0:D.toUpperCase())||k.username[0].toUpperCase()})}),t.jsxs("div",{children:[t.jsx("button",{onClick:()=>k.username!==(d==null?void 0:d.username)&&v(k.username),className:`font-medium ${k.username!==(d==null?void 0:d.username)?"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 hover:underline cursor-pointer":""}`,title:k.username!==(d==null?void 0:d.username)?`Login as ${k.username}`:"",children:k.username}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:k.NAME||"-"}),t.jsx("p",{className:"text-xs text-gray-400 dark:text-dark-muted",children:k.CONTACT})]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("span",{className:"badge badge-info",children:k.PACKAGE||"default"})}),t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-dark-muted",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"Web Domains",children:[t.jsx(et,{className:"w-4 h-4"}),k.U_WEB_DOMAINS||0]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Databases",children:[t.jsx(Ze,{className:"w-4 h-4"}),k.U_DATABASES||0]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Mail",children:[t.jsx(Zt,{className:"w-4 h-4"}),k.U_MAIL_ACCOUNTS||0]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Disk",children:[t.jsx(it,{className:"w-4 h-4"}),k.U_DISK||0,"MB"]})]})}),t.jsx("td",{className:"px-4 py-4",children:k.SUSPENDED==="yes"?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsx("button",{ref:O=>i.current[k.username]=O,onClick:()=>h(k.username),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-5 h-5"})})})]},k.username)})})]}),j.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No users found."})]})}),r&&eo.createPortal(t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(null)}),t.jsxs("div",{className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:n.top,right:n.right},children:[t.jsxs(q,{to:`/users/${r}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(gr,{className:"w-4 h-4"}),"Edit"]}),r!==(d==null?void 0:d.username)&&t.jsxs("button",{onClick:()=>v(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:[t.jsx(xk,{className:"w-4 h-4 text-blue-500"}),"Login as User"]}),t.jsx("button",{onClick:()=>{const k=j.find(w=>w.username===r);k&&g(r,k.SUSPENDED==="yes")},className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",disabled:r==="admin",children:((S=j.find(k=>k.username===r))==null?void 0:S.SUSPENDED)==="yes"?t.jsxs(t.Fragment,{children:[t.jsx(ye,{className:"w-4 h-4 text-green-500"}),"Unsuspend"]}):t.jsxs(t.Fragment,{children:[t.jsx(Tn,{className:"w-4 h-4 text-orange-500"}),"Suspend"]})}),r!=="admin"&&t.jsxs("button",{onClick:()=>b(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[t.jsx(Ue,{className:"w-4 h-4"}),"Delete"]})]})]}),document.body)]})}function Uk(){const e=be(),[s,r]=N.useState(!1),[a,n]=N.useState({username:"",password:"",email:"",name:"",package:"default"}),[l,i]=N.useState(""),o=K({mutationFn:async u=>(await M.post("/api/users",u)).data,onSuccess:()=>{e("/users")},onError:u=>{var h,x;i(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to create user")}}),c=u=>{u.preventDefault(),i(""),o.mutate(a)},d=()=>{const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let h="";for(let x=0;x<16;x++)h+=u.charAt(Math.floor(Math.random()*u.length));n({...a,password:h}),r(!0)};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/users",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add User"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new system user"})]})]}),t.jsxs("div",{className:"card p-6",children:[l&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),l]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium mb-1",children:["Username ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"username",value:a.username,onChange:u=>n({...a,username:u.target.value.toLowerCase()}),className:"input",placeholder:"johndoe",required:!0,pattern:"[a-z0-9_]+",title:"Only lowercase letters, numbers and underscores"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Only lowercase letters, numbers and underscores"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{type:s?"text":"password",id:"password",value:a.password,onChange:u=>n({...a,password:u.target.value}),className:"input pr-10",placeholder:"Enter password",required:!0,minLength:8}),t.jsx("button",{type:"button",onClick:()=>r(!s),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:s?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"button",onClick:d,className:"btn btn-secondary",title:"Generate password",children:t.jsx(Fe,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:["Email ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"email",id:"email",value:a.email,onChange:u=>n({...a,email:u.target.value}),className:"input",placeholder:"john@example.com",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Contact Name"}),t.jsx("input",{type:"text",id:"name",value:a.name,onChange:u=>n({...a,name:u.target.value}),className:"input",placeholder:"John Doe"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"package",className:"block text-sm font-medium mb-1",children:"Package"}),t.jsxs("select",{id:"package",value:a.package,onChange:u=>n({...a,package:u.target.value}),className:"input",children:[t.jsx("option",{value:"default",children:"Default"}),t.jsx("option",{value:"system",children:"System"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary flex-1",children:o.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create User"}),t.jsx(q,{to:"/users",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function $k(){var S,k,w,D,O;const{username:e}=Tt();be();const s=pe(),{user:r,isAdmin:a}=Os(),[n,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState({password:"",email:"",name:"",language:"en",package:"default",shell:"/bin/bash",phpcli:"",role:"user",loginDisabled:!1,twofa:!1,ns1:"",ns2:"",ns3:"",ns4:""}),[u,h]=N.useState(""),[x,y]=N.useState(""),{data:m}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data,staleTime:5*60*1e3}),p=a||(r==null?void 0:r.username)===e,{data:f,isLoading:b}=Z({queryKey:["user",e],queryFn:async()=>(await M.get(`/api/users/${e}`)).data.user,enabled:p});N.useEffect(()=>{f&&d({password:"",email:f.CONTACT||"",name:f.NAME||"",language:f.LANGUAGE||"en",package:f.PACKAGE||"default",shell:f.SHELL||"/bin/bash",phpcli:f.PHPCLI||"",role:f.ROLE||"user",loginDisabled:f.LOGIN_DISABLED==="yes",twofa:!!f.TWOFA,ns1:f.NS1||"",ns2:f.NS2||"",ns3:f.NS3||"",ns4:f.NS4||""})},[f]);const g=K({mutationFn:async C=>(await M.put(`/api/users/${e}`,C)).data,onSuccess:()=>{y("User updated successfully"),h(""),s.invalidateQueries(["user",e]),s.invalidateQueries(["users"]),setTimeout(()=>y(""),3e3)},onError:C=>{var P,R;h(((R=(P=C.response)==null?void 0:P.data)==null?void 0:R.error)||"Failed to update user"),y("")}}),v=C=>{C.preventDefault(),h(""),y("");const P={};c.password&&(P.password=c.password),c.email&&(P.email=c.email),c.name!==void 0&&(P.name=c.name),c.language&&(P.language=c.language),a&&(P.package=c.package,P.shell=c.shell,c.phpcli&&(P.phpcli=c.phpcli),e!=="admin"&&(P.role=c.role),P.loginDisabled=c.loginDisabled,P.twofa=c.twofa,P.ns1=c.ns1,P.ns2=c.ns2,P.ns3=c.ns3,P.ns4=c.ns4),g.mutate(P)},j=()=>{const C="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let P="";for(let R=0;R<16;R++)P+=C.charAt(Math.floor(Math.random()*C.length));d({...c,password:P}),l(!0)};return p?b?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:a?"/users":"/",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Edit User"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Update ",e,"'s profile"]})]})]}),t.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[t.jsxs(q,{to:`/users/${e}/ssh-keys`,className:"btn btn-secondary text-sm",title:"Manage SSH Keys",children:[t.jsx(fr,{className:"w-4 h-4 mr-1.5 text-orange-500"}),"SSH Keys"]}),t.jsxs(q,{to:`/users/${e}/logs`,className:"btn btn-secondary text-sm",title:"View Logs",children:[t.jsx(xd,{className:"w-4 h-4 mr-1.5 text-purple-500"}),"Logs"]}),t.jsxs(q,{to:"/rclone",className:"btn btn-secondary text-sm",title:"Cloud Backup",children:[t.jsx(ok,{className:"w-4 h-4 mr-1.5 text-green-500"}),"Cloud Backup"]})]})]}),t.jsx("div",{className:"card p-6 mb-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:t.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-bold text-2xl",children:((k=(S=f==null?void 0:f.NAME)==null?void 0:S[0])==null?void 0:k.toUpperCase())||e[0].toUpperCase()})}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:e}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:(f==null?void 0:f.NAME)||"No name set"}),t.jsxs("div",{className:"flex gap-2 mt-2",children:[(f==null?void 0:f.SUSPENDED)==="yes"?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"}),t.jsx("span",{className:"badge badge-info",children:(f==null?void 0:f.PACKAGE)||"default"})]})]})]})}),t.jsxs("div",{className:"card p-6",children:[u&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),u]}),x&&t.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 flex-shrink-0"}),x]}),t.jsxs("form",{onSubmit:v,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Contact Name"}),t.jsx("input",{type:"text",id:"name",value:c.name,onChange:C=>d({...c,name:C.target.value}),className:"input",placeholder:"John Doe"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),t.jsx("input",{type:"email",id:"email",value:c.email,onChange:C=>d({...c,email:C.target.value}),className:"input",placeholder:"john@example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"New Password"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{type:n?"text":"password",id:"password",value:c.password,onChange:C=>d({...c,password:C.target.value}),className:"input pr-10",placeholder:"Leave empty to keep current",minLength:c.password?8:0}),t.jsx("button",{type:"button",onClick:()=>l(!n),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:n?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"button",onClick:j,className:"btn btn-secondary",title:"Generate password",children:t.jsx(Fe,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Leave empty to keep the current password"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),t.jsxs("select",{id:"language",value:c.language,onChange:C=>d({...c,language:C.target.value}),className:"input",children:[t.jsx("option",{value:"en",children:"English"}),t.jsx("option",{value:"vi",children:"Ting Vit"}),t.jsx("option",{value:"de",children:"Deutsch"}),t.jsx("option",{value:"fr",children:"Franais"}),t.jsx("option",{value:"es",children:"Espaol"}),t.jsx("option",{value:"ru",children:""}),t.jsx("option",{value:"zh-cn",children:" ()"}),t.jsx("option",{value:"ja",children:""})]})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:c.loginDisabled,onChange:C=>d({...c,loginDisabled:C.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",disabled:!a||e==="admin"}),t.jsx("span",{className:"text-sm",children:"Do not allow user to log in to Control Panel"})]}),!c.loginDisabled&&t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:c.twofa,onChange:C=>d({...c,twofa:C.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable two-factor authentication"})]})]}),a&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"pt-4",children:t.jsxs("button",{type:"button",onClick:()=>o(!i),className:"btn btn-secondary w-full justify-between",children:[t.jsx("span",{children:"Advanced Options"}),i?t.jsx(Ka,{className:"w-4 h-4"}):t.jsx(hs,{className:"w-4 h-4"})]})}),i&&t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-border/30 rounded-lg",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"package",className:"block text-sm font-medium mb-1",children:"Package"}),t.jsx("select",{id:"package",value:c.package,onChange:C=>d({...c,package:C.target.value}),className:"input",children:((w=m==null?void 0:m.packages)==null?void 0:w.map(C=>t.jsx("option",{value:C,children:C},C)))||t.jsx("option",{value:"default",children:"default"})})]}),e!=="admin"&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"role",className:"block text-sm font-medium mb-1",children:"Role"}),t.jsxs("select",{id:"role",value:c.role,onChange:C=>d({...c,role:C.target.value}),className:"input",children:[t.jsx("option",{value:"user",children:"User"}),t.jsx("option",{value:"admin",children:"Administrator"}),t.jsx("option",{value:"dns-cluster",children:"DNS Sync User"})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"shell",className:"block text-sm font-medium mb-1",children:"SSH Access"}),t.jsx("select",{id:"shell",value:c.shell,onChange:C=>d({...c,shell:C.target.value}),className:"input",children:((D=m==null?void 0:m.shells)==null?void 0:D.map(C=>t.jsx("option",{value:C,children:C},C)))||t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"/bin/bash",children:"/bin/bash"}),t.jsx("option",{value:"/bin/sh",children:"/bin/sh"}),t.jsx("option",{value:"/usr/sbin/nologin",children:"/usr/sbin/nologin"})]})})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"phpcli",className:"block text-sm font-medium mb-1",children:"PHP CLI Version"}),t.jsxs("select",{id:"phpcli",value:c.phpcli,onChange:C=>d({...c,phpcli:C.target.value}),className:"input",children:[t.jsx("option",{value:"",children:"Default"}),(O=m==null?void 0:m.phpVersions)==null?void 0:O.map(C=>t.jsx("option",{value:C,children:C},C))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Name Servers"}),t.jsxs("div",{className:"space-y-2",children:[t.jsx("input",{type:"text",value:c.ns1,onChange:C=>d({...c,ns1:C.target.value}),className:"input",placeholder:"ns1.example.com"}),t.jsx("input",{type:"text",value:c.ns2,onChange:C=>d({...c,ns2:C.target.value}),className:"input",placeholder:"ns2.example.com"}),t.jsx("input",{type:"text",value:c.ns3,onChange:C=>d({...c,ns3:C.target.value}),className:"input",placeholder:"ns3.example.com (optional)"}),t.jsx("input",{type:"text",value:c.ns4,onChange:C=>d({...c,ns4:C.target.value}),className:"input",placeholder:"ns4.example.com (optional)"})]})]})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:g.isPending,className:"btn btn-primary flex-1",children:g.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Saving..."]}):"Save Changes"}),t.jsx(q,{to:a?"/users":"/",className:"btn btn-secondary",children:"Cancel"})]})]})]})]}):t.jsx("div",{className:"card p-6 text-center text-red-600",children:"You don't have permission to edit this user."})}function Bk(){const{username:e}=Tt(),s=pe(),[r,a]=N.useState(!1),[n,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState(""),[u,h]=N.useState(""),{data:x,isLoading:y}=Z({queryKey:["ssh-keys",e],queryFn:async()=>(await M.get(`/api/users/${e}/ssh-keys`)).data.keys}),m=K({mutationFn:async v=>(await M.post(`/api/users/${e}/ssh-keys`,v)).data,onSuccess:()=>{s.invalidateQueries(["ssh-keys",e]),a(!1),l(""),o(""),h("SSH key added successfully"),d(""),setTimeout(()=>h(""),3e3)},onError:v=>{var j,S;d(((S=(j=v.response)==null?void 0:j.data)==null?void 0:S.error)||"Failed to add SSH key")}}),p=K({mutationFn:async v=>{await M.delete(`/api/users/${e}/ssh-keys/${encodeURIComponent(v)}`)},onSuccess:()=>{s.invalidateQueries(["ssh-keys",e]),h("SSH key removed"),setTimeout(()=>h(""),3e3)},onError:v=>{var j,S;d(((S=(j=v.response)==null?void 0:j.data)==null?void 0:S.error)||"Failed to remove SSH key")}}),f=v=>{if(v.preventDefault(),d(""),!n.trim()){d("SSH key is required");return}if(!n.startsWith("ssh-")&&!n.startsWith("ecdsa-")&&!n.startsWith("sk-")){d("Invalid SSH key format. Key should start with ssh-rsa, ssh-ed25519, ecdsa-sha2-*, or similar.");return}m.mutate({key:n.trim(),name:i.trim()})},b=v=>{confirm("Are you sure you want to remove this SSH key?")&&p.mutate(v)},g=v=>{navigator.clipboard.writeText(v),h("Copied to clipboard"),setTimeout(()=>h(""),2e3)};return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:`/users/${e}/edit`,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"SSH Keys"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Manage SSH keys for ",e]})]})]}),t.jsxs("button",{onClick:()=>a(!r),className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add SSH Key"]})]}),c&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),c]}),u&&t.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 flex-shrink-0"}),u]}),r&&t.jsxs("div",{className:"card p-6 mb-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New SSH Key"}),t.jsxs("form",{onSubmit:f,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"keyName",className:"block text-sm font-medium mb-1",children:"Key Name (optional)"}),t.jsx("input",{type:"text",id:"keyName",value:i,onChange:v=>o(v.target.value),className:"input",placeholder:"My Laptop, Work PC, etc."})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"sshKey",className:"block text-sm font-medium mb-1",children:["Public Key ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"sshKey",value:n,onChange:v=>l(v.target.value),className:"input min-h-[120px] font-mono text-sm",placeholder:"ssh-rsa AAAAB3NzaC1... or ssh-ed25519 AAAAC3...",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Paste your public SSH key here. Usually found in ~/.ssh/id_rsa.pub or ~/.ssh/id_ed25519.pub"})]}),t.jsxs("div",{className:"flex gap-3",children:[t.jsx("button",{type:"submit",disabled:m.isPending,className:"btn btn-primary",children:m.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Adding..."]}):"Add Key"}),t.jsx("button",{type:"button",onClick:()=>{a(!1),l(""),o(""),d("")},className:"btn btn-secondary",children:"Cancel"})]})]})]}),t.jsx("div",{className:"card",children:y?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x&&x.length>0?t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:x.map((v,j)=>t.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-border/50",children:t.jsxs("div",{className:"flex items-start justify-between gap-4",children:[t.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[t.jsx(fr,{className:"w-5 h-5 text-orange-500 mt-1 flex-shrink-0"}),t.jsxs("div",{className:"min-w-0 flex-1",children:[t.jsx("p",{className:"font-medium",children:v.ID||v.id||`Key ${j+1}`}),v.KEY&&t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mt-1",children:v.KEY}),v.MD5&&t.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted font-mono mt-1",children:["MD5: ",v.MD5]}),v.PUB&&t.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted font-mono mt-1 truncate",children:[v.PUB.substring(0,80),"..."]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[v.PUB&&t.jsx("button",{onClick:()=>g(v.PUB),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-gray-500",title:"Copy public key",children:t.jsx(uo,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>b(v.ID||v.id),className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500",title:"Remove key",children:t.jsx(Ue,{className:"w-4 h-4"})})]})]})},v.id||j))}):t.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:[t.jsx(fr,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No SSH keys configured."}),t.jsx("p",{className:"text-sm mt-1",children:"Add an SSH key to enable passwordless login."})]})})]})}function zk(){var h,x;const{username:e}=Tt(),[s,r]=N.useState("history"),{data:a,isLoading:n,error:l,refetch:i,isFetching:o}=Z({queryKey:["user-logs",e,s],queryFn:async()=>(await M.get(`/api/users/${e}/logs`,{params:{type:s}})).data.logs}),c=()=>{const y=Array.isArray(a)?a.map(b=>`${b.DATE} ${b.TIME} [${b.CATEGORY}] ${b.MESSAGE}`).join(`
`):a||"",m=new Blob([y],{type:"text/plain"}),p=URL.createObjectURL(m),f=document.createElement("a");f.href=p,f.download=`${e}-${s}.log`,f.click(),URL.revokeObjectURL(p)},d=y=>{switch(y==null?void 0:y.toLowerCase()){case"error":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"warning":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"info":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},u=y=>{switch(y==null?void 0:y.toLowerCase()){case"web":return"text-green-500";case"mail":return"text-blue-500";case"dns":return"text-purple-500";case"database":return"text-orange-500";case"security":return"text-red-500";case"backup":return"text-cyan-500";case"system":return"text-gray-500";default:return"text-gray-400"}};return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:`/users/${e}/edit`,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"User Logs"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Activity history for ",e]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(),disabled:o,className:"btn btn-secondary",children:[t.jsx(Fe,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),t.jsxs("button",{onClick:c,disabled:!a||a.length===0,className:"btn btn-secondary",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("label",{className:"text-sm font-medium",children:"Log Type:"}),t.jsxs("select",{value:s,onChange:y=>r(y.target.value),className:"input w-auto",children:[t.jsx("option",{value:"history",children:"Action History"}),t.jsx("option",{value:"login",children:"Login History"})]})]})}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-200 dark:border-dark-border",children:[t.jsx(xd,{className:"w-5 h-5 text-purple-500"}),t.jsx("span",{className:"font-medium",children:s==="history"?"Action History":"Login History"})]}),n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l?t.jsxs("div",{className:"text-center py-12 text-red-500",children:["Failed to load logs. ",((x=(h=l.response)==null?void 0:h.data)==null?void 0:x.error)||""]}):Array.isArray(a)&&a.length>0?t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:a.map((y,m)=>t.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-border/50",children:t.jsxs("div",{className:"flex items-start gap-4",children:[t.jsx(Zr,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${u(y.CATEGORY)}`}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[t.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${d(y.LEVEL)}`,children:y.LEVEL}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:y.CATEGORY})]}),t.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:y.MESSAGE}),t.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-dark-muted",children:[t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(a0,{className:"w-3 h-3"}),y.DATE]}),t.jsxs("span",{className:"flex items-center gap-1",children:[t.jsx(ra,{className:"w-3 h-3"}),y.TIME]})]})]})]})},m))}):t.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:[t.jsx(xd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),t.jsx("p",{children:"No log entries found."})]})]})]})}function qk(){const[e,s]=N.useState(""),[r,a]=N.useState(null),[n,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=pe(),{data:c,isLoading:d,error:u}=Z({queryKey:["web-domains"],queryFn:async()=>(await M.get("/api/web")).data.domains}),h=K({mutationFn:async({domain:j,suspend:S})=>{S?await M.post(`/api/web/${j}/suspend`):await M.post(`/api/web/${j}/unsuspend`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),x=K({mutationFn:async j=>{await M.delete(`/api/web/${j}`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),y=K({mutationFn:async({domain:j,enable:S})=>{S?await M.post(`/api/web/${j}/ssl`,{letsencrypt:!0}):await M.delete(`/api/web/${j}/ssl`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),m=j=>{if(r===j){a(null);return}const S=i.current[j];if(S){const k=S.getBoundingClientRect();l({top:k.bottom+4,right:window.innerWidth-k.right})}a(j)},p=j=>{confirm(`Are you sure you want to delete domain "${j}"? This cannot be undone.`)&&x.mutate(j),a(null)},f=(j,S)=>{h.mutate({domain:j,suspend:!S}),a(null)},b=(j,S)=>{y.mutate({domain:j,enable:!S}),a(null)},g=(c==null?void 0:c.filter(j=>{var S;return j.domain.toLowerCase().includes(e.toLowerCase())||((S=j.ALIAS)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}))||[],v=j=>{if(!j||j==="0")return"0 MB";const S=parseFloat(j);return S>=1024?`${(S/1024).toFixed(1)} GB`:`${S} MB`};return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load web domains. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Web Domains"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your websites and domains"})]}),t.jsxs(q,{to:"/web/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Web Domain"]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search domains...",value:e,onChange:j=>s(j.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Domain"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Disk"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Bandwidth"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"SSL"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:g.map(j=>{var D;const S=((D=j.ALIAS)==null?void 0:D.split(",").filter(O=>O&&O!==`www.${j.domain}`))||[],k=j.SUSPENDED==="yes",w=j.SSL==="yes";return t.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${k?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{children:[t.jsxs("a",{href:`http${w?"s":""}://${j.domain}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 hover:underline flex items-center gap-1",children:[j.domain,t.jsx(Wa,{className:"w-3 h-3"})]}),S.length>0&&t.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted mt-1 truncate max-w-xs",children:[S.slice(0,2).join(", "),S.length>2&&` +${S.length-2} more`]})]})}),t.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:j.IP}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),v(j.U_DISK)]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[t.jsx(Zr,{className:"w-4 h-4"}),v(j.U_BANDWIDTH)]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:w?t.jsx("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",title:"SSL Enabled",children:t.jsx(kk,{className:"w-5 h-5"})}):t.jsx("span",{className:"inline-flex items-center gap-1 text-gray-400",title:"SSL Disabled",children:t.jsx(wk,{className:"w-5 h-5"})})}),t.jsx("td",{className:"px-4 py-4 text-center",children:k?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsx("button",{ref:O=>i.current[j.domain]=O,onClick:()=>m(j.domain),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-5 h-5"})})})]},j.domain)})})]}),g.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No domains found matching your search.":"No web domains yet. Add your first domain to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[g.length," ",g.length===1?"domain":"domains"]}),r&&eo.createPortal(t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(null)}),t.jsx("div",{className:"fixed w-52 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:n.top,right:n.right},children:(()=>{const j=g.find(w=>w.domain===r);if(!j)return null;const S=j.SUSPENDED==="yes",k=j.SSL==="yes";return t.jsxs(t.Fragment,{children:[t.jsxs("a",{href:`http${k?"s":""}://${r}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(Wa,{className:"w-4 h-4 text-blue-500"}),"Visit Site"]}),!S&&t.jsxs(t.Fragment,{children:[t.jsxs(q,{to:`/web/${r}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(gr,{className:"w-4 h-4 text-orange-500"}),"Edit Domain"]}),t.jsx("button",{onClick:()=>b(r,k),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:k?t.jsxs(t.Fragment,{children:[t.jsx(Pk,{className:"w-4 h-4 text-gray-500"}),"Disable SSL"]}):t.jsxs(t.Fragment,{children:[t.jsx(i0,{className:"w-4 h-4 text-green-500"}),"Enable SSL"]})}),j.STATS&&j.STATS!=="no"&&t.jsxs("a",{href:`http://${r}/vstats/`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(an,{className:"w-4 h-4 text-purple-500"}),"View Statistics"]}),t.jsxs(q,{to:`/web/${r}/logs`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(ts,{className:"w-4 h-4 text-purple-500"}),"View Logs"]})]}),t.jsx("button",{onClick:()=>f(r,S),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:S?t.jsxs(t.Fragment,{children:[t.jsx(fl,{className:"w-4 h-4 text-green-500"}),"Unsuspend"]}):t.jsxs(t.Fragment,{children:[t.jsx(Li,{className:"w-4 h-4 text-orange-500"}),"Suspend"]})}),t.jsxs("button",{onClick:()=>p(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[t.jsx(Ue,{className:"w-4 h-4"}),"Delete"]})]})})()})]}),document.body)]})}function Hk(){var h;const e=be(),s=pe(),[r,a]=N.useState(!1),[n,l]=N.useState(""),[i,o]=N.useState({domain:"",ip:"",aliases:"",proxySupport:!0,proxyExtensions:"jpg,jpeg,gif,png,ico,svg,css,zip,tgz,gz,rar,bz2,doc,xls,exe,pdf,ppt,txt,odt,ods,odp,odf,tar,wav,bmp,rtf,js,mp3,avi,mpeg,flv,woff,woff2",enableSSL:!1}),{data:c}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data}),d=K({mutationFn:async x=>(await M.post("/api/web",x)).data,onSuccess:async(x,y)=>{if(i.enableSSL)try{await M.post(`/api/web/${y.domain}/ssl`,{letsencrypt:!0})}catch(m){console.warn("Failed to enable SSL:",m)}s.invalidateQueries(["web-domains"]),e("/web")},onError:x=>{var y,m;l(((m=(y=x.response)==null?void 0:y.data)==null?void 0:m.error)||"Failed to create domain")}}),u=x=>{if(x.preventDefault(),l(""),!i.domain){l("Domain is required");return}const y=i.aliases.split(/[\n\r,]+/).map(m=>m.trim()).filter(m=>m).join(",");d.mutate({domain:i.domain.toLowerCase().trim(),ip:i.ip,aliases:y,proxySupport:i.proxySupport?"yes":"no",proxyExtensions:i.proxyExtensions})};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add Web Domain"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new website"})]})]}),t.jsxs("div",{className:"card p-6",children:[n&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),n]}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:["Domain ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"domain",value:i.domain,onChange:x=>o({...i,domain:x.target.value}),className:"input",placeholder:"example.com",required:!0}),t.jsxs("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:["www.",i.domain||"example.com"," will be added automatically as an alias"]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),t.jsxs("select",{id:"ip",value:i.ip,onChange:x=>o({...i,ip:x.target.value}),className:"input",children:[t.jsx("option",{value:"",children:"* (All IP Addresses)"}),(h=c==null?void 0:c.ips)==null?void 0:h.map(x=>t.jsx("option",{value:x,children:x},x))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"aliases",className:"block text-sm font-medium mb-1",children:"Additional Aliases"}),t.jsx("textarea",{id:"aliases",value:i.aliases,onChange:x=>o({...i,aliases:x.target.value}),className:"input min-h-[80px]",placeholder:`alias1.com
alias2.com
alias3.com`,rows:3}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"One alias per line, or comma-separated"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:i.enableSSL,onChange:x=>o({...i,enableSSL:x.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable SSL with Let's Encrypt"})]}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1 ml-6",children:"Automatically obtain and install a free SSL certificate"})]}),t.jsx("div",{className:"pt-2",children:t.jsxs("button",{type:"button",onClick:()=>a(!r),className:"btn btn-secondary w-full justify-between",children:[t.jsx("span",{children:"Advanced Options"}),r?t.jsx(Ka,{className:"w-4 h-4"}):t.jsx(hs,{className:"w-4 h-4"})]})}),r&&t.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-border/30 rounded-lg",children:[t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:i.proxySupport,onChange:x=>o({...i,proxySupport:x.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable Proxy Support (Nginx)"})]})}),i.proxySupport&&t.jsxs("div",{children:[t.jsx("label",{htmlFor:"proxyExtensions",className:"block text-sm font-medium mb-1",children:"Proxy Extensions"}),t.jsx("input",{type:"text",id:"proxyExtensions",value:i.proxyExtensions,onChange:x=>o({...i,proxyExtensions:x.target.value}),className:"input text-sm"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"File extensions to be served directly by Nginx"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary flex-1",children:d.isPending?t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Domain"}),t.jsx(q,{to:"/web",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function Qk(){var I,G,J,X;const{domain:e}=Tt(),s=pe(),[r,a]=N.useState(!1),[n,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState(!1),[u,h]=N.useState("tpl"),[x,y]=N.useState({name:"",tpl:"",stpl:""}),[m,p]=N.useState(!1),[f,b]=N.useState(""),[g,v]=N.useState({ip:"",aliases:"",stats:"none",redirectEnabled:!1,redirectType:"www",redirectCustom:"",sslEnabled:!1,webTemplate:"default",backendTemplate:"default",fastcgiCache:!1,customDocRoot:!1,docRoot:""}),{data:j,isLoading:S}=Z({queryKey:["web-domain",e],queryFn:async()=>(await M.get(`/api/web/${e}`)).data.domain}),{data:k}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data});N.useEffect(()=>{if(j){const A=j.ALIAS||`www.${e}`;v({ip:j.IP||"",aliases:A,stats:j.STATS||"none",redirectEnabled:j.REDIRECT==="yes",redirectType:j.REDIRECT_CODE==="301"?"www":"nowww",redirectCustom:j.REDIRECT_URL||"",sslEnabled:j.SSL==="yes",webTemplate:j.TPL||"default",backendTemplate:j.BACKEND||"default",fastcgiCache:j.FASTCGI_CACHE==="yes",customDocRoot:!!j.CUSTOM_DOCROOT,docRoot:j.CUSTOM_DOCROOT||""})}},[j,e]);const w=K({mutationFn:async A=>(await M.put(`/api/web/${e}`,A)).data,onSuccess:()=>{o("Domain updated successfully"),l(""),s.invalidateQueries(["web-domain",e]),s.invalidateQueries(["web-domains"]),setTimeout(()=>o(""),3e3)},onError:A=>{var F,L;l(((L=(F=A.response)==null?void 0:F.data)==null?void 0:L.error)||"Failed to update domain"),o("")}}),D=K({mutationFn:async A=>{A?await M.post(`/api/web/${e}/ssl`,{letsencrypt:!0}):await M.delete(`/api/web/${e}/ssl`)},onSuccess:()=>{s.invalidateQueries(["web-domain",e]),s.invalidateQueries(["web-domains"]),o("SSL settings updated"),v(A=>({...A,sslEnabled:!A.sslEnabled})),setTimeout(()=>o(""),3e3)},onError:A=>{var F,L;l(((L=(F=A.response)==null?void 0:F.data)==null?void 0:L.error)||"Failed to update SSL")}}),O=async()=>{const A=g.webTemplate;if(A){b(""),p(!0),d(!0),h("tpl");try{const F=await M.get(`/api/system/templates/${A}`);y({name:`${A}-custom`,tpl:F.data.tpl||"",stpl:F.data.stpl||""})}catch{b("Failed to load template content")}finally{p(!1)}}},C=async()=>{var A,F;if(!x.name){b("Template name is required");return}b(""),p(!0);try{await M.post("/api/system/templates",x),d(!1),s.invalidateQueries(["system-info"]),o(`Template "${x.name}" created successfully`),setTimeout(()=>o(""),3e3)}catch(L){b(((F=(A=L.response)==null?void 0:A.data)==null?void 0:F.error)||"Failed to create template")}finally{p(!1)}},P=A=>{A.preventDefault(),l(""),o(""),w.mutate({ip:g.ip,aliases:g.aliases,stats:g.stats,redirect:g.redirectEnabled?"yes":"no",redirectType:g.redirectType,redirectCustom:g.redirectCustom,webTemplate:g.webTemplate,backendTemplate:g.backendTemplate,fastcgiCache:g.fastcgiCache?"yes":"no",customDocRoot:g.customDocRoot?g.docRoot:""})};if(S)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(!j)return t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Domain not found."});const R=j.SSL==="yes";return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsx("div",{children:t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Web Domain"})})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{to:`/web/${e}/quick-install`,className:"btn btn-secondary",children:[t.jsx(Dk,{className:"w-4 h-4 mr-2"}),"Quick Install App"]}),t.jsx("button",{type:"submit",form:"webEditForm",disabled:w.isPending,className:"btn btn-primary",children:w.isPending?"Saving...":"Save"})]})]}),n&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),n]}),i&&t.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 flex-shrink-0"}),i]}),t.jsx("div",{className:"card p-6",children:t.jsxs("form",{id:"webEditForm",onSubmit:P,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),t.jsx("input",{type:"text",value:e,className:"input bg-gray-100 dark:bg-dark-border",disabled:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"aliases",className:"block text-sm font-medium mb-1",children:"Aliases"}),t.jsx("textarea",{id:"aliases",value:g.aliases,onChange:A=>v({...g,aliases:A.target.value}),className:"input min-h-[80px]",placeholder:`www.${e}`})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),t.jsxs("select",{id:"ip",value:g.ip,onChange:A=>v({...g,ip:A.target.value}),className:"input",children:[t.jsx("option",{value:"",children:"* (All IP Addresses)"}),(I=k==null?void 0:k.ips)==null?void 0:I.map(A=>t.jsx("option",{value:A,children:A},A))]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"stats",className:"block text-sm font-medium mb-1",children:"Web Statistics"}),t.jsx("select",{id:"stats",value:g.stats,onChange:A=>v({...g,stats:A.target.value}),className:"input",children:((G=k==null?void 0:k.webStats)==null?void 0:G.map(A=>t.jsx("option",{value:A,children:A},A)))||t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"none",children:"none"}),t.jsx("option",{value:"awstats",children:"awstats"}),t.jsx("option",{value:"webalizer",children:"webalizer"})]})})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:g.redirectEnabled,onChange:A=>v({...g,redirectEnabled:A.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable domain redirection"})]}),g.redirectEnabled&&t.jsxs("div",{className:"ml-6 space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"radio",name:"redirectType",checked:g.redirectType==="www",onChange:()=>v({...g,redirectType:"www"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsxs("span",{className:"text-sm",children:["Redirect visitors to www.",e]})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"radio",name:"redirectType",checked:g.redirectType==="nowww",onChange:()=>v({...g,redirectType:"nowww"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsxs("span",{className:"text-sm",children:["Redirect visitors to ",e]})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"radio",name:"redirectType",checked:g.redirectType==="custom",onChange:()=>v({...g,redirectType:"custom"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Redirect visitors to a custom domain or web address"})]}),g.redirectType==="custom"&&t.jsx("input",{type:"text",value:g.redirectCustom,onChange:A=>v({...g,redirectCustom:A.target.value}),className:"input ml-6",placeholder:"https://example.com"})]})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:g.sslEnabled,onChange:()=>D.mutate(!g.sslEnabled),disabled:D.isPending,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable SSL for this domain"}),D.isPending&&t.jsx("div",{className:"w-4 h-4 border-2 border-primary-600/30 border-t-primary-600 rounded-full animate-spin"})]}),R&&j.LETSENCRYPT==="yes"&&t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted ml-6",children:"Using Let's Encrypt certificate"})]}),t.jsx("div",{className:"pt-2",children:t.jsx("button",{type:"button",onClick:()=>a(!r),className:"btn btn-secondary w-full justify-center",children:"Advanced Options"})}),r&&t.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"webTemplate",className:"block text-sm font-medium mb-1",children:["Web Template ",t.jsx("span",{className:"text-gray-400 text-xs",children:"NGINX"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("select",{id:"webTemplate",value:g.webTemplate,onChange:A=>v({...g,webTemplate:A.target.value}),className:"input flex-1",children:((J=k==null?void 0:k.webTemplates)==null?void 0:J.map(A=>t.jsx("option",{value:A,children:A},A)))||t.jsx("option",{value:"default",children:"default"})}),t.jsx("button",{type:"button",onClick:O,className:"btn btn-secondary",title:"Clone template",children:t.jsx(uo,{className:"w-4 h-4"})})]})]}),t.jsx("div",{children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:g.fastcgiCache,onChange:A=>v({...g,fastcgiCache:A.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable FastCGI cache"}),t.jsx("span",{className:"text-xs text-gray-400",title:"Improves performance by caching PHP responses",children:"?"})]})}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"backendTemplate",className:"block text-sm font-medium mb-1",children:["Backend Template ",t.jsx("span",{className:"text-gray-400 text-xs",children:"PHP-FPM"})]}),t.jsx("select",{id:"backendTemplate",value:g.backendTemplate,onChange:A=>v({...g,backendTemplate:A.target.value}),className:"input",children:((X=k==null?void 0:k.backendTemplates)==null?void 0:X.map(A=>t.jsx("option",{value:A,children:A},A)))||t.jsx("option",{value:"default",children:"default"})})]}),t.jsxs("div",{className:"space-y-2",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:g.customDocRoot,onChange:A=>v({...g,customDocRoot:A.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Custom document root"})]}),g.customDocRoot&&t.jsx("input",{type:"text",value:g.docRoot,onChange:A=>v({...g,docRoot:A.target.value}),className:"input ml-6",placeholder:"/public"})]})]})]})}),c&&t.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[t.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),t.jsxs("div",{className:"relative bg-white dark:bg-dark-card rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Clone Template"}),t.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[f&&t.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),f]}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["New Template Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:x.name,onChange:A=>y({...x,name:A.target.value}),className:"input",placeholder:"my-custom-template"}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Use only letters, numbers, dashes, and underscores"})]}),t.jsxs("div",{className:"flex border-b border-gray-200 dark:border-dark-border mb-4",children:[t.jsx("button",{type:"button",onClick:()=>h("tpl"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${u==="tpl"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"HTTP (.tpl)"}),t.jsx("button",{type:"button",onClick:()=>h("stpl"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${u==="stpl"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"HTTPS/SSL (.stpl)"})]}),m?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsx("textarea",{value:u==="tpl"?x.tpl:x.stpl,onChange:A=>y({...x,[u]:A.target.value}),className:"input font-mono text-sm min-h-[400px]",placeholder:`Enter ${u==="tpl"?"HTTP":"HTTPS"} template content...`})]}),t.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{type:"button",onClick:C,disabled:m,className:"btn btn-primary",children:m?"Saving...":"Create Template"})]})]})]})]})}function Kk(){var h,x;const{domain:e}=Tt(),[s,r]=N.useState("access"),[a,n]=N.useState(100),{data:l,isLoading:i,error:o,refetch:c,isFetching:d}=Z({queryKey:["web-logs",e,s,a],queryFn:async()=>(await M.get(`/api/web/${e}/logs`,{params:{type:s,lines:a}})).data.logs}),u=()=>{const y=new Blob([l||""],{type:"text/plain"}),m=URL.createObjectURL(y),p=document.createElement("a");p.href=m,p.download=`${e}-${s}.log`,p.click(),URL.revokeObjectURL(m)};return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Web Logs"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["View logs for ",e]})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>c(),disabled:d,className:"btn btn-secondary",children:[t.jsx(Fe,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]}),t.jsxs("button",{onClick:u,disabled:!l,className:"btn btn-secondary",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Log Type:"}),t.jsxs("select",{value:s,onChange:y=>r(y.target.value),className:"input w-auto",children:[t.jsx("option",{value:"access",children:"Access Log"}),t.jsx("option",{value:"error",children:"Error Log"})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("label",{className:"text-sm font-medium",children:"Lines:"}),t.jsxs("select",{value:a,onChange:y=>n(parseInt(y.target.value)),className:"input w-auto",children:[t.jsx("option",{value:50,children:"50"}),t.jsx("option",{value:100,children:"100"}),t.jsx("option",{value:200,children:"200"}),t.jsx("option",{value:500,children:"500"}),t.jsx("option",{value:1e3,children:"1000"})]})]})]})}),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-200 dark:border-dark-border",children:[s==="access"?t.jsx(Fs,{className:"w-5 h-5 text-blue-500"}):t.jsx(Ha,{className:"w-5 h-5 text-orange-500"}),t.jsx("span",{className:"font-medium",children:s==="access"?"Access Log":"Error Log"})]}),t.jsx("div",{className:"p-4 overflow-x-auto",children:i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsxs("div",{className:"text-center py-12 text-red-500",children:["Failed to load logs. ",((x=(h=o.response)==null?void 0:h.data)==null?void 0:x.error)||""]}):l?t.jsx("pre",{className:"text-xs font-mono text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-all",children:l}):t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No log entries found."})})]})]})}function Wk(){const[e,s]=N.useState(""),[r,a]=N.useState([]),n=pe(),{data:l,isLoading:i,error:o}=Z({queryKey:["dns-domains"],queryFn:async()=>(await M.get("/api/dns")).data.zones||[]}),c=K({mutationFn:async({domain:p,suspend:f})=>{f?await M.post(`/api/dns/${p}/suspend`):await M.post(`/api/dns/${p}/unsuspend`)},onSuccess:()=>{n.invalidateQueries(["dns-domains"]),B.success("DNS zone updated")},onError:p=>{var f,b;B.error(((b=(f=p.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to update DNS zone")}}),d=K({mutationFn:async p=>{await M.delete(`/api/dns/${p}`)},onSuccess:()=>{n.invalidateQueries(["dns-domains"]),B.success("DNS zone deleted")},onError:p=>{var f,b;B.error(((b=(f=p.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to delete DNS zone")}}),u=p=>{confirm(`Are you sure you want to delete DNS zone "${p}"?`)&&d.mutate(p)},h=(p,f)=>{c.mutate({domain:p,suspend:!f})},x=p=>{a(p?m.map(f=>f.domain):[])},y=(p,f)=>{a(f?[...r,p]:r.filter(b=>b!==p))},m=(l==null?void 0:l.filter(p=>{var f;return(f=p.domain)==null?void 0:f.toLowerCase().includes(e.toLowerCase())}))||[];return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load DNS domains. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"DNS Zones"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your DNS zones and records"})]}),t.jsxs(q,{to:"/dns/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add DNS Zone"]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search DNS zones...",value:e,onChange:p=>s(p.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider w-8",children:t.jsx("input",{type:"checkbox",className:"rounded",checked:r.length===m.length&&m.length>0,onChange:p=>x(p.target.checked)})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Records"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Template"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"TTL"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"SOA"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"DNSSEC"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Expiration Date"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:m.map(p=>{const f=p.SUSPENDED==="yes";return t.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${f?"opacity-60":""}`,children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("input",{type:"checkbox",className:"rounded",checked:r.includes(p.domain),onChange:b=>y(p.domain,b.target.checked)})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(q,{to:`/dns/${p.domain}`,className:"text-primary-600 hover:text-primary-700 font-medium",children:p.domain}),t.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[t.jsx(q,{to:`/dns/${p.domain}/add-record`,className:"p-1.5 rounded hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600",title:"Add Record",children:t.jsx(c0,{className:"w-4 h-4"})}),t.jsx(q,{to:`/dns/${p.domain}/edit`,className:"p-1.5 rounded hover:bg-orange-100 dark:hover:bg-orange-900/30 text-orange-500",title:"Edit",children:t.jsx(gr,{className:"w-4 h-4"})}),t.jsx(q,{to:`/dns/${p.domain}`,className:"p-1.5 rounded hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-500",title:"List Records",children:t.jsx(el,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>h(p.domain,f),className:`p-1.5 rounded ${f?"hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600":"hover:bg-yellow-100 dark:hover:bg-yellow-900/30 text-yellow-600"}`,title:f?"Unsuspend":"Suspend",children:f?t.jsx(fl,{className:"w-4 h-4"}):t.jsx(Li,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>u(p.domain),className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500",title:"Delete",children:t.jsx(Ue,{className:"w-4 h-4"})})]})]})}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.RECORDS||0}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TPL||"default"}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TTL||"14400"}),t.jsx("td",{className:"px-4 py-3 text-center text-sm text-primary-600",children:p.SOA||"-"}),t.jsx("td",{className:"px-4 py-3 text-center",children:p.DNSSEC==="yes"?t.jsx("span",{className:"text-green-500",children:""}):t.jsx("span",{className:"text-red-500",children:""})}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.EXP||"-"})]},p.domain)})})]}),m.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No DNS zones found matching your search.":"No DNS zones yet. Add your first zone to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[m.length," ",m.length===1?"zone":"zones"]})]})}function Vk(){var p;const e=be(),[s,r]=N.useState(""),[a,n]=N.useState(!1),[l,i]=N.useState({domain:"",ip:"",template:"default",exp:o(),ttl:"14400",nameservers:["ns1.","ns2."]});function o(){const f=new Date;return f.setFullYear(f.getFullYear()+1),f.toISOString().split("T")[0]}const{data:c}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data});N.useEffect(()=>{var f;((f=c==null?void 0:c.ips)==null?void 0:f.length)>0&&!l.ip&&i(b=>({...b,ip:c.ips[0]}))},[c]);const d=K({mutationFn:async f=>{await M.post("/api/dns",f)},onSuccess:()=>{e("/dns")},onError:f=>{var b,g;r(((g=(b=f.response)==null?void 0:b.data)==null?void 0:g.error)||"Failed to create DNS zone")}}),u=f=>{if(f.preventDefault(),r(""),!l.domain){r("Domain is required");return}d.mutate({domain:l.domain.toLowerCase().trim(),ip:l.ip,template:l.template,exp:l.exp,ttl:l.ttl,ns1:l.nameservers[0]||"",ns2:l.nameservers[1]||"",ns3:l.nameservers[2]||"",ns4:l.nameservers[3]||""})},h=()=>{l.nameservers.length<8&&i({...l,nameservers:[...l.nameservers,""]})},x=f=>{if(l.nameservers.length>2){const b=l.nameservers.filter((g,v)=>v!==f);i({...l,nameservers:b})}},y=(f,b)=>{const g=[...l.nameservers];g[f]=b,i({...l,nameservers:g})},m=f=>{const b=f.toLowerCase().trim();i(g=>({...g,domain:b,nameservers:g.nameservers.map((v,j)=>{const S=v.split(".")[0]||`ns${j+1}`;return b?`${S}.${b}`:`${S}.`})}))};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsx("div",{className:"flex items-center gap-4",children:t.jsxs(q,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]})}),t.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-1"}),"Save"]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h1",{className:"text-xl font-bold mb-6",children:"Add DNS Zone"}),s&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),s]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:"Domain"}),t.jsx("input",{type:"text",id:"domain",value:l.domain,onChange:f=>m(f.target.value),className:"input",placeholder:"example.com",required:!0})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),t.jsxs("select",{id:"ip",value:l.ip,onChange:f=>i({...l,ip:f.target.value}),className:"input",children:[t.jsx("option",{value:"",children:"Select IP address"}),(p=c==null?void 0:c.ips)==null?void 0:p.map(f=>t.jsx("option",{value:f,children:f},f))]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"template",className:"block text-sm font-medium mb-1",children:["Template ",t.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"BIND9"})]}),t.jsx("select",{id:"template",value:l.template,onChange:f=>i({...l,template:f.target.value}),className:"input",children:((c==null?void 0:c.dnsTemplates)||["default","child-ns","default-nomail","gmail","office365","zoho"]).map(f=>t.jsx("option",{value:f,children:f},f))})]}),t.jsx("div",{children:t.jsxs("button",{type:"button",onClick:()=>n(!a),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-dark-border rounded-lg hover:bg-gray-200 dark:hover:bg-dark-border/80",children:[a?t.jsx(Ka,{className:"w-4 h-4"}):t.jsx(hs,{className:"w-4 h-4"}),"Advanced Options"]})}),a&&t.jsxs("div",{className:"space-y-4 pt-2",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"exp",className:"block text-sm font-medium mb-1",children:["Expiration Date ",t.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(YYYY-MM-DD)"})]}),t.jsx("input",{type:"date",id:"exp",value:l.exp,onChange:f=>i({...l,exp:f.target.value}),className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:"TTL"}),t.jsx("input",{type:"text",id:"ttl",value:l.ttl,onChange:f=>i({...l,ttl:f.target.value}),className:"input",placeholder:"14400"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name Servers"}),t.jsx("div",{className:"space-y-2",children:l.nameservers.map((f,b)=>t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:f,onChange:g=>y(b,g.target.value),className:"input flex-1",placeholder:`ns${b+1}.example.com`}),l.nameservers.length>2&&t.jsx("button",{type:"button",onClick:()=>x(b),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:t.jsx(bt,{className:"w-4 h-4"})})]},b))}),l.nameservers.length<8&&t.jsxs("button",{type:"button",onClick:h,className:"mt-2 text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[t.jsx(we,{className:"w-4 h-4"}),"Add Name Server"]})]})]})]})]})]})}function Gk(){const{domain:e}=Tt(),[s,r]=N.useState(""),[a,n]=N.useState([]),l=pe(),{data:i,isLoading:o,error:c}=Z({queryKey:["dns-records",e],queryFn:async()=>(await M.get(`/api/dns/${e}`)).data}),d=K({mutationFn:async p=>{await M.delete(`/api/dns/${e}/records/${p}`)},onSuccess:()=>{l.invalidateQueries(["dns-records",e]),B.success("Record deleted")},onError:p=>{var f,b;B.error(((b=(f=p.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to delete record")}}),u=(p,f)=>{confirm(`Are you sure you want to delete record "${f}"?`)&&d.mutate(p)},h=p=>{n(p?m.map(f=>f.id):[])},x=(p,f)=>{n(f?[...a,p]:a.filter(b=>b!==p))},m=((i==null?void 0:i.records)||[]).filter(p=>{var f,b,g;return((f=p.RECORD)==null?void 0:f.toLowerCase().includes(s.toLowerCase()))||((b=p.VALUE)==null?void 0:b.toLowerCase().includes(s.toLowerCase()))||((g=p.TYPE)==null?void 0:g.toLowerCase().includes(s.toLowerCase()))});return o?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load DNS records. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs(q,{to:`/dns/${e}/add-record`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(c0,{className:"w-4 h-4 mr-1 text-green-500"}),"Add Record"]}),t.jsxs(q,{to:`/dns/${e}/edit`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(gr,{className:"w-4 h-4 mr-1 text-blue-500"}),"Edit DNS Domain"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("span",{className:"text-sm text-gray-500",children:["Sort by: ",t.jsx("strong",{children:"Record"})]}),t.jsxs("select",{className:"input py-1 text-sm w-40",children:[t.jsx("option",{children:"Apply to selected"}),t.jsx("option",{value:"suspend",children:"Suspend"}),t.jsx("option",{value:"unsuspend",children:"Unsuspend"}),t.jsx("option",{value:"delete",children:"Delete"})]}),t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search...",value:s,onChange:p=>r(p.target.value),className:"input py-1 pl-8 text-sm w-40"})]})]})]}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left w-8",children:t.jsx("input",{type:"checkbox",className:"rounded",checked:a.length===m.length&&m.length>0,onChange:p=>h(p.target.checked)})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Record"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Priority"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"TTL"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"IP or Value"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:m.map(p=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("input",{type:"checkbox",className:"rounded",checked:a.includes(p.id),onChange:f=>x(p.id,f.target.checked)})}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(q,{to:`/dns/${e}/edit-record/${p.id}`,className:"text-primary-600 hover:text-primary-700 font-medium",children:p.RECORD}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx(q,{to:`/dns/${e}/edit-record/${p.id}`,className:"p-1 rounded hover:bg-orange-100 dark:hover:bg-orange-900/30 text-orange-500",title:"Edit Record",children:t.jsx(gr,{className:"w-3.5 h-3.5"})}),t.jsx("button",{onClick:()=>u(p.id,p.RECORD),className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500",title:"Delete",children:t.jsx(Ue,{className:"w-3.5 h-3.5"})})]})]})}),t.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium",children:p.TYPE}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.PRIORITY||""}),t.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TTL||"14400"}),t.jsx("td",{className:"px-4 py-3 text-sm text-primary-600 break-all max-w-xs",children:p.VALUE})]},p.id))})]}),m.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:s?"No records found matching your search.":"No DNS records yet."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[m.length," DNS ",m.length===1?"record":"records"]})]})}const Jk=["A","AAAA","CAA","CNAME","DNSKEY","DS","IPSECKEY","KEY","MX","NS","PTR","SPF","SRV","TLSA","TXT"];function Yk(){var u;const{domain:e}=Tt(),s=be(),[r,a]=N.useState(""),[n,l]=N.useState({record:"@",type:"A",value:"",priority:"",ttl:""}),{data:i}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data});N.useEffect(()=>{var h;((h=i==null?void 0:i.ips)==null?void 0:h.length)>0&&!n.value&&n.type==="A"&&l(x=>({...x,value:i.ips[0]}))},[i]);const o=K({mutationFn:async h=>{await M.post(`/api/dns/${e}/records`,h)},onSuccess:()=>{B.success("Record created successfully"),s(`/dns/${e}`)},onError:h=>{var x,y;a(((y=(x=h.response)==null?void 0:x.data)==null?void 0:y.error)||"Failed to create record")}}),c=h=>{if(h==null||h.preventDefault(),a(""),!n.record){a("Record is required");return}if(!n.value){a("IP or Value is required");return}o.mutate({record:n.record,type:n.type,value:n.value,priority:n.priority||void 0,ttl:n.ttl||void 0})},d=()=>n.record==="@"?e:`${n.record}.${e}`;return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs(q,{to:`/dns/${e}`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("button",{onClick:c,disabled:o.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[o.isPending?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-1"}),"Save"]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h1",{className:"text-xl font-bold mb-6",children:"Add DNS Record"}),r&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),r]}),t.jsxs("form",{onSubmit:c,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),t.jsx("input",{type:"text",value:e,disabled:!0,className:"input bg-gray-100 dark:bg-dark-border"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"record",className:"block text-sm font-medium mb-1",children:"Record"}),t.jsx("input",{type:"text",id:"record",value:n.record,onChange:h=>l({...n,record:h.target.value}),className:"input",placeholder:"@"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500",children:d()})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-1",children:"Type"}),t.jsx("select",{id:"type",value:n.type,onChange:h=>l({...n,type:h.target.value}),className:"input",children:Jk.map(h=>t.jsx("option",{value:h,children:h},h))})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"value",className:"block text-sm font-medium mb-1",children:"IP or Value"}),t.jsxs("div",{className:"relative",children:[(n.type==="A"||n.type==="AAAA")&&((u=i==null?void 0:i.ips)==null?void 0:u.length)>0&&t.jsxs("select",{className:"absolute inset-y-0 left-0 w-full opacity-0 cursor-pointer",onChange:h=>h.target.value&&l({...n,value:h.target.value}),value:"",children:[t.jsx("option",{value:"",children:"Select IP..."}),i.ips.map(h=>t.jsx("option",{value:h,children:h},h))]}),t.jsx("input",{type:"text",id:"value",value:n.value,onChange:h=>l({...n,value:h.target.value}),className:"input",placeholder:n.type==="A"?"192.168.1.1":"Value",required:!0})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium mb-1",children:["Priority ",t.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),t.jsx("input",{type:"text",id:"priority",value:n.priority,onChange:h=>l({...n,priority:h.target.value}),className:"input",placeholder:"10"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:["TTL ",t.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),t.jsx("input",{type:"text",id:"ttl",value:n.ttl,onChange:h=>l({...n,ttl:h.target.value}),className:"input",placeholder:"14400"})]})]})]})]})}function Xk(){var h;const{domain:e}=Tt(),s=be(),[r,a]=N.useState(""),[n,l]=N.useState({ip:"",template:"default",exp:"",soa:"",ttl:"14400"}),{data:i}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data}),{data:o,isLoading:c}=Z({queryKey:["dns-zone",e],queryFn:async()=>(await M.get(`/api/dns/${e}`)).data});N.useEffect(()=>{o&&l({ip:o.IP||"",template:o.TPL||"default",exp:o.EXP||"",soa:o.SOA||"",ttl:o.TTL||"14400"})},[o]);const d=K({mutationFn:async x=>{await M.put(`/api/dns/${e}`,x)},onSuccess:()=>{B.success("DNS zone updated successfully"),s("/dns")},onError:x=>{var y,m;a(((m=(y=x.response)==null?void 0:y.data)==null?void 0:m.error)||"Failed to update DNS zone")}}),u=x=>{x==null||x.preventDefault(),a(""),d.mutate({ip:n.ip,template:n.template,exp:n.exp,ttl:n.ttl,soa:n.soa})};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs(q,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-1"}),"Save"]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h1",{className:"text-xl font-bold mb-6",children:"Edit DNS Domain"}),r&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),r]}),t.jsxs("form",{onSubmit:u,className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),t.jsx("input",{type:"text",value:e,disabled:!0,className:"input bg-gray-100 dark:bg-dark-border"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),t.jsxs("select",{id:"ip",value:n.ip,onChange:x=>l({...n,ip:x.target.value}),className:"input",children:[t.jsx("option",{value:"",children:"Select IP address"}),(h=i==null?void 0:i.ips)==null?void 0:h.map(x=>t.jsx("option",{value:x,children:x},x))]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"template",className:"block text-sm font-medium mb-1",children:["Template ",t.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"BIND9"})]}),t.jsx("select",{id:"template",value:n.template,onChange:x=>l({...n,template:x.target.value}),className:"input",children:((i==null?void 0:i.dnsTemplates)||["default"]).map(x=>t.jsx("option",{value:x,children:x},x))})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"exp",className:"block text-sm font-medium mb-1",children:["Expiration Date ",t.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(YYYY-MM-DD)"})]}),t.jsx("input",{type:"date",id:"exp",value:n.exp,onChange:x=>l({...n,exp:x.target.value}),className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"soa",className:"block text-sm font-medium mb-1",children:"SOA"}),t.jsx("input",{type:"text",id:"soa",value:n.soa,onChange:x=>l({...n,soa:x.target.value}),className:"input",placeholder:"ns1.example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:"TTL"}),t.jsx("input",{type:"text",id:"ttl",value:n.ttl,onChange:x=>l({...n,ttl:x.target.value}),className:"input",placeholder:"14400"})]})]})]})]})}function Zk(){const[e,s]=N.useState(""),{data:r,isLoading:a,error:n}=Z({queryKey:["mail-domains"],queryFn:async()=>(await M.get("/api/mail")).data.domains||[]}),l=(r==null?void 0:r.filter(i=>{var o;return(o=i.domain)==null?void 0:o.toLowerCase().includes(e.toLowerCase())}))||[];return a?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load mail domains. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Mail Domains"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your mail domains and accounts"})]}),t.jsxs(q,{to:"/mail/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Mail Domain"]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search mail domains...",value:e,onChange:i=>s(i.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Domain"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Accounts"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Disk"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:l.map(i=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Zt,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:i.domain})]})}),t.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:i.ACCOUNTS||0}),t.jsxs("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:[i.U_DISK||0," MB"]}),t.jsx("td",{className:"px-4 py-4 text-center",children:i.SUSPENDED==="yes"?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-5 h-5"})})})]},i.domain))})]}),l.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No mail domains found matching your search.":"No mail domains yet. Add your first domain to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[l.length," ",l.length===1?"domain":"domains"]})]})}function e1(){const e=be(),[s,r]=N.useState(""),[a,n]=N.useState({domain:"",antispam:!0,antivirus:!0,dkim:!0}),l=K({mutationFn:async o=>{await M.post("/api/mail",o)},onSuccess:()=>{e("/mail")},onError:o=>{var c,d;r(((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to create mail domain")}}),i=o=>{if(o.preventDefault(),r(""),!a.domain){r("Domain is required");return}l.mutate({domain:a.domain.toLowerCase().trim(),antispam:a.antispam?"yes":"no",antivirus:a.antivirus?"yes":"no",dkim:a.dkim?"yes":"no"})};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/mail",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add Mail Domain"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new mail domain"})]})]}),t.jsxs("div",{className:"card p-6",children:[s&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),s]}),t.jsxs("form",{onSubmit:i,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:["Domain ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"domain",value:a.domain,onChange:o=>n({...a,domain:o.target.value}),className:"input",placeholder:"example.com",required:!0})]}),t.jsxs("div",{className:"space-y-3",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:a.antispam,onChange:o=>n({...a,antispam:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable AntiSpam"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:a.antivirus,onChange:o=>n({...a,antivirus:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable AntiVirus"})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:a.dkim,onChange:o=>n({...a,dkim:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Enable DKIM"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary flex-1",children:l.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Mail Domain"}),t.jsx(q,{to:"/mail",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}const Mh={mysql:{label:"MariaDB",description:"Manage your MariaDB/MySQL databases",api:"/api/databases",addPath:"/databases/add?type=mysql",badge:"mysql"},pgsql:{label:"PostgreSQL",description:"Manage your PostgreSQL databases",api:"/api/databases",addPath:"/databases/add?type=pgsql",badge:"pgsql"},mongodb:{label:"MongoDB",description:"Manage your MongoDB databases",api:"/api/databases/mongodb",addPath:"/databases/mongodb/add",badge:"mongodb"}};function t1(){var P,R,I,G,J,X;const[e,s]=N.useState(""),[r]=so(),[a,n]=N.useState(null),[l,i]=N.useState({top:0,left:0}),[o,c]=N.useState(null),[d,u]=N.useState(null),[h,x]=N.useState(""),[y,m]=N.useState(!1),p=N.useRef(null),f=pe(),b=r.get("type")||"mysql",g=Mh[b]||Mh.mysql,v=b==="mongodb";N.useEffect(()=>{const A=F=>{p.current&&!p.current.contains(F.target)&&n(null)};return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);const{data:j,isLoading:S,error:k}=Z({queryKey:["databases",b],queryFn:async()=>(await M.get(g.api,{params:{type:b}})).data.databases||[]}),w=(j==null?void 0:j.filter(A=>{var F;return(F=A.database)==null?void 0:F.toLowerCase().includes(e.toLowerCase())}))||[],D=K({mutationFn:async A=>{const F=v?`/api/databases/mongodb/${encodeURIComponent(A)}`:`/api/databases/${encodeURIComponent(A)}`;await M.delete(F)},onSuccess:()=>{f.invalidateQueries(["databases",b]),c(null)}}),O=K({mutationFn:async({database:A,password:F})=>{const L=v?`/api/databases/mongodb/${encodeURIComponent(A)}/password`:`/api/databases/${encodeURIComponent(A)}/password`;await M.put(L,{password:F})},onSuccess:()=>{u(null),x("")}}),C=()=>{const A="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let F="";for(let L=0;L<16;L++)F+=A.charAt(Math.floor(Math.random()*A.length));x(F),m(!0)};return S?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):k?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load databases. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[v?t.jsx(Va,{className:"w-6 h-6 text-green-600"}):t.jsx(Ze,{className:"w-6 h-6"}),g.label]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:g.description})]}),t.jsxs(q,{to:g.addPath,className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Database"]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search databases...",value:e,onChange:A=>s(A.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Database"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:v?"Collections":"User"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Type"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:v?"Size":"Disk"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:v?"Users":"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:w.map(A=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[v?t.jsx(Va,{className:"w-5 h-5 text-green-500"}):t.jsx(Ze,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:A.database})]})}),t.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 dark:text-dark-muted",children:v?A.COLLECTIONS||0:A.DBUSER||"-"}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsx("span",{className:`badge ${v?"badge-success":"badge-info"}`,children:g.badge})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),v?`${Math.round((A.SIZE||0)/1024)} KB`:`${A.U_DISK||0} MB`]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:v?t.jsxs("span",{className:"text-sm text-gray-600 dark:text-dark-muted",children:[A.USERS||0," users"]}):A.SUSPENDED==="yes"?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsx("button",{onClick:F=>{if(a===A.database)n(null);else{const L=F.currentTarget.getBoundingClientRect();i({top:L.bottom+4,left:L.right-192}),n(A.database)}},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-5 h-5"})})})]},A.database))})]}),w.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No databases found matching your search.":"No databases yet. Add your first database to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[w.length," ",w.length===1?"database":"databases"]}),a&&t.jsxs("div",{ref:p,className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-lg z-50",style:{top:l.top,left:l.left},children:[t.jsxs("button",{onClick:()=>{u(a),n(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left hover:bg-gray-50 dark:hover:bg-dark-border rounded-t-lg",children:[t.jsx(fr,{className:"w-4 h-4"}),"Change Password"]}),!v&&t.jsxs("button",{onClick:()=>{n(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left hover:bg-gray-50 dark:hover:bg-dark-border",children:[t.jsx(Ek,{className:"w-4 h-4"}),"Add User"]}),t.jsx("hr",{className:"border-gray-200 dark:border-dark-border"}),t.jsxs("button",{onClick:()=>{c(a),n(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg",children:[t.jsx(Ue,{className:"w-4 h-4"}),"Delete"]})]}),o&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[t.jsx(Le,{className:"w-6 h-6"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Delete Database"})]}),t.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-6",children:["Are you sure you want to delete ",t.jsx("strong",{children:o}),"? This action cannot be undone and all data will be permanently lost."]}),D.isError&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((I=(R=(P=D.error)==null?void 0:P.response)==null?void 0:R.data)==null?void 0:I.error)||"Failed to delete database"}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx("button",{onClick:()=>c(null),className:"btn btn-secondary",disabled:D.isPending,children:"Cancel"}),t.jsx("button",{onClick:()=>D.mutate(o),className:"btn bg-red-600 hover:bg-red-700 text-white",disabled:D.isPending,children:D.isPending?"Deleting...":"Delete"})]})]})}),d&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx(fr,{className:"w-6 h-6 text-primary-600"}),t.jsx("h3",{className:"text-lg font-semibold",children:"Change Password"})]}),t.jsx("button",{onClick:()=>{u(null),x("")},className:"p-1 hover:bg-gray-100 dark:hover:bg-dark-border rounded",children:t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-4",children:["Change password for database ",t.jsx("strong",{children:d})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{type:y?"text":"password",value:h,onChange:A=>x(A.target.value),className:"input pr-10",placeholder:"Enter new password"}),t.jsx("button",{type:"button",onClick:()=>m(!y),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:y?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"button",onClick:C,className:"btn btn-secondary",title:"Generate password",children:t.jsx(Fe,{className:"w-4 h-4"})})]})]}),O.isError&&t.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((X=(J=(G=O.error)==null?void 0:G.response)==null?void 0:J.data)==null?void 0:X.error)||"Failed to change password"}),t.jsxs("div",{className:"flex gap-3 justify-end",children:[t.jsx("button",{onClick:()=>{u(null),x("")},className:"btn btn-secondary",disabled:O.isPending,children:"Cancel"}),t.jsx("button",{onClick:()=>O.mutate({database:d,password:h}),className:"btn btn-primary",disabled:O.isPending||!h,children:O.isPending?"Saving...":"Change Password"})]})]})})]})}function s1(){const e=be(),[s,r]=N.useState(""),[a,n]=N.useState(!1),[l,i]=N.useState({database:"",dbuser:"",password:"",type:"mysql"}),o=K({mutationFn:async u=>{await M.post("/api/databases",u)},onSuccess:()=>{e("/databases")},onError:u=>{var h,x;r(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to create database")}}),c=u=>{if(u.preventDefault(),r(""),!l.database){r("Database name is required");return}if(!l.dbuser){r("Database user is required");return}if(!l.password){r("Password is required");return}o.mutate(l)},d=()=>{const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let h="";for(let x=0;x<16;x++)h+=u.charAt(Math.floor(Math.random()*u.length));i({...l,password:h}),n(!0)};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/databases",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add Database"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new database"})]})]}),t.jsxs("div",{className:"card p-6",children:[s&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),s]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"database",className:"block text-sm font-medium mb-1",children:["Database Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"database",value:l.database,onChange:u=>i({...l,database:u.target.value}),className:"input",placeholder:"mydb",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be prefixed with your username"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"dbuser",className:"block text-sm font-medium mb-1",children:["Database User ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",id:"dbuser",value:l.dbuser,onChange:u=>i({...l,dbuser:u.target.value}),className:"input",placeholder:"myuser",required:!0}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be prefixed with your username"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{type:a?"text":"password",id:"password",value:l.password,onChange:u=>i({...l,password:u.target.value}),className:"input pr-10",placeholder:"Enter password",required:!0}),t.jsx("button",{type:"button",onClick:()=>n(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:a?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"button",onClick:d,className:"btn btn-secondary",title:"Generate password",children:t.jsx(Fe,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-1",children:"Database Type"}),t.jsxs("select",{id:"type",value:l.type,onChange:u=>i({...l,type:u.target.value}),className:"input",children:[t.jsx("option",{value:"mysql",children:"MySQL / MariaDB"}),t.jsx("option",{value:"pgsql",children:"PostgreSQL"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary flex-1",children:o.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Database"}),t.jsx(q,{to:"/databases",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function r1(){const e=be(),{user:s}=Os(),r=(s==null?void 0:s.username)||"",[a,n]=N.useState(""),[l,i]=N.useState(!1),[o,c]=N.useState({database:"",password:""}),d=K({mutationFn:async x=>{await M.post("/api/databases/mongodb",x)},onSuccess:()=>{e("/databases?type=mongodb")},onError:x=>{var y,m;n(((m=(y=x.response)==null?void 0:y.data)==null?void 0:m.error)||"Failed to create MongoDB database")}}),u=x=>{if(x.preventDefault(),n(""),!o.database){n("Database name is required");return}d.mutate(o)},h=()=>{const x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let y="";for(let m=0;m<16;m++)y+=x.charAt(Math.floor(Math.random()*x.length));c({...o,password:y}),i(!0)};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/databases?type=mongodb",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Va,{className:"w-6 h-6 text-green-600"}),"Add MongoDB Database"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new MongoDB database"})]})]}),t.jsxs("div",{className:"card p-6",children:[a&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),a]}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"database",className:"block text-sm font-medium mb-1",children:["Database Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsxs("div",{className:"flex",children:[t.jsxs("span",{className:"inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 dark:border-dark-border bg-gray-50 dark:bg-dark-border text-gray-500 dark:text-dark-muted text-sm",children:[r,"_"]}),t.jsx("input",{type:"text",id:"database",value:o.database,onChange:x=>c({...o,database:x.target.value}),className:"input rounded-l-none flex-1",placeholder:"mydb",required:!0})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A user with the same name will be created automatically"})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",t.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsxs("div",{className:"relative flex-1",children:[t.jsx("input",{type:l?"text":"password",id:"password",value:o.password,onChange:x=>c({...o,password:x.target.value}),className:"input pr-10",placeholder:"Leave empty for auto-generated"}),t.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:l?t.jsx(Ls,{className:"w-5 h-5"}):t.jsx(ts,{className:"w-5 h-5"})})]}),t.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",title:"Generate password",children:t.jsx(Fe,{className:"w-4 h-4"})})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If left empty, a random password will be generated"})]}),t.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-green-800 dark:text-green-400 mb-2",children:"MongoDB Database Info"}),t.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[t.jsxs("li",{children:[" Database and user will have the same name: ",t.jsxs("strong",{children:[r,"_",o.database||"dbname"]})]}),t.jsx("li",{children:" User will have readWrite role on this database"}),t.jsx("li",{children:" Connection string will be provided after creation"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary flex-1",children:d.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Database"}),t.jsx(q,{to:"/databases?type=mongodb",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function a1(){const[e]=so(),[s,r]=N.useState(e.get("tab")||"mysql"),{data:a,isLoading:n}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data}),l=(a==null?void 0:a.installedServices)||{},i=[];return l.mysql&&i.push({id:"mysql",name:"MariaDB",icon:Ze}),l.pgsql&&i.push({id:"pgsql",name:"PostgreSQL",icon:Ze}),l.mongodb&&i.push({id:"mongodb",name:"MongoDB",icon:Va}),N.useEffect(()=>{i.length>0&&!i.find(o=>o.id===s)&&r(i[0].id)},[i.length]),n?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):i.length===0?t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx(Ze,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Database Installed"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"Install a database server from the Services page to configure it here."})]}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx("div",{className:"p-3 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:t.jsx(Ts,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Database Settings"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Configure your database servers"})]})]}),t.jsxs("div",{className:"card mb-6",children:[t.jsx("div",{className:"border-b border-gray-200 dark:border-dark-border",children:t.jsx("nav",{className:"flex -mb-px",children:i.map(o=>{const c=o.icon;return t.jsxs("button",{onClick:()=>r(o.id),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${s===o.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-dark-muted"}`,children:[t.jsx(c,{className:"w-4 h-4"}),o.name]},o.id)})})}),t.jsxs("div",{className:"p-6",children:[s==="mysql"&&t.jsx(n1,{}),s==="pgsql"&&t.jsx(l1,{}),s==="mongodb"&&t.jsx(i1,{})]})]})]})}function n1(){var ie,te,de,me,fe,Ge,At,$,se;const e=pe(),[s,r]=N.useState(""),[a,n]=N.useState(!0),[l,i]=N.useState("standalone"),[o,c]=N.useState("master"),[d,u]=N.useState(1),[h,x]=N.useState("ROW"),[y,m]=N.useState("repl"),[p,f]=N.useState(""),[b,g]=N.useState(""),[v,j]=N.useState(3306),[S,k]=N.useState("repl"),[w,D]=N.useState(""),[O,C]=N.useState(""),[P,R]=N.useState(""),{data:I,isLoading:G}=Z({queryKey:["mariadb-config"],queryFn:async()=>(await M.get("/api/mariadb/config")).data});N.useEffect(()=>{var H;I&&(r(I.config||""),I.settings&&(u(I.settings.serverId||1),x(I.settings.binlogFormat||"ROW"),I.settings.logBin&&i((H=I.replicationStatus)!=null&&H.isSlave||I.settings.replicationMode==="master"?"master-slave":"standalone")))},[I]);const J=K({mutationFn:async H=>{await M.post("/api/mariadb/config",H)},onSuccess:()=>{e.invalidateQueries(["mariadb-config"])}}),X=K({mutationFn:async H=>(await M.post("/api/mariadb/replication/setup",H)).data,onSuccess:()=>{e.invalidateQueries(["mariadb-config"])}}),A=K({mutationFn:async H=>(await M.post("/api/mariadb/replication/start-slave",H)).data,onSuccess:()=>{e.invalidateQueries(["mariadb-config"])}}),F=K({mutationFn:async()=>(await M.post("/api/mariadb/replication/stop-slave")).data,onSuccess:()=>{e.invalidateQueries(["mariadb-config"])}}),L=()=>{J.mutate({config:s,configPath:I==null?void 0:I.configPath,restart:a})},W=()=>{X.mutate({mode:l,role:o,serverId:d,binlogFormat:h,replicationUser:y,replicationPassword:p})},Y=()=>{A.mutate({masterHost:b,masterPort:v,masterUser:S,masterPassword:w,masterLogFile:O||void 0,masterLogPos:P?parseInt(P):void 0})};if(G)return t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx(ae,{className:"w-6 h-6 animate-spin text-primary-600"})});const _=I==null?void 0:I.replicationStatus;return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Status:"}),(I==null?void 0:I.status)==="running"?t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(ye,{className:"w-4 h-4"}),"Running"]}):t.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Stopped"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Version:"}),t.jsx("span",{className:"text-sm",children:(I==null?void 0:I.version)||"Unknown"})]}),(_==null?void 0:_.isMaster)&&t.jsx("span",{className:"px-2 py-1 text-xs bg-blue-100 text-blue-700 rounded",children:"Master"}),(_==null?void 0:_.isSlave)&&t.jsx("span",{className:"px-2 py-1 text-xs bg-purple-100 text-purple-700 rounded",children:"Slave"})]}),((_==null?void 0:_.isMaster)||(_==null?void 0:_.isSlave))&&t.jsxs("div",{className:"p-4 border border-gray-200 dark:border-dark-border rounded-lg space-y-3",children:[t.jsxs("h4",{className:"font-medium flex items-center gap-2",children:[t.jsx(We,{className:"w-4 h-4"}),"Replication Status"]}),(_==null?void 0:_.masterStatus)&&t.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Binary Log File:"}),t.jsx("span",{className:"ml-2 font-mono",children:_.masterStatus.file})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Position:"}),t.jsx("span",{className:"ml-2 font-mono",children:_.masterStatus.position})]})]}),(_==null?void 0:_.slaveStatus)&&t.jsxs("div",{className:"space-y-2",children:[t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Master Host:"}),t.jsx("span",{className:"ml-2 font-mono",children:_.slaveStatus.masterHost})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500",children:"IO Thread:"}),_.slaveStatus.slaveIORunning?t.jsx(ye,{className:"w-4 h-4 text-green-500"}):t.jsx(Ce,{className:"w-4 h-4 text-red-500"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-gray-500",children:"SQL Thread:"}),_.slaveStatus.slaveSQLRunning?t.jsx(ye,{className:"w-4 h-4 text-green-500"}):t.jsx(Ce,{className:"w-4 h-4 text-red-500"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500",children:"Lag:"}),t.jsxs("span",{className:"ml-2",children:[_.slaveStatus.secondsBehindMaster,"s"]})]})]}),_.slaveStatus.lastError&&t.jsxs("div",{className:"p-2 bg-red-50 dark:bg-red-900/20 rounded text-sm text-red-700 dark:text-red-400",children:[t.jsx("strong",{children:"Error:"})," ",_.slaveStatus.lastError]}),t.jsx("div",{className:"flex gap-2",children:_.slaveStatus.slaveIORunning?t.jsxs("button",{onClick:()=>F.mutate(),disabled:F.isPending,className:"btn btn-secondary btn-sm",children:[F.isPending?t.jsx(ae,{className:"w-4 h-4 animate-spin mr-1"}):null,"Stop Slave"]}):t.jsxs("button",{onClick:()=>A.mutate({masterHost:_.slaveStatus.masterHost,masterUser:S,masterPassword:w||"repl_password"}),disabled:A.isPending,className:"btn btn-primary btn-sm",children:[A.isPending?t.jsx(ae,{className:"w-4 h-4 animate-spin mr-1"}):null,"Start Slave"]})})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Configuration File (",(I==null?void 0:I.configPath)||"/etc/mysql/my.cnf",")"]}),t.jsx("textarea",{value:s,onChange:H=>r(H.target.value),className:"w-full h-48 font-mono text-sm p-3 bg-gray-900 text-gray-100 rounded-lg border border-gray-700 focus:border-primary-500 focus:ring-1 focus:ring-primary-500",spellCheck:!1}),t.jsxs("div",{className:"flex items-center justify-between mt-3",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:a,onChange:H=>n(H.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Restart service after saving"})]}),t.jsx("button",{onClick:L,disabled:J.isPending,className:"btn btn-primary",children:J.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})]})]}),t.jsxs("div",{className:"border-t border-gray-200 dark:border-dark-border pt-6",children:[t.jsxs("h3",{className:"text-lg font-medium mb-4 flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-blue-500"}),"Replication Configuration"]}),t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replication Mode"}),t.jsxs("select",{value:l,onChange:H=>i(H.target.value),className:"input",children:[t.jsx("option",{value:"standalone",children:"Standalone (No Replication)"}),t.jsx("option",{value:"master-slave",children:"Master-Slave"}),t.jsx("option",{value:"master-master",children:"Master-Master"})]})]}),l!=="standalone"&&t.jsxs("div",{className:"ml-4 pl-4 border-l-4 border-blue-500 space-y-4",children:[l==="master-slave"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"This Server Role"}),t.jsxs("select",{value:o,onChange:H=>c(H.target.value),className:"input",children:[t.jsx("option",{value:"master",children:"Master (Primary)"}),t.jsx("option",{value:"slave",children:"Slave (Replica)"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Server ID"}),t.jsx("input",{type:"number",value:d,onChange:H=>u(parseInt(H.target.value)),min:1,className:"input"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Each server in the replication topology must have a unique ID"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Binary Log Format"}),t.jsxs("select",{value:h,onChange:H=>x(H.target.value),className:"input",children:[t.jsx("option",{value:"ROW",children:"ROW (Recommended)"}),t.jsx("option",{value:"STATEMENT",children:"STATEMENT"}),t.jsx("option",{value:"MIXED",children:"MIXED"})]})]}),(o==="master"||l==="master-master")&&t.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg space-y-3",children:[t.jsx("h4",{className:"font-medium text-blue-700 dark:text-blue-300",children:"Master Settings"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replication User"}),t.jsx("input",{type:"text",value:y,onChange:H=>m(H.target.value),placeholder:"repl",className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replication Password"}),t.jsx("input",{type:"password",value:p,onChange:H=>f(H.target.value),placeholder:"Enter password for new user",className:"input"})]})]}),t.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-400",children:"This will create a replication user with REPLICATION SLAVE privileges"})]}),(o==="slave"||l==="master-master")&&t.jsxs("div",{className:"p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg space-y-3",children:[t.jsx("h4",{className:"font-medium text-purple-700 dark:text-purple-300",children:l==="master-master"?"Connect to Other Master":"Connect to Master"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Master Host"}),t.jsx("input",{type:"text",value:b,onChange:H=>g(H.target.value),placeholder:"192.168.1.100",className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Master Port"}),t.jsx("input",{type:"number",value:v,onChange:H=>j(parseInt(H.target.value)),className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replication User"}),t.jsx("input",{type:"text",value:S,onChange:H=>k(H.target.value),placeholder:"repl",className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replication Password"}),t.jsx("input",{type:"password",value:w,onChange:H=>D(H.target.value),className:"input"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Binary Log File ",t.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),t.jsx("input",{type:"text",value:O,onChange:H=>C(H.target.value),placeholder:"mariadb-bin.000001",className:"input font-mono"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Log Position ",t.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),t.jsx("input",{type:"text",value:P,onChange:H=>R(H.target.value),placeholder:"4",className:"input font-mono"})]})]}),t.jsx("p",{className:"text-xs text-purple-600 dark:text-purple-400",children:"Leave log file/position empty to use GTID-based replication (recommended for MariaDB 10.0+)"})]}),t.jsxs("div",{className:"flex flex-wrap gap-3",children:[t.jsx("button",{onClick:W,disabled:X.isPending,className:"btn btn-primary",children:X.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Setting up..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ts,{className:"w-4 h-4 mr-2"}),"Setup Replication Config"]})}),o==="slave"&&t.jsx("button",{onClick:Y,disabled:A.isPending||!b||!w,className:"btn btn-secondary",children:A.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(ye,{className:"w-4 h-4 mr-2"}),"Start Slave Replication"]})})]})]})]})]}),t.jsxs("div",{className:"p-4 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-amber-800 dark:text-amber-300 mb-2",children:"Replication Setup Tips"}),t.jsxs("ul",{className:"text-sm text-amber-700 dark:text-amber-400 space-y-1 list-disc list-inside",children:[t.jsxs("li",{children:[t.jsx("strong",{children:"Master-Slave:"})," One master handles writes, slaves handle reads. Good for read scaling."]}),t.jsxs("li",{children:[t.jsx("strong",{children:"Master-Master:"})," Both servers can accept writes. Use with caution - requires careful conflict handling."]}),t.jsx("li",{children:"Ensure both servers can communicate on port 3306 (check firewall rules)"}),t.jsx("li",{children:"For initial sync, consider using mysqldump on master and importing on slave"}),t.jsx("li",{children:"Always test replication in a staging environment first"})]})]}),J.isSuccess&&t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 inline mr-2"}),"Configuration saved successfully"]}),J.isError&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4 inline mr-2"}),((de=(te=(ie=J.error)==null?void 0:ie.response)==null?void 0:te.data)==null?void 0:de.error)||"Failed to save configuration"]}),X.isSuccess&&t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 inline mr-2"}),"Replication configuration applied. Service restarted."]}),X.isError&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4 inline mr-2"}),((Ge=(fe=(me=X.error)==null?void 0:me.response)==null?void 0:fe.data)==null?void 0:Ge.error)||"Failed to setup replication"]}),A.isSuccess&&t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 inline mr-2"}),"Slave replication started successfully"]}),A.isError&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4 inline mr-2"}),((se=($=(At=A.error)==null?void 0:At.response)==null?void 0:$.data)==null?void 0:se.error)||"Failed to start slave replication"]})]})}function l1(){return t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[t.jsx(We,{className:"w-5 h-5 text-blue-500"}),t.jsx("h3",{className:"text-lg font-medium",children:"PostgreSQL Configuration"})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["PostgreSQL configuration can be managed through the old panel at"," ",t.jsx("a",{href:"/edit/server/pgsql/",className:"underline font-medium",children:"/edit/server/pgsql/"})]})}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Config File"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"/etc/postgresql/*/main/postgresql.conf"})]}),t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:"Service"}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"postgresql.service"})]})]})]})}function i1(){var Fu,Tu,Au;const e=pe(),[s,r]=N.useState(""),[a,n]=N.useState("standalone"),[l,i]=N.useState("rs0"),[o,c]=N.useState("primary"),[d,u]=N.useState("shardsvr"),[h,x]=N.useState("/var/lib/mongodb/keyfile"),[y,m]=N.useState("/var/lib/mongodb"),[p,f]=N.useState(!0),[b,g]=N.useState(null),[v,j]=N.useState(!1),[S,k]=N.useState("logical"),[w,D]=N.useState("daily"),[O,C]=N.useState("02:00"),[P,R]=N.useState("0"),[I,G]=N.useState("6"),[J,X]=N.useState("0 2 * * *"),[A,F]=N.useState(7),[L,W]=N.useState("filesystem"),[Y,_]=N.useState("/var/lib/pbm/backups"),[ie,te]=N.useState(""),[de,me]=N.useState(""),[fe,Ge]=N.useState(""),[At,$]=N.useState(""),[se,H]=N.useState(!0),[Ct,gl]=N.useState(!1),[ho,po]=N.useState(10),[xo,wr]=N.useState(3),{data:$e,isLoading:x0}=Z({queryKey:["mongodb-config"],queryFn:async()=>(await M.get("/api/mongodb/config")).data}),{data:f0}=Z({queryKey:["pbm-status"],queryFn:async()=>(await M.get("/api/mongodb/pbm/status")).data});N.useEffect(()=>{$e&&(r($e.config||""),$e.settings&&(n($e.settings.clusterMode||"standalone"),i($e.settings.replicaSetName||"rs0"),c($e.settings.nodeRole||"primary"),u($e.settings.shardRole||"shardsvr"),x($e.settings.keyfilePath||"/var/lib/mongodb/keyfile"),m($e.settings.dataDir||"/var/lib/mongodb")))},[$e]);const Ru=async()=>{try{const _e=await M.get("/api/mongodb/keyfile/status",{params:{path:h}});g(_e.data)}catch{g({exists:!1,valid:!1})}};N.useEffect(()=>{a!=="standalone"&&Ru()},[a,h]);const aa=K({mutationFn:async _e=>{await M.post("/api/mongodb/config",_e)},onSuccess:()=>{e.invalidateQueries(["mongodb-config"])}}),_s=K({mutationFn:async()=>(await M.post("/api/mongodb/keyfile/generate",{path:h})).data,onSuccess:()=>{Ru()}}),g0=()=>{aa.mutate({config:s,restart:p})},Mu=()=>{window.open(`/api/mongodb/keyfile/download?path=${encodeURIComponent(h)}`,"_blank")};return x0?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx(ae,{className:"w-6 h-6 animate-spin text-primary-600"})}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Status:"}),($e==null?void 0:$e.status)==="running"?t.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[t.jsx(ye,{className:"w-4 h-4"}),"Running"]}):t.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Stopped"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Version:"}),t.jsx("span",{className:"text-sm",children:($e==null?void 0:$e.version)||"Unknown"})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Configuration File (",($e==null?void 0:$e.configPath)||"/etc/mongod.conf",")"]}),t.jsx("textarea",{value:s,onChange:_e=>r(_e.target.value),className:"w-full h-64 font-mono text-sm p-3 bg-gray-900 text-gray-100 rounded-lg border border-gray-700 focus:border-primary-500 focus:ring-1 focus:ring-primary-500",spellCheck:!1})]}),t.jsxs("div",{className:"border-t border-gray-200 dark:border-dark-border pt-6",children:[t.jsx("h3",{className:"text-lg font-medium mb-4",children:"Advanced Configuration"}),t.jsxs("div",{className:"mb-4",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data Directory",t.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Requires Service Restart)"})]}),t.jsx("input",{type:"text",value:y,onChange:_e=>m(_e.target.value),className:"input"})]}),t.jsxs("div",{className:"mb-4",children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cluster Mode"}),t.jsxs("select",{value:a,onChange:_e=>n(_e.target.value),className:"input",children:[t.jsx("option",{value:"standalone",children:"Standalone (Default)"}),t.jsx("option",{value:"replicaset",children:"ReplicaSet"}),t.jsx("option",{value:"sharding",children:"Sharding (Cluster)"})]})]}),a==="replicaset"&&t.jsxs("div",{className:"ml-4 pl-4 border-l-4 border-primary-500 space-y-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replica Set Name"}),t.jsx("input",{type:"text",value:l,onChange:_e=>i(_e.target.value),placeholder:"rs0",className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Node Role"}),t.jsxs("select",{value:o,onChange:_e=>c(_e.target.value),className:"input",children:[t.jsx("option",{value:"primary",children:"Primary"}),t.jsx("option",{value:"secondary",children:"Secondary"}),t.jsx("option",{value:"arbiter",children:"Arbiter"})]})]}),t.jsx(Fh,{keyfilePath:h,setKeyfilePath:x,keyfileStatus:b,onGenerate:()=>_s.mutate(),onDownload:Mu,isGenerating:_s.isPending,generateError:_s.error,generateSuccess:_s.isSuccess}),t.jsx(o1,{pbmStatus:f0,pbmEnabled:v,setPbmEnabled:j,pbmType:S,setPbmType:k,pbmScheduleType:w,setPbmScheduleType:D,pbmTime:O,setPbmTime:C,pbmWeekday:P,setPbmWeekday:R,pbmInterval:I,setPbmInterval:G,pbmCron:J,setPbmCron:X,pbmRetention:A,setPbmRetention:F,pbmStorage:L,setPbmStorage:W,pbmPath:Y,setPbmPath:_,pbmS3Endpoint:ie,setPbmS3Endpoint:te,pbmS3Bucket:de,setPbmS3Bucket:me,pbmS3Key:fe,setPbmS3Key:Ge,pbmS3Secret:At,setPbmS3Secret:$,pbmCompression:se,setPbmCompression:H,pbmPitr:Ct,setPbmPitr:gl,pitrInterval:ho,setPitrInterval:po,pitrRetention:xo,setPitrRetention:wr})]}),a==="sharding"&&t.jsxs("div",{className:"ml-4 pl-4 border-l-4 border-amber-500 space-y-4 mb-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cluster Role"}),t.jsxs("select",{value:d,onChange:_e=>u(_e.target.value),className:"input",children:[t.jsx("option",{value:"shardsvr",children:"Shard Server (Data)"}),t.jsx("option",{value:"configsvr",children:"Config Server (Metadata)"}),t.jsx("option",{value:"mongos",children:"Mongos Router"})]})]}),t.jsx(Fh,{keyfilePath:h,setKeyfilePath:x,keyfileStatus:b,onGenerate:()=>_s.mutate(),onDownload:Mu,isGenerating:_s.isPending,generateError:_s.error,generateSuccess:_s.isSuccess})]})]}),t.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:p,onChange:_e=>f(_e.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Restart service after saving"})]}),t.jsx("button",{onClick:g0,disabled:aa.isPending,className:"btn btn-primary",children:aa.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})]}),aa.isSuccess&&t.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4 inline mr-2"}),"Configuration saved successfully"]}),aa.isError&&t.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4 inline mr-2"}),((Au=(Tu=(Fu=aa.error)==null?void 0:Fu.response)==null?void 0:Tu.data)==null?void 0:Au.error)||"Failed to save configuration"]})]})}function Fh({keyfilePath:e,setKeyfilePath:s,keyfileStatus:r,onGenerate:a,onDownload:n,isGenerating:l,generateError:i,generateSuccess:o}){var y,m;const[c,d]=N.useState(""),[u,h]=N.useState(!1),x=K({mutationFn:async()=>{await M.post("/api/mongodb/keyfile/upload",{path:e,content:c})}});return t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg space-y-3",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(fr,{className:"w-5 h-5 text-amber-500"}),t.jsx("h4",{className:"font-medium",children:"Keyfile Authentication"})]}),t.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"Keyfile is required for authentication between cluster members."}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keyfile Path"}),t.jsx("input",{type:"text",value:e,onChange:p=>s(p.target.value),className:"input"})]}),r&&t.jsx("div",{className:`text-sm flex items-center gap-2 ${r.valid?"text-green-600":"text-amber-600"}`,children:r.valid?t.jsxs(t.Fragment,{children:[t.jsx(ye,{className:"w-4 h-4"}),"Keyfile exists and has correct permissions (",r.permissions,")"]}):r.exists?t.jsxs(t.Fragment,{children:[t.jsx(Ha,{className:"w-4 h-4"}),"Keyfile exists but has incorrect permissions (",r.permissions,"). Should be 400 or 600."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ce,{className:"w-4 h-4"}),"Keyfile does not exist at this path"]})}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsxs("button",{type:"button",onClick:a,disabled:l,className:"btn btn-secondary",children:[l?t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(fr,{className:"w-4 h-4 mr-2"}),"Generate Key"]}),t.jsxs("button",{type:"button",onClick:()=>h(!u),className:"btn btn-secondary",children:[t.jsx(m0,{className:"w-4 h-4 mr-2"}),"Upload Key"]}),t.jsxs("button",{type:"button",onClick:n,disabled:!(r!=null&&r.exists),className:"btn btn-secondary",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Download Key"]})]}),u&&t.jsxs("div",{className:"space-y-2 p-3 bg-white dark:bg-dark-card rounded border border-gray-200 dark:border-dark-border",children:[t.jsx("label",{className:"block text-sm font-medium",children:"Paste keyfile content:"}),t.jsx("textarea",{value:c,onChange:p=>d(p.target.value),className:"input font-mono text-xs h-24",placeholder:"Paste base64-encoded keyfile content here..."}),t.jsx("button",{type:"button",onClick:()=>x.mutate(),disabled:!c||x.isPending,className:"btn btn-primary btn-sm",children:x.isPending?"Uploading...":"Upload"})]}),o&&t.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[t.jsx(ye,{className:"w-4 h-4"}),"Keyfile generated successfully"]}),i&&t.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[t.jsx(Ce,{className:"w-4 h-4"}),((m=(y=i==null?void 0:i.response)==null?void 0:y.data)==null?void 0:m.error)||"Failed to generate keyfile"]})]})}function o1({pbmStatus:e,pbmEnabled:s,setPbmEnabled:r,pbmType:a,setPbmType:n,pbmScheduleType:l,setPbmScheduleType:i,pbmTime:o,setPbmTime:c,pbmWeekday:d,setPbmWeekday:u,pbmInterval:h,setPbmInterval:x,pbmCron:y,setPbmCron:m,pbmRetention:p,setPbmRetention:f,pbmStorage:b,setPbmStorage:g,pbmPath:v,setPbmPath:j,pbmS3Endpoint:S,setPbmS3Endpoint:k,pbmS3Bucket:w,setPbmS3Bucket:D,pbmS3Key:O,setPbmS3Key:C,pbmS3Secret:P,setPbmS3Secret:R,pbmCompression:I,setPbmCompression:G,pbmPitr:J,setPbmPitr:X,pitrInterval:A,setPitrInterval:F,pitrRetention:L,setPitrRetention:W}){const Y={logical:"Slower but compatible across MongoDB versions. Good for migration.",physical:"Faster backup/restore. Requires same MongoDB version for restore.",incremental:"Continuous oplog capture for point-in-time recovery to any second."};return t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:s,onChange:_=>r(_.target.checked),disabled:(e==null?void 0:e.installed)===!1,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"font-medium",children:"Enable Percona Backup (PBM)"}),(e==null?void 0:e.installed)===!1&&t.jsx("span",{className:"text-xs text-amber-600 bg-amber-100 px-2 py-0.5 rounded",children:"Not Installed"})]}),(e==null?void 0:e.installed)===!1&&t.jsxs(q,{to:"/applications",className:"text-sm text-primary-600 hover:underline flex items-center gap-1",children:[t.jsx(Wa,{className:"w-3 h-3"}),"Install PBM"]})]}),s&&t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Type"}),t.jsxs("select",{value:a,onChange:_=>n(_.target.value),className:"input",children:[t.jsx("option",{value:"logical",children:"Logical (mongodump)"}),t.jsx("option",{value:"physical",children:"Physical (file copy)"}),t.jsx("option",{value:"incremental",children:"Incremental + PITR"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:Y[a]})]}),a!=="incremental"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Schedule"}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("select",{value:l,onChange:_=>i(_.target.value),className:"input w-auto",children:[t.jsx("option",{value:"daily",children:"Daily"}),t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"interval",children:"Every X hours"}),t.jsx("option",{value:"custom",children:"Custom cron"})]}),(l==="daily"||l==="weekly")&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"at"}),t.jsx("input",{type:"time",value:o,onChange:_=>c(_.target.value),className:"input w-auto"})]}),l==="weekly"&&t.jsxs("select",{value:d,onChange:_=>u(_.target.value),className:"input w-auto",children:[t.jsx("option",{value:"0",children:"Sunday"}),t.jsx("option",{value:"1",children:"Monday"}),t.jsx("option",{value:"2",children:"Tuesday"}),t.jsx("option",{value:"3",children:"Wednesday"}),t.jsx("option",{value:"4",children:"Thursday"}),t.jsx("option",{value:"5",children:"Friday"}),t.jsx("option",{value:"6",children:"Saturday"})]}),l==="interval"&&t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm",children:"every"}),t.jsx("select",{value:h,onChange:_=>x(_.target.value),className:"input w-auto",children:[1,2,3,4,6,8,12].map(_=>t.jsx("option",{value:_,children:_},_))}),t.jsx("span",{className:"text-sm",children:"hours"})]})]}),l==="custom"&&t.jsxs("div",{className:"mt-2",children:[t.jsx("input",{type:"text",value:y,onChange:_=>m(_.target.value),placeholder:"0 2 * * *",className:"input"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: minute hour day month weekday"})]})]}),a==="incremental"&&t.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[t.jsxs("div",{className:"flex items-start gap-2 text-blue-700 dark:text-blue-300",children:[t.jsx(Eu,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),t.jsx("p",{className:"text-sm",children:"Incremental mode automatically enables Point-in-Time Recovery (PITR). You can restore to any second between backups."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Base (Full) Backup Schedule"}),t.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[t.jsxs("select",{className:"input w-auto",children:[t.jsx("option",{value:"weekly",children:"Weekly"}),t.jsx("option",{value:"monthly",children:"Monthly"}),t.jsx("option",{value:"daily",children:"Daily"})]}),t.jsx("span",{className:"text-sm",children:"at"}),t.jsx("input",{type:"time",defaultValue:"02:00",className:"input w-auto"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"PITR Oplog Slice Interval"}),t.jsxs("select",{value:A,onChange:_=>F(Number(_.target.value)),className:"input w-auto",children:[t.jsx("option",{value:1,children:"1 minute"}),t.jsx("option",{value:5,children:"5 minutes"}),t.jsx("option",{value:10,children:"10 minutes (recommended)"}),t.jsx("option",{value:30,children:"30 minutes"}),t.jsx("option",{value:60,children:"1 hour"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How often to save oplog slices. Smaller = more granular recovery but more storage."})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Retention (days)"}),t.jsx("input",{type:"number",value:p,onChange:_=>f(Number(_.target.value)),min:1,max:365,className:"input"})]}),(a==="incremental"||J)&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"PITR Oplog Retention (days)"}),t.jsx("input",{type:"number",value:L,onChange:_=>W(Number(_.target.value)),min:1,max:30,className:"input"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Storage"}),t.jsxs("select",{value:b,onChange:_=>g(_.target.value),className:"input",children:[t.jsx("option",{value:"filesystem",children:"Local Filesystem"}),t.jsx("option",{value:"s3",children:"Amazon S3 / Compatible"})]})]}),b==="filesystem"&&t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Path"}),t.jsx("input",{type:"text",value:v,onChange:_=>j(_.target.value),className:"input"})]}),b==="s3"&&t.jsxs("div",{className:"space-y-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"S3 Endpoint"}),t.jsx("input",{type:"text",value:S,onChange:_=>k(_.target.value),placeholder:"s3.amazonaws.com",className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"S3 Bucket"}),t.jsx("input",{type:"text",value:w,onChange:_=>D(_.target.value),placeholder:"my-mongodb-backups",className:"input"})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Key"}),t.jsx("input",{type:"text",value:O,onChange:_=>C(_.target.value),className:"input"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Secret Key"}),t.jsx("input",{type:"password",value:P,onChange:_=>R(_.target.value),className:"input"})]})]})]}),a==="physical"&&t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:J,onChange:_=>X(_.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{children:"Enable PITR (Point-in-Time Recovery)"})]}),J&&t.jsxs("div",{className:"mt-2 ml-6",children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Oplog Slice Interval"}),t.jsxs("select",{value:A,onChange:_=>F(Number(_.target.value)),className:"input w-auto",children:[t.jsx("option",{value:1,children:"1 minute"}),t.jsx("option",{value:5,children:"5 minutes"}),t.jsx("option",{value:10,children:"10 minutes (recommended)"}),t.jsx("option",{value:30,children:"30 minutes"}),t.jsx("option",{value:60,children:"1 hour"})]})]})]}),t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:I,onChange:_=>G(_.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{children:"Enable Compression"})]}),t.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:t.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[t.jsx("strong",{children:"Tip:"})," In a ReplicaSet, PBM automatically runs backup on a Secondary node to avoid impacting Primary performance. You only need to configure backup on one node - PBM coordinates across the cluster."]})})]})]})}function c1(){const[e,s]=N.useState(""),[r,a]=N.useState(null),[n,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=pe(),{data:c,isLoading:d,error:u}=Z({queryKey:["cron-jobs"],queryFn:async()=>(await M.get("/api/cron")).data}),h=(c==null?void 0:c.jobs)||[],x=(c==null?void 0:c.notifications)||!1,y=j=>{if(r===j){a(null);return}const S=i.current[j];if(S){const k=S.getBoundingClientRect();l({top:k.bottom+4,right:window.innerWidth-k.right})}a(j)},m=K({mutationFn:async j=>{await M.delete(`/api/cron/${j}`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),B.success("Cron job deleted"),a(null)},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to delete cron job")}}),p=K({mutationFn:async j=>{await M.post(`/api/cron/${j}/suspend`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),B.success("Cron job suspended"),a(null)},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to suspend cron job")}}),f=K({mutationFn:async j=>{await M.post(`/api/cron/${j}/unsuspend`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),B.success("Cron job activated"),a(null)},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to activate cron job")}}),b=K({mutationFn:async j=>{j?await M.post("/api/cron/notifications/enable"):await M.post("/api/cron/notifications/disable")},onSuccess:(j,S)=>{o.invalidateQueries({queryKey:["cron-jobs"]}),B.success(S?"Notifications enabled":"Notifications disabled")},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to update notifications")}}),g=j=>{window.confirm("Are you sure you want to delete this cron job?")&&m.mutate(j),a(null)},v=(h==null?void 0:h.filter(j=>{var S;return(S=j.CMD)==null?void 0:S.toLowerCase().includes(e.toLowerCase())}))||[];return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load cron jobs. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Cron Jobs"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage scheduled tasks"})]}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{onClick:()=>b.mutate(!x),disabled:b.isPending,className:`btn ${x?"btn-success":"btn-secondary"}`,title:x?"Disable email notifications":"Enable email notifications",children:x?t.jsxs(t.Fragment,{children:[t.jsx(lk,{className:"w-4 h-4 mr-2"}),"Notifications On"]}):t.jsxs(t.Fragment,{children:[t.jsx(nk,{className:"w-4 h-4 mr-2"}),"Notifications Off"]})}),t.jsxs(q,{to:"/cron/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Cron Job"]})]})]}),t.jsx("div",{className:"card p-4 mb-6",children:t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),t.jsx("input",{type:"text",placeholder:"Search cron jobs...",value:e,onChange:j=>s(j.target.value),className:"input pl-10"})]})}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Schedule"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Command"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:v.map((j,S)=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ra,{className:"w-5 h-5 text-gray-400"}),t.jsxs("code",{className:"text-sm bg-gray-100 dark:bg-dark-border px-2 py-1 rounded",children:[j.MIN," ",j.HOUR," ",j.DAY," ",j.MONTH," ",j.WDAY]})]})}),t.jsx("td",{className:"px-4 py-4",children:t.jsx("code",{className:"text-sm text-gray-600 dark:text-dark-muted truncate max-w-md block",children:j.CMD})}),t.jsx("td",{className:"px-4 py-4 text-center",children:j.SUSPENDED==="yes"?t.jsx("span",{className:"badge badge-danger",children:"Suspended"}):t.jsx("span",{className:"badge badge-success",children:"Active"})}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsx("button",{ref:k=>i.current[j.JOB]=k,onClick:()=>y(j.JOB),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-5 h-5"})})})]},j.JOB||S))})]}),v.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No cron jobs found matching your search.":"No cron jobs yet. Add your first job to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[v.length," ",v.length===1?"job":"jobs"]}),r&&eo.createPortal(t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>a(null)}),t.jsx("div",{className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:n.top,right:n.right},children:(()=>{const j=v.find(S=>S.JOB===r);return j?t.jsxs(t.Fragment,{children:[t.jsxs(q,{to:`/cron/${j.JOB}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[t.jsx(gr,{className:"w-4 h-4"}),"Edit"]}),j.SUSPENDED==="yes"?t.jsxs("button",{onClick:()=>f.mutate(j.JOB),disabled:f.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-green-600",children:[t.jsx(jk,{className:"w-4 h-4"}),"Activate"]}):t.jsxs("button",{onClick:()=>p.mutate(j.JOB),disabled:p.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-yellow-600",children:[t.jsx(vk,{className:"w-4 h-4"}),"Suspend"]}),t.jsxs("button",{onClick:()=>g(j.JOB),disabled:m.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-red-600",children:[t.jsx(Ue,{className:"w-4 h-4"}),"Delete"]})]}):null})()})]}),document.body)]})}function d1(){const e=be(),[s,r]=N.useState(""),[a,n]=N.useState({min:"*",hour:"*",day:"*",month:"*",wday:"*",cmd:""}),l=K({mutationFn:async d=>{await M.post("/api/cron",d)},onSuccess:()=>{e("/cron")},onError:d=>{var u,h;r(((h=(u=d.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to create cron job")}}),i=d=>{if(d.preventDefault(),r(""),!a.cmd){r("Command is required");return}l.mutate(a)},o=[{label:"Every minute",min:"*",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every 5 minutes",min:"*/5",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every hour",min:"0",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every day at midnight",min:"0",hour:"0",day:"*",month:"*",wday:"*"},{label:"Every week (Sunday)",min:"0",hour:"0",day:"*",month:"*",wday:"0"},{label:"Every month",min:"0",hour:"0",day:"1",month:"*",wday:"*"}],c=d=>{n({...a,min:d.min,hour:d.hour,day:d.day,month:d.month,wday:d.wday})};return t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/cron",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Add Cron Job"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new scheduled task"})]})]}),t.jsxs("div",{className:"card p-6",children:[s&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),s]}),t.jsxs("form",{onSubmit:i,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>t.jsx("button",{type:"button",onClick:()=>c(d),className:"px-3 py-1 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80",children:d.label},d.label))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Schedule"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minute"}),t.jsx("input",{type:"text",value:a.min,onChange:d=>n({...a,min:d.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hour"}),t.jsx("input",{type:"text",value:a.hour,onChange:d=>n({...a,hour:d.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Day"}),t.jsx("input",{type:"text",value:a.day,onChange:d=>n({...a,day:d.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Month"}),t.jsx("input",{type:"text",value:a.month,onChange:d=>n({...a,month:d.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Weekday"}),t.jsx("input",{type:"text",value:a.wday,onChange:d=>n({...a,wday:d.target.value}),className:"input text-center",placeholder:"*"})]})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current: ",t.jsxs("code",{className:"bg-gray-100 dark:bg-dark-border px-2 py-0.5 rounded",children:[a.min," ",a.hour," ",a.day," ",a.month," ",a.wday]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"cmd",className:"block text-sm font-medium mb-1",children:["Command ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"cmd",value:a.cmd,onChange:d=>n({...a,cmd:d.target.value}),className:"input font-mono text-sm min-h-[100px]",placeholder:"/usr/bin/php /home/user/public_html/cron.php",required:!0})]}),t.jsxs("div",{className:"flex gap-3 pt-4",children:[t.jsx("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary flex-1",children:l.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Cron Job"}),t.jsx(q,{to:"/cron",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function u1(){const{id:e}=Tt(),s=be(),r=pe(),[a,n]=N.useState(""),[l,i]=N.useState({min:"*",hour:"*",day:"*",month:"*",wday:"*",cmd:""}),{data:o,isLoading:c}=Z({queryKey:["cron-job",e],queryFn:async()=>(await M.get(`/api/cron/${e}`)).data});N.useEffect(()=>{o&&i({min:o.MIN||"*",hour:o.HOUR||"*",day:o.DAY||"*",month:o.MONTH||"*",wday:o.WDAY||"*",cmd:o.CMD||""})},[o]);const d=K({mutationFn:async y=>{await M.put(`/api/cron/${e}`,y)},onSuccess:()=>{r.invalidateQueries({queryKey:["cron-jobs"]}),B.success("Cron job updated successfully"),s("/cron")},onError:y=>{var m,p;n(((p=(m=y.response)==null?void 0:m.data)==null?void 0:p.error)||"Failed to update cron job")}}),u=y=>{if(y==null||y.preventDefault(),n(""),!l.cmd){n("Command is required");return}d.mutate(l)},h=[{label:"Every minute",min:"*",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every 5 minutes",min:"*/5",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every hour",min:"0",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every day at midnight",min:"0",hour:"0",day:"*",month:"*",wday:"*"},{label:"Every week (Sunday)",min:"0",hour:"0",day:"*",month:"*",wday:"0"},{label:"Every month",min:"0",hour:"0",day:"1",month:"*",wday:"*"}],x=y=>{i({...l,min:y.min,hour:y.hour,day:y.day,month:y.month,wday:y.wday})};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"max-w-2xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs(q,{to:"/cron",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-1"}),"Save"]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsxs("h1",{className:"text-xl font-bold mb-6",children:["Edit Cron Job #",e]}),a&&t.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[t.jsx(Le,{className:"w-4 h-4 flex-shrink-0"}),a]}),t.jsxs("form",{onSubmit:u,className:"space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),t.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(y=>t.jsx("button",{type:"button",onClick:()=>x(y),className:"px-3 py-1 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80",children:y.label},y.label))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Schedule"}),t.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minute"}),t.jsx("input",{type:"text",value:l.min,onChange:y=>i({...l,min:y.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hour"}),t.jsx("input",{type:"text",value:l.hour,onChange:y=>i({...l,hour:y.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Day"}),t.jsx("input",{type:"text",value:l.day,onChange:y=>i({...l,day:y.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Month"}),t.jsx("input",{type:"text",value:l.month,onChange:y=>i({...l,month:y.target.value}),className:"input text-center",placeholder:"*"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Weekday"}),t.jsx("input",{type:"text",value:l.wday,onChange:y=>i({...l,wday:y.target.value}),className:"input text-center",placeholder:"*"})]})]}),t.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current: ",t.jsxs("code",{className:"bg-gray-100 dark:bg-dark-border px-2 py-0.5 rounded",children:[l.min," ",l.hour," ",l.day," ",l.month," ",l.wday]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{htmlFor:"cmd",className:"block text-sm font-medium mb-1",children:["Command ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("textarea",{id:"cmd",value:l.cmd,onChange:y=>i({...l,cmd:y.target.value}),className:"input font-mono text-sm min-h-[100px]",placeholder:"/usr/bin/php /home/user/public_html/cron.php",required:!0})]})]})]})]})}function m1(){const e=pe(),{data:s,isLoading:r,error:a}=Z({queryKey:["backups"],queryFn:async()=>(await M.get("/api/backups")).data.backups||[]}),n=K({mutationFn:async()=>{await M.post("/api/backups")},onSuccess:()=>{e.invalidateQueries(["backups"]),B.success("Backup creation started")},onError:o=>{var c,d;B.error(((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to create backup")}}),l=o=>{if(!o||o==="0")return"0 MB";const c=parseFloat(o);return c>=1024?`${(c/1024).toFixed(1)} GB`:`${c} MB`},i=o=>{if(!o)return"-";const c=new Date(o);return c.toLocaleDateString()+" "+c.toLocaleTimeString()};return r?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load backups. Please try again."}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Backups"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your account backups"})]}),t.jsx("button",{onClick:()=>n.mutate(),disabled:n.isPending,className:"btn btn-primary",children:n.isPending?t.jsxs(t.Fragment,{children:[t.jsx(Fe,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(md,{className:"w-4 h-4 mr-2"}),"Create Backup"]})})]}),t.jsx("div",{className:"card",children:t.jsxs("div",{className:"overflow-x-auto",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Backup"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Date"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Size"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:s.map(o=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-4",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(it,{className:"w-5 h-5 text-gray-400"}),t.jsx("span",{className:"font-medium",children:o.backup})]})}),t.jsx("td",{className:"px-4 py-4 text-center",children:t.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[t.jsx(a0,{className:"w-4 h-4"}),i(o.DATE)]})}),t.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:l(o.SIZE)}),t.jsx("td",{className:"px-4 py-4 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-blue-600",title:"Download",children:t.jsx(xr,{className:"w-4 h-4"})}),t.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-red-600",title:"Delete",children:t.jsx(Ue,{className:"w-4 h-4"})})]})})]},o.backup))})]}),s.length===0&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No backups yet. Create your first backup to get started."})]})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[s.length," ",s.length===1?"backup":"backups"]})]})}function h1(){var x,y;const e=pe(),[s,r]=N.useState(null),[a,n]=N.useState(null),{data:l,isLoading:i,error:o}=Z({queryKey:["packages"],queryFn:async()=>(await M.get("/api/packages")).data.packages}),c=K({mutationFn:async m=>{await M.delete(`/api/packages/${m}`)},onSuccess:()=>{e.invalidateQueries(["packages"]),B.success("Package deleted successfully"),r(null)},onError:m=>{var p,f;B.error(((f=(p=m.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to delete package")}}),d=m=>{s===m?c.mutate(m):(r(m),setTimeout(()=>r(null),3e3))},u=m=>m==="unlimited"||m==="0"?"Unlimited":m,h=m=>{if(m==="unlimited"||m==="0")return"Unlimited";const p=parseInt(m);return p>=1024?`${(p/1024).toFixed(1)} GB`:`${p} MB`};return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsx("div",{className:"text-center py-12",children:t.jsxs("p",{className:"text-red-500",children:["Failed to load packages. ",((y=(x=o.response)==null?void 0:x.data)==null?void 0:y.error)||""]})}):t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Packages"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage hosting packages and resource limits"})]}),t.jsxs(q,{to:"/packages/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Package"]})]}),l&&l.length>0?t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>t.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[t.jsxs("div",{className:"flex items-start justify-between mb-4",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:t.jsx(Ga,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:m.name}),t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted",children:m.SHELL==="nologin"?"No Shell Access":m.SHELL})]})]}),t.jsxs("div",{className:"relative",children:[t.jsx("button",{onClick:()=>n(a===m.name?null:m.name),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(nn,{className:"w-4 h-4"})}),a===m.name&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>n(null)}),t.jsxs("div",{className:"absolute right-0 mt-1 w-36 bg-white dark:bg-dark-card rounded-lg shadow-lg border border-gray-200 dark:border-dark-border z-20",children:[t.jsxs(q,{to:`/packages/${m.name}/edit`,className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[t.jsx(gr,{className:"w-4 h-4"}),"Edit"]}),t.jsxs(q,{to:`/packages/add?copy=${m.name}`,className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[t.jsx(uo,{className:"w-4 h-4"}),"Duplicate"]}),m.name!=="default"&&m.name!=="system"&&t.jsxs("button",{onClick:()=>{n(null),d(m.name)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[t.jsx(Ue,{className:"w-4 h-4"}),s===m.name?"Confirm?":"Delete"]})]})]})]})]}),t.jsxs("div",{className:"space-y-2 text-sm",children:[t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(et,{className:"w-4 h-4"}),"Web Domains"]}),t.jsx("span",{className:"font-medium",children:u(m.WEB_DOMAINS)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(We,{className:"w-4 h-4"}),"DNS Domains"]}),t.jsx("span",{className:"font-medium",children:u(m.DNS_DOMAINS)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(Zt,{className:"w-4 h-4"}),"Mail Domains"]}),t.jsx("span",{className:"font-medium",children:u(m.MAIL_DOMAINS)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(Ze,{className:"w-4 h-4"}),"Databases"]}),t.jsx("span",{className:"font-medium",children:u(m.DATABASES)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(ra,{className:"w-4 h-4"}),"Cron Jobs"]}),t.jsx("span",{className:"font-medium",children:u(m.CRON_JOBS)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),"Disk Quota"]}),t.jsx("span",{className:"font-medium",children:h(m.DISK_QUOTA)})]}),t.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),"Bandwidth"]}),t.jsx("span",{className:"font-medium",children:h(m.BANDWIDTH)})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-dark-border",children:t.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[t.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-dark-border rounded",children:["Web: ",m.WEB_TEMPLATE||"default"]}),t.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-dark-border rounded",children:["Backups: ",m.BACKUPS]})]})})]},m.name))}):t.jsxs("div",{className:"card text-center py-12",children:[t.jsx(Ga,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No packages found"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Create your first hosting package to get started."}),t.jsxs(q,{to:"/packages/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Package"]})]})]})}function p1(){var u,h,x;const e=be(),[s]=so(),r=s.get("copy"),[a,n]=N.useState({name:"",webDomains:"unlimited",webAliases:"unlimited",dnsDomains:"unlimited",dnsRecords:"unlimited",mailDomains:"unlimited",mailAccounts:"unlimited",databases:"unlimited",cronJobs:"unlimited",diskQuota:"unlimited",bandwidth:"unlimited",backups:"1",ns1:"",ns2:"",shell:"nologin",webTemplate:"default",proxyTemplate:"default",dnsTemplate:"default"}),{data:l}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data}),{data:i}=Z({queryKey:["package",r],queryFn:async()=>(await M.get(`/api/packages/${r}`)).data.package,enabled:!!r});N.useEffect(()=>{var y,m;i&&n({name:`${i.name}_copy`,webDomains:i.WEB_DOMAINS||"unlimited",webAliases:i.WEB_ALIASES||"unlimited",dnsDomains:i.DNS_DOMAINS||"unlimited",dnsRecords:i.DNS_RECORDS||"unlimited",mailDomains:i.MAIL_DOMAINS||"unlimited",mailAccounts:i.MAIL_ACCOUNTS||"unlimited",databases:i.DATABASES||"unlimited",cronJobs:i.CRON_JOBS||"unlimited",diskQuota:i.DISK_QUOTA||"unlimited",bandwidth:i.BANDWIDTH||"unlimited",backups:i.BACKUPS||"1",ns1:((y=i.NS)==null?void 0:y.split(",")[0])||"",ns2:((m=i.NS)==null?void 0:m.split(",")[1])||"",shell:i.SHELL||"nologin",webTemplate:i.WEB_TEMPLATE||"default",proxyTemplate:i.PROXY_TEMPLATE||"default",dnsTemplate:i.DNS_TEMPLATE||"default"})},[i]);const o=K({mutationFn:async y=>{await M.post("/api/packages",y)},onSuccess:()=>{B.success("Package created successfully"),e("/packages")},onError:y=>{var m,p;B.error(((p=(m=y.response)==null?void 0:m.data)==null?void 0:p.error)||"Failed to create package")}}),c=y=>{y.preventDefault(),o.mutate(a)},d=y=>{const{name:m,value:p}=y.target;n(f=>({...f,[m]:p}))};return t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/packages",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:r?"Duplicate Package":"Add Package"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:r?`Creating copy of ${r}`:"Create a new hosting package"})]})]}),t.jsxs("form",{onSubmit:c,className:"space-y-6",children:[t.jsxs("div",{className:"card p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Ga,{className:"w-5 h-5"}),"Package Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{className:"md:col-span-2",children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Package Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",name:"name",value:a.name,onChange:d,className:"input",placeholder:"e.g., basic, premium, enterprise",required:!0,pattern:"[a-zA-Z0-9_-]+",title:"Only letters, numbers, dashes and underscores"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters, numbers, dashes and underscores allowed"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shell Access"}),t.jsx("select",{name:"shell",value:a.shell,onChange:d,className:"input",children:((u=l==null?void 0:l.shells)==null?void 0:u.map(y=>t.jsx("option",{value:y,children:y==="/usr/sbin/nologin"?"nologin (No shell access)":y},y)))||t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"nologin",children:"nologin (No shell access)"}),t.jsx("option",{value:"/bin/bash",children:"/bin/bash"}),t.jsx("option",{value:"/bin/sh",children:"/bin/sh"})]})})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backups"}),t.jsx("input",{type:"number",name:"backups",value:a.backups,onChange:d,className:"input",min:"0"})]})]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Resource Limits"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-4",children:'Use "unlimited" or "0" for no limit'}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Domains"}),t.jsx("input",{type:"text",name:"webDomains",value:a.webDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Aliases"}),t.jsx("input",{type:"text",name:"webAliases",value:a.webAliases,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Domains"}),t.jsx("input",{type:"text",name:"dnsDomains",value:a.dnsDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Records"}),t.jsx("input",{type:"text",name:"dnsRecords",value:a.dnsRecords,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mail Domains"}),t.jsx("input",{type:"text",name:"mailDomains",value:a.mailDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mail Accounts"}),t.jsx("input",{type:"text",name:"mailAccounts",value:a.mailAccounts,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Databases"}),t.jsx("input",{type:"text",name:"databases",value:a.databases,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cron Jobs"}),t.jsx("input",{type:"text",name:"cronJobs",value:a.cronJobs,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Disk Quota (MB)"}),t.jsx("input",{type:"text",name:"diskQuota",value:a.diskQuota,onChange:d,className:"input",placeholder:"unlimited"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bandwidth (MB)"}),t.jsx("input",{type:"text",name:"bandwidth",value:a.bandwidth,onChange:d,className:"input",placeholder:"unlimited"})]})]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Default Templates"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Template"}),t.jsxs("select",{name:"webTemplate",value:a.webTemplate,onChange:d,className:"input",children:[t.jsx("option",{value:"default",children:"default"}),(h=l==null?void 0:l.webTemplates)==null?void 0:h.filter(y=>y!=="default").map(y=>t.jsx("option",{value:y,children:y},y))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Proxy Template"}),t.jsxs("select",{name:"proxyTemplate",value:a.proxyTemplate,onChange:d,className:"input",children:[t.jsx("option",{value:"default",children:"default"}),(x=l==null?void 0:l.webTemplates)==null?void 0:x.filter(y=>y!=="default").map(y=>t.jsx("option",{value:y,children:y},y))]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Template"}),t.jsx("select",{name:"dnsTemplate",value:a.dnsTemplate,onChange:d,className:"input",children:t.jsx("option",{value:"default",children:"default"})})]})]})]}),t.jsxs("div",{className:"card p-6",children:[t.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Nameservers"}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"NS1"}),t.jsx("input",{type:"text",name:"ns1",value:a.ns1,onChange:d,className:"input",placeholder:"ns1.example.com"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"NS2"}),t.jsx("input",{type:"text",name:"ns2",value:a.ns2,onChange:d,className:"input",placeholder:"ns2.example.com"})]})]})]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx(q,{to:"/packages",className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary",children:o.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"w-4 h-4 mr-2"}),"Create Package"]})})]})]})]})}function gn({title:e,icon:s,defaultOpen:r=!0,children:a}){const[n,l]=N.useState(r);return t.jsxs("div",{className:"card overflow-hidden",children:[t.jsxs("button",{type:"button",onClick:()=>l(!n),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-border/50 hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",children:[t.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[s&&t.jsx(s,{className:"w-5 h-5"}),e]}),n?t.jsx(bk,{className:"w-4 h-4"}):t.jsx(we,{className:"w-4 h-4"})]}),n&&t.jsx("div",{className:"p-6",children:a})]})}function as({label:e,name:s,value:r,onChange:a,suffix:n=""}){const l=r==="unlimited"||r==="0",i=()=>{a({target:{name:s,value:l?"1000":"unlimited"}})};return t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:l?"text":"number",name:s,value:l?"Unlimited":r,onChange:a,className:"input pr-12",placeholder:"0",disabled:l}),t.jsx("button",{type:"button",onClick:i,className:`absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs rounded ${l?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-500 dark:bg-dark-border dark:text-gray-400"}`,title:l?"Set limit":"Set unlimited",children:""})]}),n&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:n})]})}function x1(){var f,b,g,v,j;const{name:e}=Tt(),s=be(),r=pe(),[a,n]=N.useState({diskQuota:"unlimited",bandwidth:"unlimited",backups:"1",backupsIncremental:"no",webDomains:"unlimited",webAliases:"unlimited",webTemplate:"default",backendTemplate:"default",dnsDomains:"unlimited",dnsRecords:"unlimited",dnsTemplate:"default",ns1:"",ns2:"",mailDomains:"unlimited",mailAccounts:"unlimited",rateLimit:"200",databases:"unlimited",cronJobs:"unlimited",shell:"nologin"}),[l,i]=N.useState(["",""]),{data:o,isLoading:c,error:d}=Z({queryKey:["package",e],queryFn:async()=>(await M.get(`/api/packages/${e}`)).data.package}),{data:u}=Z({queryKey:["system-info"],queryFn:async()=>(await M.get("/api/system/info")).data});N.useEffect(()=>{if(o){const S=o.NS?o.NS.split(","):["",""];i(S.length>=2?S:[S[0]||"",""]),n({diskQuota:o.DISK_QUOTA||"unlimited",bandwidth:o.BANDWIDTH||"unlimited",backups:o.BACKUPS||"1",backupsIncremental:o.BACKUPS_INCREMENTAL||"no",webDomains:o.WEB_DOMAINS||"unlimited",webAliases:o.WEB_ALIASES||"unlimited",webTemplate:o.WEB_TEMPLATE||"default",backendTemplate:o.BACKEND_TEMPLATE||"default",dnsDomains:o.DNS_DOMAINS||"unlimited",dnsRecords:o.DNS_RECORDS||"unlimited",dnsTemplate:o.DNS_TEMPLATE||"default",ns1:S[0]||"",ns2:S[1]||"",mailDomains:o.MAIL_DOMAINS||"unlimited",mailAccounts:o.MAIL_ACCOUNTS||"unlimited",rateLimit:o.RATE_LIMIT||"200",databases:o.DATABASES||"unlimited",cronJobs:o.CRON_JOBS||"unlimited",shell:o.SHELL||"nologin"})}},[o]);const h=K({mutationFn:async S=>{await M.put(`/api/packages/${e}`,S)},onSuccess:()=>{r.invalidateQueries(["packages"]),r.invalidateQueries(["package",e]),B.success("Package updated successfully"),s("/packages")},onError:S=>{var k,w;B.error(((w=(k=S.response)==null?void 0:k.data)==null?void 0:w.error)||"Failed to update package")}}),x=S=>{S.preventDefault(),h.mutate({...a,ns:`${a.ns1},${a.ns2}`.replace(/^,|,$/g,"")})},y=S=>{const{name:k,value:w}=S.target;n(D=>({...D,[k]:w}))},m=()=>{i([...l,""])},p=(S,k)=>{const w=[...l];w[S]=k,i(w),n(D=>({...D,ns1:w[0]||"",ns2:w[1]||""}))};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d?t.jsxs("div",{className:"text-center py-12",children:[t.jsxs("p",{className:"text-red-500",children:["Failed to load package. ",((b=(f=d.response)==null?void 0:f.data)==null?void 0:b.error)||""]}),t.jsx(q,{to:"/packages",className:"btn btn-secondary mt-4",children:"Back to Packages"})]}):t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx(q,{to:"/packages",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsx("h1",{className:"text-2xl font-bold",children:"Edit Package"})]}),t.jsx("button",{type:"submit",form:"packageForm",disabled:h.isPending,className:"btn btn-primary",children:h.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(St,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),t.jsxs("form",{id:"packageForm",onSubmit:x,className:"space-y-4",children:[t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Package Name"}),t.jsx("input",{type:"text",value:e,className:"input bg-gray-50 dark:bg-dark-border",disabled:!0})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(as,{label:"Quota",name:"diskQuota",value:a.diskQuota,onChange:y,suffix:"in MB"}),t.jsx(as,{label:"Bandwidth",name:"bandwidth",value:a.bandwidth,onChange:y,suffix:"in MB"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backups"}),t.jsx("input",{type:"number",name:"backups",value:a.backups,onChange:y,className:"input",min:"0"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Incremental Backups"}),t.jsxs("select",{name:"backupsIncremental",value:a.backupsIncremental,onChange:y,className:"input",children:[t.jsx("option",{value:"no",children:"Disabled"}),t.jsx("option",{value:"yes",children:"Enabled"})]})]})]})]})}),t.jsx(gn,{title:"WEB",icon:et,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(as,{label:"Web Domains",name:"webDomains",value:a.webDomains,onChange:y}),t.jsx(as,{label:"Web Aliases",name:"webAliases",value:a.webAliases,onChange:y,suffix:"per domain"})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Web Template ",t.jsx("span",{className:"text-gray-400 text-xs",children:"NGINX"})]}),t.jsx("select",{name:"webTemplate",value:a.webTemplate,onChange:y,className:"input",children:((g=u==null?void 0:u.webTemplates)==null?void 0:g.map(S=>t.jsx("option",{value:S,children:S},S)))||t.jsx("option",{value:"default",children:"default"})})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Backend Template ",t.jsx("span",{className:"text-gray-400 text-xs",children:"PHP-FPM"})]}),t.jsx("select",{name:"backendTemplate",value:a.backendTemplate,onChange:y,className:"input",children:((v=u==null?void 0:u.backendTemplates)==null?void 0:v.map(S=>t.jsx("option",{value:S,children:S},S)))||t.jsx("option",{value:"default",children:"default"})})]})]})]})}),t.jsx(gn,{title:"DNS",icon:et,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:["DNS Template ",t.jsx("span",{className:"text-gray-400 text-xs",children:"BIND9"})]}),t.jsxs("select",{name:"dnsTemplate",value:a.dnsTemplate,onChange:y,className:"input",children:[t.jsx("option",{value:"default",children:"default"}),t.jsx("option",{value:"child-ns",children:"child-ns"})]})]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(as,{label:"DNS Zones",name:"dnsDomains",value:a.dnsDomains,onChange:y}),t.jsx(as,{label:"DNS Records",name:"dnsRecords",value:a.dnsRecords,onChange:y,suffix:"per domain"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name Servers"}),t.jsx("div",{className:"space-y-2",children:l.map((S,k)=>t.jsx("input",{type:"text",value:S,onChange:w=>p(k,w.target.value),className:"input",placeholder:`ns${k+1}.example.com`},k))}),t.jsx("button",{type:"button",onClick:m,className:"mt-2 text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Add Name Server"})]})]})}),t.jsx(gn,{title:"MAIL",icon:Zt,children:t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[t.jsx(as,{label:"Mail Domains",name:"mailDomains",value:a.mailDomains,onChange:y}),t.jsx(as,{label:"Mail Accounts",name:"mailAccounts",value:a.mailAccounts,onChange:y,suffix:"per domain"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rate Limit"}),t.jsx("input",{type:"number",name:"rateLimit",value:a.rateLimit,onChange:y,className:"input",placeholder:"200"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per account / hour"})]})]})}),t.jsx(gn,{title:"DB",icon:Ze,children:t.jsx(as,{label:"Databases",name:"databases",value:a.databases,onChange:y})}),t.jsx(gn,{title:"System",icon:it,children:t.jsxs("div",{className:"space-y-4",children:[t.jsx(as,{label:"Cron Jobs",name:"cronJobs",value:a.cronJobs,onChange:y}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"SSH Access"}),t.jsx("select",{name:"shell",value:a.shell,onChange:y,className:"input",children:((j=u==null?void 0:u.shells)==null?void 0:j.map(S=>{const k=S.split("/").pop();return t.jsx("option",{value:S,children:k==="nologin"?"nologin":S},S)}))||t.jsxs(t.Fragment,{children:[t.jsx("option",{value:"nologin",children:"nologin"}),t.jsx("option",{value:"/bin/bash",children:"/bin/bash"})]})})]})]})})]})]})}function f1(){var j,S,k;const{domain:e}=Tt(),s=be(),[r,a]=N.useState(null),[n,l]=N.useState({}),[i,o]=N.useState(1),{data:c,isLoading:d}=Z({queryKey:["quickinstall-apps"],queryFn:async()=>(await M.get("/api/quickinstall/apps")).data.apps}),{data:u,isLoading:h,refetch:x}=Z({queryKey:["quickinstall-options",r,e],queryFn:async()=>(await M.get(`/api/quickinstall/options/${r}`,{params:{domain:e}})).data,enabled:!!r&&!!e});N.useEffect(()=>{if(u!=null&&u.options){const w={};u.options.forEach(D=>{D.defaultValue&&D.defaultValue!=="none"&&(w[D.key]=D.defaultValue)}),l(w)}},[u]);const y=K({mutationFn:async w=>(await M.post("/api/quickinstall/install",w)).data,onSuccess:w=>{B.success(w.message||"App installed successfully!"),s(`/web/${e}/edit`)},onError:w=>{var D,O;B.error(((O=(D=w.response)==null?void 0:D.data)==null?void 0:O.error)||"Failed to install app")}}),m=w=>{a(w.name),o(2)},p=w=>{const{name:D,value:O,type:C,checked:P}=w.target;l(R=>({...R,[D]:C==="checkbox"?P?"true":"false":O}))},f=w=>{w.preventDefault(),y.mutate({domain:e,app:r,options:n})},b=w=>({WordPress:"",Laravel:"",Symfony:"",Drupal:"",Joomla:"",Nextcloud:"",PrestaShop:"",OpenCart:"",MediaWiki:"",DokuWiki:"",Grav:"",Flarum:"",Dolibarr:"",NamelessMC:"",ThirtyBees:"",Vvveb:""})[w]||"",g=w=>w.includes("email")?t.jsx(Zt,{className:"w-4 h-4"}):w.includes("password")?t.jsx(i0,{className:"w-4 h-4"}):w.includes("username")||w.includes("user")?t.jsx(Du,{className:"w-4 h-4"}):w.includes("directory")||w.includes("path")?t.jsx(pd,{className:"w-4 h-4"}):w.includes("database")?t.jsx(Ze,{className:"w-4 h-4"}):t.jsx(Ts,{className:"w-4 h-4"}),v=w=>w.replace(/_/g," ").replace(/([A-Z])/g," $1").split(" ").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" ");return d?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:i===2?"#":`/web/${e}/edit`,onClick:w=>{i===2&&(w.preventDefault(),o(1),a(null))},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Quick Install App"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Install web application on ",t.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e})]})]})]}),t.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${i===1?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"}`,children:[i>1?t.jsx(Ai,{className:"w-4 h-4"}):t.jsx("span",{children:"1"}),"Select App"]}),t.jsx("div",{className:"w-8 h-0.5 bg-gray-300 dark:bg-dark-border"}),t.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${i===2?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-500 dark:bg-dark-border dark:text-dark-muted"}`,children:[t.jsx("span",{children:"2"}),"Configure & Install"]})]}),i===1&&t.jsxs("div",{className:"card p-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Ga,{className:"w-5 h-5"}),"Choose an Application"]}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c==null?void 0:c.map(w=>t.jsxs("button",{onClick:()=>m(w),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 dark:border-dark-border hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-colors text-center",children:[t.jsx("span",{className:"text-3xl",children:b(w.name)}),t.jsx("span",{className:"font-medium",children:w.name}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:w.version})]},w.name))})]}),i===2&&t.jsxs("div",{className:"card p-6",children:[t.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[t.jsx("span",{className:"text-4xl",children:b(r)}),t.jsxs("div",{children:[t.jsx("h2",{className:"text-xl font-semibold",children:r}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Configure installation options"})]})]}),h?t.jsx("div",{className:"flex items-center justify-center h-32",children:t.jsx(ae,{className:"w-6 h-6 animate-spin text-primary-600"})}):t.jsxs("form",{onSubmit:f,className:"space-y-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Basic Settings"}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(j=u==null?void 0:u.options)==null?void 0:j.filter(w=>!w.key.startsWith("database_")).map(w=>t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-1",children:[g(w.key),v(w.key),w.required&&t.jsx("span",{className:"text-red-500",children:"*"})]}),w.type==="boolean"?t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:w.key,checked:n[w.key]==="true",onChange:p,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable"})]}):w.type==="select"?t.jsx("input",{type:"text",name:w.key,value:n[w.key]||"",onChange:p,className:"input",placeholder:w.defaultValue||"",required:w.required}):t.jsx("input",{type:w.type==="password"?"password":"text",name:w.key,value:n[w.key]||"",onChange:p,className:"input",placeholder:w.defaultValue||"",required:w.required})]},w.key))})]}),((S=u==null?void 0:u.options)==null?void 0:S.some(w=>w.key.startsWith("database_")))&&t.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide flex items-center gap-2",children:[t.jsx(Ze,{className:"w-4 h-4"}),"Database Settings"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(k=u==null?void 0:u.options)==null?void 0:k.filter(w=>w.key.startsWith("database_")).map(w=>t.jsxs("div",{children:[t.jsx("label",{className:"flex items-center gap-2 text-sm font-medium mb-1",children:v(w.key.replace("database_",""))}),w.type==="boolean"?t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",name:w.key,checked:n[w.key]==="true",onChange:p,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:w.key==="database_create"?"Create new database automatically":"Enable"})]}):t.jsx("input",{type:w.type==="password"?"password":"text",name:w.key,value:n[w.key]||"",onChange:p,className:"input",placeholder:w.defaultValue!=="none"?w.defaultValue:"",disabled:w.key!=="database_create"&&n.database_create==="true"})]},w.key))}),n.database_create==="true"&&t.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"A new database will be created automatically for this installation."})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsx("button",{type:"button",onClick:()=>{o(1),a(null)},className:"btn btn-secondary",children:"Back"}),t.jsx("button",{type:"submit",disabled:y.isPending,className:"btn btn-primary",children:y.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Installing..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ga,{className:"w-4 h-4 mr-2"}),"Install ",r]})})]})]})]})]})}function g1(){var g,v,j,S;const e=pe(),[s,r]=N.useState(null),[a,n]=N.useState(null),{data:l,isLoading:i,error:o,refetch:c}=Z({queryKey:["services"],queryFn:async()=>(await M.get("/api/services")).data}),{data:d}=Z({queryKey:["pbm-status"],queryFn:async()=>(await M.get("/api/mongodb/pbm/status")).data}),u=K({mutationFn:async k=>{r(k),await M.post(`/api/services/${k}/install`)},onSuccess:(k,w)=>{e.invalidateQueries(["services"]),e.invalidateQueries(["pbm-status"]),B.success("Application installed successfully"),r(null)},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to install application"),r(null)}}),h=K({mutationFn:async k=>{n(k),await M.delete(`/api/services/${k}`)},onSuccess:()=>{e.invalidateQueries(["services"]),e.invalidateQueries(["pbm-status"]),B.success("Application uninstalled successfully"),n(null)},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to uninstall application"),n(null)}}),x=K({mutationFn:async()=>{r("pbm"),await M.post("/api/services/pbm/install")},onSuccess:()=>{e.invalidateQueries(["pbm-status"]),B.success("Percona Backup for MongoDB installed successfully"),r(null)},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to install PBM"),r(null)}}),y=K({mutationFn:async()=>{n("pbm"),await M.delete("/api/services/pbm")},onSuccess:()=>{e.invalidateQueries(["pbm-status"]),B.success("Percona Backup for MongoDB uninstalled"),n(null)},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to uninstall PBM"),n(null)}}),m=K({mutationFn:async k=>{await M.post(`/api/services/${k}/restart`)},onSuccess:()=>{e.invalidateQueries(["services"]),B.success("Application restarted successfully")},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to restart application")}}),p=k=>{switch(k){case"web":return et;case"database":return Ze;case"mail":case"queue":return Zt;case"security":return ln;case"backup":return md;default:return We}},f=k=>{switch(k){case"web":return"text-blue-500 bg-blue-100 dark:bg-blue-900/30";case"database":return"text-green-500 bg-green-100 dark:bg-green-900/30";case"mail":return"text-purple-500 bg-purple-100 dark:bg-purple-900/30";case"queue":return"text-orange-500 bg-orange-100 dark:bg-orange-900/30";case"security":return"text-red-500 bg-red-100 dark:bg-red-900/30";case"backup":return"text-amber-500 bg-amber-100 dark:bg-amber-900/30";default:return"text-gray-500 bg-gray-100 dark:bg-gray-900/30"}},b=(g=l==null?void 0:l.categories)==null?void 0:g.some(k=>k.services.some(w=>w.id==="mongodb"&&w.installed));return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsx("div",{className:"text-center py-12",children:t.jsxs("p",{className:"text-red-500",children:["Failed to load applications. ",((j=(v=o.response)==null?void 0:v.data)==null?void 0:j.error)||""]})}):t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Applications"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Install or uninstall system applications and tools."})]}),t.jsxs("button",{onClick:()=>c(),className:"btn btn-secondary",children:[t.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),b&&t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(md,{className:"w-5 h-5"}),"Database Backup Tools"]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow border-2 border-amber-200 dark:border-amber-800",children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center text-amber-500 bg-amber-100 dark:bg-amber-900/30",children:t.jsx(Va,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"Percona Backup (PBM)"}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Backup solution for MongoDB ReplicaSet/Sharding"})]})]})}),t.jsx("div",{className:"mt-4 flex items-center justify-between",children:t.jsx("div",{className:"flex items-center gap-2",children:d!=null&&d.installed?d!=null&&d.running?t.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4"}),"Running (v",d==null?void 0:d.version,")"]}):t.jsxs("span",{className:"flex items-center gap-1.5 text-yellow-600 dark:text-yellow-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Installed but not running"]}):t.jsxs("span",{className:"flex items-center gap-1.5 text-gray-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Not Installed"]})})}),t.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-dark-border flex items-center gap-2",children:d!=null&&d.installed?t.jsxs(t.Fragment,{children:[t.jsxs(q,{to:"/admin/database-settings?tab=mongodb",className:"flex-1 btn btn-sm btn-secondary",children:[t.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Configure"]}),t.jsxs("button",{onClick:()=>{confirm("Are you sure you want to uninstall Percona Backup for MongoDB?")&&y.mutate()},disabled:a==="pbm",className:"flex-1 btn btn-sm bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400",children:[a==="pbm"?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Uninstall"]})]}):t.jsxs("button",{onClick:()=>x.mutate(),disabled:s==="pbm",className:"flex-1 btn btn-sm btn-primary",children:[s==="pbm"?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(xr,{className:"w-4 h-4 mr-1"}),"Install"]})}),t.jsx("div",{className:"mt-3 p-2 bg-gray-50 dark:bg-dark-border rounded text-xs text-gray-600 dark:text-dark-muted",children:"Supports logical, physical & incremental backups with PITR"})]})})]}),(S=l==null?void 0:l.categories)==null?void 0:S.map(k=>{var D;const w=p((D=k.services[0])==null?void 0:D.category);return t.jsxs("div",{className:"mb-8",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(w,{className:"w-5 h-5"}),k.name]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:k.services.map(O=>t.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[t.jsx("div",{className:"flex items-start justify-between",children:t.jsxs("div",{className:"flex items-start gap-3",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${f(O.category)}`,children:(()=>{const C=p(O.category);return t.jsx(C,{className:"w-5 h-5"})})()}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:O.name}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:O.description})]})]})}),t.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:O.installed?O.running?t.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4"}),"Running"]}):t.jsxs("span",{className:"flex items-center gap-1.5 text-yellow-600 dark:text-yellow-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Stopped"]}):t.jsxs("span",{className:"flex items-center gap-1.5 text-gray-400 text-sm",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Not Installed"]})}),O.installed&&O.running&&t.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-dark-muted",children:[t.jsxs("span",{className:"flex items-center gap-1",title:"CPU Usage",children:[t.jsx(Oi,{className:"w-3 h-3"}),O.cpu,"%"]}),t.jsxs("span",{className:"flex items-center gap-1",title:"Memory Usage",children:[t.jsx(it,{className:"w-3 h-3"}),O.memory,"MB"]})]})]}),t.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-dark-border flex items-center gap-2",children:O.installed?t.jsxs(t.Fragment,{children:[O.canUninstall&&t.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to uninstall ${O.name}?`)&&h.mutate(O.id)},disabled:a===O.id,className:"flex-1 btn btn-sm bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400",children:[a===O.id?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(Ue,{className:"w-4 h-4 mr-1"}),"Uninstall"]}),!O.canUninstall&&O.running&&t.jsxs("button",{onClick:()=>m.mutate(O.id),disabled:m.isPending,className:"flex-1 btn btn-sm btn-secondary",children:[t.jsx(Fe,{className:`w-4 h-4 mr-1 ${m.isPending?"animate-spin":""}`}),"Restart"]})]}):O.canInstall&&t.jsxs("button",{onClick:()=>u.mutate(O.id),disabled:s===O.id,className:"flex-1 btn btn-sm btn-primary",children:[s===O.id?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(xr,{className:"w-4 h-4 mr-1"}),"Install"]})})]},O.id))})]},k.name)})]})}function y1(){var me,fe,Ge,At;const e=pe(),[s,r]=N.useState("/"),[a,n]=N.useState([]),[l,i]=N.useState("list"),[o,c]=N.useState(""),[d,u]=N.useState(!1),[h,x]=N.useState(!1),[y,m]=N.useState(null),[p,f]=N.useState(null),[b,g]=N.useState(null),v=N.useRef(null),{data:j,isLoading:S,error:k,refetch:w}=Z({queryKey:["file-manager",s],queryFn:async()=>(await M.get("/api/files/list",{params:{path:s}})).data});N.useEffect(()=>{n([])},[s]);const D=$=>{r($)},O=()=>{if(s==="/")return;const $=s.split("/").filter(Boolean);$.pop(),r("/"+$.join("/"))},C=s.split("/").filter(Boolean),P=($,se)=>{if(se.ctrlKey||se.metaKey)n(H=>H.includes($.name)?H.filter(Ct=>Ct!==$.name):[...H,$.name]);else if(se.shiftKey&&a.length>0){const H=(j==null?void 0:j.files)||[],Ct=H.findIndex(wr=>wr.name===a[a.length-1]),gl=H.findIndex(wr=>wr.name===$.name),ho=Math.min(Ct,gl),po=Math.max(Ct,gl),xo=H.slice(ho,po+1).map(wr=>wr.name);n([...new Set([...a,...xo])])}else n([$.name])},R=$=>{$.isDirectory?D(s==="/"?`/${$.name}`:`${s}/${$.name}`):m($)},I=$=>{var H;if($.isDirectory)return t.jsx(pd,{className:"w-5 h-5 text-amber-500"});switch((H=$.name.split(".").pop())==null?void 0:H.toLowerCase()){case"jpg":case"jpeg":case"png":case"gif":case"svg":case"webp":return t.jsx(mk,{className:"w-5 h-5 text-purple-500"});case"zip":case"tar":case"gz":case"rar":case"7z":return t.jsx(dk,{className:"w-5 h-5 text-orange-500"});case"js":case"ts":case"jsx":case"tsx":case"py":case"php":case"rb":case"go":case"java":case"c":case"cpp":case"h":case"css":case"scss":case"html":case"xml":case"json":case"yaml":case"yml":case"sh":case"bash":return t.jsx(uk,{className:"w-5 h-5 text-green-500"});case"txt":case"md":case"log":case"conf":case"cfg":case"ini":return t.jsx(Fs,{className:"w-5 h-5 text-blue-500"});default:return t.jsx(n0,{className:"w-5 h-5 text-gray-500"})}},G=$=>{if(!$)return"-";const se=["B","KB","MB","GB","TB"];let H=$,Ct=0;for(;H>=1024&&Ct<se.length-1;)H/=1024,Ct++;return`${H.toFixed(Ct>0?1:0)} ${se[Ct]}`},J=$=>$?new Date($*1e3).toLocaleString():"-",X=K({mutationFn:async $=>{await M.post("/api/files/mkdir",{path:s,name:$})},onSuccess:()=>{e.invalidateQueries(["file-manager",s]),u(!1),B.success("Folder created")},onError:$=>{var se,H;B.error(((H=(se=$.response)==null?void 0:se.data)==null?void 0:H.error)||"Failed to create folder")}}),A=K({mutationFn:async({name:$,content:se})=>{await M.post("/api/files/create",{path:s,name:$,content:se})},onSuccess:()=>{e.invalidateQueries(["file-manager",s]),x(!1),B.success("File created")},onError:$=>{var se,H;B.error(((H=(se=$.response)==null?void 0:se.data)==null?void 0:H.error)||"Failed to create file")}}),F=K({mutationFn:async $=>{await M.post("/api/files/delete",{path:s,files:$})},onSuccess:()=>{e.invalidateQueries(["file-manager",s]),n([]),f(null),B.success("Deleted successfully")},onError:$=>{var se,H;B.error(((H=(se=$.response)==null?void 0:se.data)==null?void 0:H.error)||"Failed to delete")}}),L=K({mutationFn:async $=>{const se=new FormData;se.append("path",s);for(const H of $)se.append("files",H);await M.post("/api/files/upload",se,{headers:{"Content-Type":"multipart/form-data"}})},onSuccess:()=>{e.invalidateQueries(["file-manager",s]),B.success("Upload successful")},onError:$=>{var se,H;B.error(((H=(se=$.response)==null?void 0:se.data)==null?void 0:H.error)||"Failed to upload")}}),W=K({mutationFn:async()=>{b&&await M.post("/api/files/paste",{source:b.sourcePath,dest:s,files:b.files,action:b.action})},onSuccess:()=>{e.invalidateQueries(["file-manager"]),g(null),B.success((b==null?void 0:b.action)==="copy"?"Copied successfully":"Moved successfully")},onError:$=>{var se,H;B.error(((H=(se=$.response)==null?void 0:se.data)==null?void 0:H.error)||"Failed to paste")}}),Y=$=>{const se=$.target.files;se.length>0&&L.mutate(Array.from(se)),$.target.value=""},_=$=>{const se=s==="/"?`/${$.name}`:`${s}/${$.name}`;window.open(`/api/files/download?path=${encodeURIComponent(se)}`,"_blank")},ie=()=>{g({action:"copy",sourcePath:s,files:a}),B.success(`${a.length} item(s) copied to clipboard`)},te=()=>{g({action:"cut",sourcePath:s,files:a}),B.success(`${a.length} item(s) cut to clipboard`)},de=((j==null?void 0:j.files)||[]).filter($=>$.name.toLowerCase().includes(o.toLowerCase()));return k?t.jsxs("div",{className:"card p-6 text-center",children:[t.jsx(Ha,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),t.jsx("h2",{className:"text-xl font-semibold mb-2",children:"Error Loading Directory"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:((fe=(me=k.response)==null?void 0:me.data)==null?void 0:fe.error)||"Failed to load directory contents"}),t.jsx("button",{onClick:()=>D("/"),className:"btn btn-primary",children:"Go to Root"})]}):t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsx("div",{className:"flex items-center justify-between mb-4",children:t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:t.jsx(hd,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"File Manager"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted text-sm",children:"Browse and manage server files"})]})]})}),t.jsx("div",{className:"card p-3 mb-4",children:t.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[t.jsx("button",{onClick:()=>D("/"),className:"btn btn-secondary btn-sm",title:"Home",children:t.jsx(Eh,{className:"w-4 h-4"})}),t.jsx("button",{onClick:O,disabled:s==="/",className:"btn btn-secondary btn-sm",title:"Go up",children:t.jsx(ak,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>w(),className:"btn btn-secondary btn-sm",title:"Refresh",children:t.jsx(Fe,{className:`w-4 h-4 ${S?"animate-spin":""}`})}),t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-dark-border mx-1"}),t.jsxs("button",{onClick:()=>u(!0),className:"btn btn-secondary btn-sm",title:"New Folder",children:[t.jsx(we,{className:"w-4 h-4 mr-1"}),"Folder"]}),t.jsxs("button",{onClick:()=>x(!0),className:"btn btn-secondary btn-sm",title:"New File",children:[t.jsx(we,{className:"w-4 h-4 mr-1"}),"File"]}),t.jsxs("button",{onClick:()=>{var $;return($=v.current)==null?void 0:$.click()},className:"btn btn-secondary btn-sm",title:"Upload",children:[t.jsx(m0,{className:"w-4 h-4 mr-1"}),"Upload"]}),t.jsx("input",{ref:v,type:"file",multiple:!0,onChange:Y,className:"hidden"}),a.length>0&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-dark-border mx-1"}),t.jsx("button",{onClick:ie,className:"btn btn-secondary btn-sm",title:"Copy",children:t.jsx(uo,{className:"w-4 h-4"})}),t.jsx("button",{onClick:te,className:"btn btn-secondary btn-sm",title:"Cut",children:t.jsx(Nk,{className:"w-4 h-4"})}),a.length===1&&!((At=(Ge=j==null?void 0:j.files)==null?void 0:Ge.find($=>$.name===a[0]))!=null&&At.isDirectory)&&t.jsx("button",{onClick:()=>{var $;return _(($=j==null?void 0:j.files)==null?void 0:$.find(se=>se.name===a[0]))},className:"btn btn-secondary btn-sm",title:"Download",children:t.jsx(xr,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>f(a),className:"btn btn-secondary btn-sm text-red-600",title:"Delete",children:t.jsx(Ue,{className:"w-4 h-4"})})]}),b&&b.sourcePath!==s&&t.jsxs(t.Fragment,{children:[t.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-dark-border mx-1"}),t.jsxs("button",{onClick:()=>W.mutate(),disabled:W.isPending,className:"btn btn-primary btn-sm",title:"Paste",children:[W.isPending?t.jsx(ae,{className:"w-4 h-4 mr-1 animate-spin"}):t.jsx(ik,{className:"w-4 h-4 mr-1"}),"Paste (",b.files.length,")"]}),t.jsx("button",{onClick:()=>g(null),className:"btn btn-secondary btn-sm",title:"Clear clipboard",children:t.jsx(bt,{className:"w-4 h-4"})})]}),t.jsx("div",{className:"flex-1"}),t.jsxs("div",{className:"relative",children:[t.jsx(kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),t.jsx("input",{type:"text",value:o,onChange:$=>c($.target.value),placeholder:"Search...",className:"input pl-9 w-48 h-8 text-sm"})]}),t.jsxs("div",{className:"flex border border-gray-300 dark:border-dark-border rounded-lg overflow-hidden",children:[t.jsx("button",{onClick:()=>i("list"),className:`p-1.5 ${l==="list"?"bg-primary-100 text-primary-600 dark:bg-primary-900/30":"hover:bg-gray-100 dark:hover:bg-dark-border"}`,title:"List view",children:t.jsx(el,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>i("grid"),className:`p-1.5 ${l==="grid"?"bg-primary-100 text-primary-600 dark:bg-primary-900/30":"hover:bg-gray-100 dark:hover:bg-dark-border"}`,title:"Grid view",children:t.jsx(pk,{className:"w-4 h-4"})})]})]})}),t.jsxs("div",{className:"card px-4 py-2 mb-4 flex items-center gap-1 text-sm overflow-x-auto",children:[t.jsxs("button",{onClick:()=>D("/"),className:"flex items-center gap-1 px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:[t.jsx(Eh,{className:"w-4 h-4"}),"root"]}),C.map(($,se)=>t.jsxs("div",{className:"flex items-center",children:[t.jsx(Qa,{className:"w-4 h-4 text-gray-400"}),t.jsx("button",{onClick:()=>D("/"+C.slice(0,se+1).join("/")),className:"px-2 py-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:$})]},se))]}),t.jsx("div",{className:"card",children:S?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ae,{className:"w-8 h-8 animate-spin text-primary-600"})}):de.length===0?t.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-gray-500",children:[t.jsx(hd,{className:"w-12 h-12 mb-4"}),t.jsx("p",{children:o?"No files match your search":"This folder is empty"})]}):l==="list"?t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{children:t.jsxs("tr",{className:"text-left text-sm text-gray-500 dark:text-dark-muted border-b border-gray-200 dark:border-dark-border",children:[t.jsx("th",{className:"p-3 font-medium",children:"Name"}),t.jsx("th",{className:"p-3 font-medium w-24",children:"Size"}),t.jsx("th",{className:"p-3 font-medium w-48",children:"Modified"}),t.jsx("th",{className:"p-3 font-medium w-24",children:"Permissions"})]})}),t.jsx("tbody",{children:de.map($=>t.jsxs("tr",{onClick:se=>P($,se),onDoubleClick:()=>R($),className:`border-b border-gray-100 dark:border-dark-border cursor-pointer transition-colors ${a.includes($.name)?"bg-primary-50 dark:bg-primary-900/20":"hover:bg-gray-50 dark:hover:bg-dark-border/50"}`,children:[t.jsx("td",{className:"p-3",children:t.jsxs("div",{className:"flex items-center gap-3",children:[I($),t.jsx("span",{className:$.isDirectory?"font-medium":"",children:$.name})]})}),t.jsx("td",{className:"p-3 text-sm text-gray-500 dark:text-dark-muted",children:$.isDirectory?"-":G($.size)}),t.jsx("td",{className:"p-3 text-sm text-gray-500 dark:text-dark-muted",children:J($.mtime)}),t.jsx("td",{className:"p-3 text-sm text-gray-500 dark:text-dark-muted font-mono",children:$.permissions})]},$.name))})]}):t.jsx("div",{className:"p-4 grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 lg:grid-cols-8 gap-4",children:de.map($=>t.jsxs("div",{onClick:se=>P($,se),onDoubleClick:()=>R($),className:`flex flex-col items-center p-3 rounded-lg cursor-pointer transition-colors ${a.includes($.name)?"bg-primary-50 dark:bg-primary-900/20 ring-2 ring-primary-500":"hover:bg-gray-50 dark:hover:bg-dark-border/50"}`,children:[t.jsx("div",{className:"w-12 h-12 flex items-center justify-center mb-2",children:$.isDirectory?t.jsx(pd,{className:"w-10 h-10 text-amber-500"}):I($)}),t.jsx("span",{className:"text-sm text-center truncate w-full",title:$.name,children:$.name})]},$.name))})}),t.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-dark-muted flex items-center justify-between",children:[t.jsxs("span",{children:[de.length," items",a.length>0&&` (${a.length} selected)`]}),(j==null?void 0:j.freeSpace)&&t.jsxs("span",{children:["Free: ",G(j.freeSpace)]})]}),d&&t.jsx(b1,{title:"New Folder",placeholder:"Folder name",onSubmit:$=>X.mutate($),onClose:()=>u(!1),isPending:X.isPending}),h&&t.jsx(v1,{onSubmit:($,se)=>A.mutate({name:$,content:se}),onClose:()=>x(!1),isPending:A.isPending}),y&&t.jsx(j1,{file:y,path:s,onClose:()=>m(null),onSave:()=>{e.invalidateQueries(["file-manager",s])}}),p&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delete Confirmation"}),t.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-4",children:["Are you sure you want to delete ",p.length," item(s)? This action cannot be undone."]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>f(null),className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:()=>F.mutate(p),disabled:F.isPending,className:"btn btn-danger",children:F.isPending?"Deleting...":"Delete"})]})]})})]})}function b1({title:e,placeholder:s,onSubmit:r,onClose:a,isPending:n}){const[l,i]=N.useState(""),o=c=>{c.preventDefault(),l.trim()&&r(l.trim())};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:e}),t.jsxs("form",{onSubmit:o,children:[t.jsx("input",{type:"text",value:l,onChange:c=>i(c.target.value),placeholder:s,className:"input mb-4",autoFocus:!0}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:a,className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!l.trim()||n,className:"btn btn-primary",children:n?"Creating...":"Create"})]})]})]})})}function v1({onSubmit:e,onClose:s,isPending:r}){const[a,n]=N.useState(""),[l,i]=N.useState(""),o=c=>{c.preventDefault(),a.trim()&&e(a.trim(),l)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-2xl w-full mx-4 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"New File"}),t.jsxs("form",{onSubmit:o,children:[t.jsx("input",{type:"text",value:a,onChange:c=>n(c.target.value),placeholder:"File name",className:"input mb-4",autoFocus:!0}),t.jsx("textarea",{value:l,onChange:c=>i(c.target.value),placeholder:"File content (optional)",className:"input font-mono text-sm h-48 mb-4"}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:!a.trim()||r,className:"btn btn-primary",children:r?"Creating...":"Create"})]})]})]})})}function j1({file:e,path:s,onClose:r,onSave:a}){const[n,l]=N.useState(""),[i,o]=N.useState(!0),[c,d]=N.useState(!1),[u,h]=N.useState(null),[x,y]=N.useState(!0),m=s==="/"?`/${e.name}`:`${s}/${e.name}`,p=()=>{var v;const b=(v=e.name.split(".").pop())==null?void 0:v.toLowerCase();return["txt","md","log","conf","cfg","ini","json","yaml","yml","xml","html","htm","css","scss","less","js","ts","jsx","tsx","py","php","rb","go","java","c","cpp","h","hpp","sh","bash","sql","htaccess","env","gitignore","dockerignore","editorconfig"].includes(b)||!b};N.useEffect(()=>{if(!p()){y(!1),o(!1);return}M.get("/api/files/read",{params:{path:m}}).then(b=>{l(b.data.content||""),o(!1)}).catch(b=>{var g,v;h(((v=(g=b.response)==null?void 0:g.data)==null?void 0:v.error)||"Failed to read file"),o(!1)})},[m]);const f=async()=>{var b,g;d(!0);try{await M.post("/api/files/write",{path:m,content:n}),B.success("File saved"),a(),r()}catch(v){B.error(((g=(b=v.response)==null?void 0:b.data)==null?void 0:g.error)||"Failed to save file")}d(!1)};return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-4xl w-full mx-4 max-h-[90vh] flex flex-col",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Fs,{className:"w-5 h-5"}),t.jsx("h3",{className:"font-semibold",children:e.name})]}),t.jsx("button",{onClick:r,className:"p-1 hover:bg-gray-100 dark:hover:bg-dark-border rounded",children:t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsx("div",{className:"flex-1 overflow-auto p-4",children:i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ae,{className:"w-8 h-8 animate-spin"})}):u?t.jsx("div",{className:"text-center py-8 text-red-500",children:u}):x?t.jsx("textarea",{value:n,onChange:b=>l(b.target.value),className:"w-full h-96 font-mono text-sm p-3 bg-gray-900 text-gray-100 rounded-lg border border-gray-700 focus:border-primary-500 focus:ring-1 focus:ring-primary-500",spellCheck:!1}):t.jsxs("div",{className:"text-center py-8 text-gray-500",children:[t.jsx(n0,{className:"w-12 h-12 mx-auto mb-4"}),t.jsx("p",{children:"This file type cannot be edited in the browser."}),t.jsxs("button",{onClick:()=>window.open(`/api/files/download?path=${encodeURIComponent(m)}`,"_blank"),className:"btn btn-primary mt-4",children:[t.jsx(xr,{className:"w-4 h-4 mr-2"}),"Download File"]})]})}),x&&!u&&!i&&t.jsxs("div",{className:"px-6 py-4 border-t border-gray-200 dark:border-dark-border flex justify-end gap-3",children:[t.jsx("button",{onClick:r,className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:f,disabled:c,className:"btn btn-primary",children:c?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):t.jsxs(t.Fragment,{children:[t.jsx(Ai,{className:"w-4 h-4 mr-2"}),"Save"]})})]})]})})}const N1=["nginx","apache2","httpd","php-fpm","php5-fpm","php7.0-fpm","php7.1-fpm","php7.2-fpm","php7.3-fpm","php7.4-fpm","php8.0-fpm","php8.1-fpm","php8.2-fpm","php8.3-fpm","mysql","mariadb","mysqld","postgresql","bind9","named","dovecot","exim4","exim","fail2ban","vsftpd","proftpd","ssh","sshd","clamav-daemon","clamd","spamassassin","spamd","haproxy","redis","redis-server"],k1=e=>N1.some(s=>e===s||e.startsWith(s)||e.includes("php")&&e.includes("fpm"));function w1(){var x,y;const e=pe(),[s,r]=N.useState({}),{data:a,isLoading:n,error:l,refetch:i}=Z({queryKey:["server-services"],queryFn:async()=>(await M.get("/api/system/server")).data,refetchInterval:3e4}),o=K({mutationFn:async m=>{r(p=>({...p,[m]:"restart"})),await M.post(`/api/system/server/services/${m}/restart`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),B.success(`Service ${p} restarted successfully`),r(f=>({...f,[p]:null}))},onError:(m,p)=>{var f,b;B.error(((b=(f=m.response)==null?void 0:f.data)==null?void 0:b.error)||`Failed to restart ${p}`),r(g=>({...g,[p]:null}))}}),c=K({mutationFn:async m=>{r(p=>({...p,[m]:"start"})),await M.post(`/api/system/server/services/${m}/start`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),B.success(`Service ${p} started successfully`),r(f=>({...f,[p]:null}))},onError:(m,p)=>{var f,b;B.error(((b=(f=m.response)==null?void 0:f.data)==null?void 0:b.error)||`Failed to start ${p}`),r(g=>({...g,[p]:null}))}}),d=K({mutationFn:async m=>{r(p=>({...p,[m]:"stop"})),await M.post(`/api/system/server/services/${m}/stop`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),B.success(`Service ${p} stopped successfully`),r(f=>({...f,[p]:null}))},onError:(m,p)=>{var f,b;B.error(((b=(f=m.response)==null?void 0:f.data)==null?void 0:b.error)||`Failed to stop ${p}`),r(g=>({...g,[p]:null}))}});if(n)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(l)return t.jsxs("div",{className:"text-center py-12",children:[t.jsxs("p",{className:"text-red-500",children:["Failed to load server info. ",((y=(x=l.response)==null?void 0:x.data)==null?void 0:y.error)||""]}),t.jsx("button",{onClick:()=>i(),className:"mt-4 btn btn-primary",children:"Retry"})]});const{system:u,services:h}=a||{};return t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Server Services"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Monitor and manage running services on the server"})]}),t.jsxs("button",{onClick:()=>i(),className:"btn btn-secondary",children:[t.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),t.jsxs("div",{className:"card p-6 mb-6",children:[t.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[t.jsx(Dh,{className:"w-5 h-5"}),"Server Information"]}),t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx(We,{className:"w-8 h-8 text-primary-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Hostname"}),t.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.hostname)||"Unknown"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx(Dh,{className:"w-8 h-8 text-blue-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Operating System"}),t.jsxs("p",{className:"font-semibold",children:[u==null?void 0:u.os," ",u==null?void 0:u.version," (",u==null?void 0:u.arch,")"]})]})]}),(u==null?void 0:u.hestiaVersion)&&t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx(Zr,{className:"w-8 h-8 text-green-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Hestia Version"}),t.jsx("p",{className:"font-semibold",children:u.hestiaVersion})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx(Oi,{className:"w-8 h-8 text-orange-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Load Average"}),t.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.loadAverage)||"0 / 0 / 0"})]})]}),t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[t.jsx(ra,{className:"w-8 h-8 text-purple-500"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Uptime"}),t.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.uptime)||"0 minutes"})]})]})]})]}),t.jsxs("div",{className:"card overflow-hidden",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:t.jsx("h2",{className:"text-lg font-semibold",children:"Running Services"})}),t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Service"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Description"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Uptime"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"CPU"}),t.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Memory"}),t.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:h==null?void 0:h.map(m=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:t.jsxs("div",{className:"flex items-center gap-3",children:[m.state==="running"?t.jsx(ye,{className:"w-5 h-5 text-green-500"}):t.jsx(Ce,{className:"w-5 h-5 text-red-500"}),t.jsx("span",{className:"font-medium",children:m.name})]})}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500 dark:text-dark-muted",children:m.description}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500 dark:text-dark-muted",children:m.state==="running"?m.uptime:"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.state==="running"?t.jsxs("span",{className:Ye("inline-flex items-center gap-1",parseFloat(m.cpu)>50?"text-red-500":parseFloat(m.cpu)>20?"text-yellow-500":"text-green-500"),children:[t.jsx(Oi,{className:"w-4 h-4"}),m.cpu,"%"]}):"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.state==="running"?t.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-500 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),m.memory.toFixed(1)," MB"]}):"-"}),t.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[k1(m.name)&&t.jsx(q,{to:`/server-services/${m.name}/edit`,className:"btn btn-sm btn-secondary",title:"Configure",children:t.jsx(Ts,{className:"w-4 h-4"})}),m.state==="running"?t.jsxs(t.Fragment,{children:[t.jsx("button",{onClick:()=>o.mutate(m.name),disabled:!!s[m.name],className:"btn btn-sm btn-secondary",title:"Restart",children:s[m.name]==="restart"?t.jsx(ae,{className:"w-4 h-4 animate-spin"}):t.jsx(Fe,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{confirm(`Are you sure you want to stop ${m.name}?`)&&d.mutate(m.name)},disabled:!!s[m.name],className:"btn btn-sm bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400",title:"Stop",children:s[m.name]==="stop"?t.jsx(ae,{className:"w-4 h-4 animate-spin"}):t.jsx(fd,{className:"w-4 h-4"})})]}):t.jsx("button",{onClick:()=>c.mutate(m.name),disabled:!!s[m.name],className:"btn btn-sm btn-primary",title:"Start",children:s[m.name]==="start"?t.jsx(ae,{className:"w-4 h-4 animate-spin"}):t.jsx(fl,{className:"w-4 h-4"})})]})})]},m.name))})]})}),(!h||h.length===0)&&t.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No services found"})]})]})}const S1={nginx:{title:"NGINX",fields:[{key:"worker_processes",label:"worker_processes",type:"text"},{key:"worker_connections",label:"worker_connections",type:"text"},{key:"client_max_body_size",label:"client_max_body_size",type:"text"},{key:"send_timeout",label:"send_timeout",type:"text"},{key:"proxy_connect_timeout",label:"proxy_connect_timeout",type:"text"},{key:"proxy_send_timeout",label:"proxy_send_timeout",type:"text"},{key:"proxy_read_timeout",label:"proxy_read_timeout",type:"text"},{key:"gzip",label:"gzip",type:"text"},{key:"gzip_comp_level",label:"gzip_comp_level",type:"text"},{key:"charset",label:"charset",type:"text"}]},"php-fpm":{title:"PHP-FPM",fields:[{key:"max_execution_time",label:"max_execution_time",type:"text"},{key:"max_input_time",label:"max_input_time",type:"text"},{key:"memory_limit",label:"memory_limit",type:"text"},{key:"error_reporting",label:"error_reporting",type:"text"},{key:"display_errors",label:"display_errors",type:"text"},{key:"post_max_size",label:"post_max_size",type:"text"},{key:"upload_max_filesize",label:"upload_max_filesize",type:"text"}]},mysql:{title:"MySQL/MariaDB",fields:[{key:"max_connections",label:"max_connections",type:"text"},{key:"max_user_connections",label:"max_user_connections",type:"text"},{key:"wait_timeout",label:"wait_timeout",type:"text"},{key:"interactive_timeout",label:"interactive_timeout",type:"text"},{key:"max_allowed_packet",label:"max_allowed_packet",type:"text"}]},mariadb:{title:"MariaDB",fields:[{key:"max_connections",label:"max_connections",type:"text"},{key:"max_user_connections",label:"max_user_connections",type:"text"},{key:"wait_timeout",label:"wait_timeout",type:"text"},{key:"interactive_timeout",label:"interactive_timeout",type:"text"},{key:"max_allowed_packet",label:"max_allowed_packet",type:"text"}]}};function C1(){const{name:e}=Tt();be();const s=pe(),[r,a]=N.useState(!1),[n,l]=N.useState(""),[i,o]=N.useState({}),[c,d]=N.useState(!0),{data:u,isLoading:h,error:x,refetch:y}=Z({queryKey:["service-config",e],queryFn:async()=>(await M.get(`/api/system/server/services/${e}/config`)).data});N.useEffect(()=>{u&&(l(u.config||""),o(u.settings||{}))},[u]);const m=K({mutationFn:async()=>{await M.put(`/api/system/server/services/${e}/config`,{config:n,restart:c})},onSuccess:()=>{s.invalidateQueries(["service-config",e]),s.invalidateQueries(["server-services"]),B.success(`Configuration for ${e} saved successfully`)},onError:g=>{var v,j;B.error(((j=(v=g.response)==null?void 0:v.data)==null?void 0:j.error)||"Failed to save configuration")}}),p=K({mutationFn:async()=>{await M.post(`/api/system/server/services/${e}/restart`)},onSuccess:()=>{s.invalidateQueries(["server-services"]),B.success(`Service ${e} restarted successfully`)},onError:g=>{var v,j;B.error(((j=(v=g.response)==null?void 0:v.data)==null?void 0:j.error)||"Failed to restart service")}}),f=S1[e],b=f&&(u==null?void 0:u.type)==="basic-advanced";return h?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?t.jsxs("div",{className:"text-center py-12",children:[t.jsx(Le,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),t.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load service configuration"}),t.jsx("button",{onClick:()=>y(),className:"btn btn-primary",children:"Retry"})]}):t.jsxs("div",{className:"max-w-4xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsxs(q,{to:"/server-services",className:"btn btn-secondary",children:[t.jsx(ge,{className:"w-4 h-4 mr-2"}),"Back"]}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold",children:["Configure: ",(f==null?void 0:f.title)||e.toUpperCase()]}),(u==null?void 0:u.configPath)&&t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mt-1",children:u.configPath})]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"btn btn-secondary",children:[p.isPending?t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(Fe,{className:"w-4 h-4 mr-2"}),"Restart"]}),t.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"btn btn-primary",children:[m.isPending?t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),t.jsxs("div",{className:"card",children:[b&&!r&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(Ts,{className:"w-5 h-5"}),"Basic Options"]}),t.jsxs("button",{onClick:()=>a(!0),className:"btn btn-secondary btn-sm",children:["Advanced Options",t.jsx(hs,{className:"w-4 h-4 ml-1"})]})]}),t.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:f.fields.map(g=>t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:g.key,children:g.label}),t.jsx("input",{type:g.type,id:g.key,value:i[g.key]||"",onChange:v=>o({...i,[g.key]:v.target.value}),className:"form-input w-full"})]},g.key))})]}),(!b||r)&&t.jsxs("div",{className:"p-6",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[t.jsx(Fs,{className:"w-5 h-5"}),b?"Advanced Options":"Configuration"]}),b&&t.jsxs("button",{onClick:()=>a(!1),className:"btn btn-secondary btn-sm",children:[t.jsx(Ka,{className:"w-4 h-4 mr-1"}),"Basic Options"]})]}),(u==null?void 0:u.configPath)&&t.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-3",children:["Editing: ",u.configPath]}),t.jsx("textarea",{value:n,onChange:g=>l(g.target.value),className:"form-input w-full font-mono text-sm",rows:25,spellCheck:!1})]}),(u==null?void 0:u.optionsPath)&&(u==null?void 0:u.options)&&t.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[t.jsx(Fs,{className:"w-5 h-5"}),"Options"]}),t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-3",children:u.optionsPath}),t.jsx("textarea",{value:u.options,readOnly:!0,className:"form-input w-full font-mono text-sm bg-gray-50 dark:bg-dark-border",rows:10})]}),t.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-dark-border",children:t.jsxs("label",{className:"flex items-center gap-2",children:[t.jsx("input",{type:"checkbox",checked:c,onChange:g=>d(g.target.checked),className:"form-checkbox"}),t.jsx("span",{children:"Restart service after saving"})]})})]})]})}function P1(){const e=pe(),[s,r]=N.useState("config"),[a,n]=N.useState(!1),{data:l,isLoading:i,refetch:o}=Z({queryKey:["firewall"],queryFn:async()=>(await M.get("/api/firewall")).data}),{data:c,isLoading:d,refetch:u}=Z({queryKey:["firewall-iptables"],queryFn:async()=>(await M.get("/api/firewall/iptables")).data,enabled:s==="iptables"||s==="combined"}),{data:h,isLoading:x,refetch:y}=Z({queryKey:["firewall-combined"],queryFn:async()=>(await M.get("/api/firewall/combined")).data,enabled:s==="combined"}),m=K({mutationFn:async j=>{await M.delete(`/api/firewall/${j}`)},onSuccess:()=>{e.invalidateQueries(["firewall"]),B.success("Firewall rule deleted")},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to delete rule")}}),p=K({mutationFn:async({id:j,suspended:S})=>{S?await M.post(`/api/firewall/${j}/unsuspend`):await M.post(`/api/firewall/${j}/suspend`)},onSuccess:(j,{suspended:S})=>{e.invalidateQueries(["firewall"]),B.success(S?"Rule unsuspended":"Rule suspended")},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to toggle rule")}}),f=K({mutationFn:async()=>{await M.post("/api/firewall/update")},onSuccess:()=>{e.invalidateQueries(["firewall"]),e.invalidateQueries(["firewall-iptables"]),e.invalidateQueries(["firewall-combined"]),B.success("Firewall rules applied")},onError:j=>{var S,k;B.error(((k=(S=j.response)==null?void 0:S.data)==null?void 0:k.error)||"Failed to apply rules")}}),b=()=>{o(),s==="iptables"&&u(),s==="combined"&&y()},g=i||s==="iptables"&&d||s==="combined"&&x,v=(l==null?void 0:l.rules)||[];return t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ln,{className:"w-7 h-7"}),"Firewall Rules"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage iptables firewall rules"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:b,className:"btn btn-secondary",disabled:g,children:[t.jsx(Fe,{className:`w-4 h-4 mr-2 ${g?"animate-spin":""}`}),"Refresh"]}),t.jsxs("button",{onClick:()=>f.mutate(),className:"btn btn-secondary",disabled:f.isPending,children:[t.jsx(gd,{className:`w-4 h-4 mr-2 ${f.isPending?"animate-spin":""}`}),"Apply Rules"]}),t.jsxs(q,{to:"/firewall/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]}),t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsxs("button",{onClick:()=>r("config"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="config"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[t.jsx(el,{className:"w-4 h-4 inline mr-2"}),"Config Rules"]}),t.jsxs("button",{onClick:()=>r("iptables"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="iptables"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[t.jsx(gd,{className:"w-4 h-4 inline mr-2"}),"Live iptables"]}),t.jsxs("button",{onClick:()=>r("combined"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s==="combined"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[t.jsx(ts,{className:"w-4 h-4 inline mr-2"}),"Combined View"]})]}),t.jsxs("div",{className:"flex gap-2 mb-6",children:[t.jsxs(q,{to:"/firewall/banlist",className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[t.jsx(Tn,{className:"w-4 h-4"}),"Banned IPs"]}),t.jsxs(q,{to:"/firewall/ipset",className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[t.jsx(el,{className:"w-4 h-4"}),"IPset Lists"]})]}),g?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs(t.Fragment,{children:[s==="config"&&t.jsx(E1,{rules:v,onDelete:j=>{confirm("Are you sure you want to delete this rule?")&&m.mutate(j)},onToggleSuspend:(j,S)=>p.mutate({id:j,suspended:S})}),s==="iptables"&&c&&t.jsx(D1,{data:c,showRaw:a,onToggleRaw:()=>n(!a)}),s==="combined"&&h&&t.jsx(R1,{data:h})]})]})}function E1({rules:e,onDelete:s,onToggleSuspend:r}){return e.length===0?t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(ln,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No firewall rules"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Get started by adding your first firewall rule."}),t.jsxs(q,{to:"/firewall/add",className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]}):t.jsxs("div",{className:"card overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Protocol"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Port"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Comment"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.map(a=>t.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${a.suspended?"opacity-50":""}`,children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${a.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[a.action==="ACCEPT"?t.jsx(ye,{className:"w-3 h-3"}):t.jsx(Ce,{className:"w-3 h-3"}),a.action]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-dark-text",children:a.protocol}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:a.port||"All"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:a.ip}),t.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-dark-muted max-w-xs truncate",children:a.comment||"-"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:a.suspended?t.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 dark:text-yellow-400 text-sm",children:[t.jsx(Li,{className:"w-4 h-4"}),"Suspended"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 text-sm",children:[t.jsx(ye,{className:"w-4 h-4"}),"Active"]})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm",children:t.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t.jsx(q,{to:`/firewall/${a.id}/edit`,className:"p-1.5 text-gray-500 hover:text-primary-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:"Edit",children:t.jsx(gr,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>r(a.id,a.suspended),className:"p-1.5 text-gray-500 hover:text-yellow-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:a.suspended?"Unsuspend":"Suspend",children:a.suspended?t.jsx(fl,{className:"w-4 h-4"}):t.jsx(Li,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>s(a.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:"Delete",children:t.jsx(Ue,{className:"w-4 h-4"})})]})})]},a.id))})]}),t.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-dark-border border-t border-gray-200 dark:border-dark-border",children:t.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:[e.length," rule",e.length!==1?"s":""," configured"]})})]})}function D1({data:e,showRaw:s,onToggleRaw:r}){return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"INPUT Chain Policy:"}),t.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.policy==="DROP"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":e.policy==="ACCEPT"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:e.policy}),e.policy==="DROP"&&t.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"(Secure - Default deny)"})]}),t.jsxs("button",{onClick:r,className:"btn btn-sm btn-secondary",children:[s?t.jsx(Ls,{className:"w-4 h-4 mr-1"}):t.jsx(ts,{className:"w-4 h-4 mr-1"}),s?"Hide Raw":"Show Raw"]})]}),s&&t.jsx("div",{className:"card p-4 bg-gray-900 dark:bg-black",children:t.jsx("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto whitespace-pre",children:e.raw||"No output available"})}),e.rules&&e.rules.length>0?t.jsx("div",{className:"card overflow-hidden",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Protocol"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Source"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Port"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Packets"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Bytes"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.rules.map((a,n)=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${a.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":a.action==="DROP"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:a.action})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-dark-text",children:a.protocol.toUpperCase()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:a.source}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:a.port||"-"}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted text-right",children:parseInt(a.packets).toLocaleString()}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted text-right",children:p0(parseInt(a.bytes))})]},n))})]})}):t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(Le,{className:"w-12 h-12 mx-auto text-yellow-500 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No iptables rules found"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"Firewall may not be enabled or no rules are configured."})]})]})}function R1({data:e}){var l,i,o,c;const[s,r]=N.useState(!0),[a,n]=N.useState(!0);return t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Firewall:"}),e.firewallEnabled?t.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium",children:[t.jsx(ye,{className:"w-4 h-4"}),"Enabled"]}):t.jsxs("span",{className:"inline-flex items-center gap-1 text-red-600 dark:text-red-400 font-medium",children:[t.jsx(Ce,{className:"w-4 h-4"}),"Disabled"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Policy:"}),t.jsx("span",{className:"font-mono text-sm",children:e.policy})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Config Rules:"}),t.jsx("span",{className:"font-medium",children:((l=e.configuredRules)==null?void 0:l.length)||0})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Active Rules:"}),t.jsx("span",{className:"font-medium",children:((i=e.activeRules)==null?void 0:i.length)||0})]})]}),t.jsxs("div",{className:"card overflow-hidden",children:[t.jsxs("button",{onClick:()=>r(!s),className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark-border flex items-center justify-between hover:bg-gray-100 dark:hover:bg-dark-border/80 transition-colors",children:[t.jsxs("span",{className:"font-medium flex items-center gap-2",children:[t.jsx(el,{className:"w-4 h-4"}),"Configured Rules (HestiaCP)",t.jsxs("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:["(",((o=e.configuredRules)==null?void 0:o.length)||0,")"]})]}),s?t.jsx(Ka,{className:"w-4 h-4"}):t.jsx(hs,{className:"w-4 h-4"})]}),s&&e.configuredRules&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-dark-card",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Protocol"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Port"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"IP"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.configuredRules.map(d=>t.jsxs("tr",{className:d.suspended?"opacity-50":"",children:[t.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.id}),t.jsx("td",{className:"px-4 py-2",children:t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:d.action})}),t.jsx("td",{className:"px-4 py-2 text-sm",children:d.protocol}),t.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.port}),t.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.ip}),t.jsx("td",{className:"px-4 py-2",children:d.suspended?t.jsx("span",{className:"text-yellow-600 text-xs",children:"Suspended"}):t.jsx("span",{className:"text-green-600 text-xs",children:"Active"})})]},d.id))})]})})]}),t.jsxs("div",{className:"card overflow-hidden",children:[t.jsxs("button",{onClick:()=>n(!a),className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark-border flex items-center justify-between hover:bg-gray-100 dark:hover:bg-dark-border/80 transition-colors",children:[t.jsxs("span",{className:"font-medium flex items-center gap-2",children:[t.jsx(gd,{className:"w-4 h-4"}),"Active Rules (iptables)",t.jsxs("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:["(",((c=e.activeRules)==null?void 0:c.length)||0,")"]})]}),a?t.jsx(Ka,{className:"w-4 h-4"}):t.jsx(hs,{className:"w-4 h-4"})]}),a&&e.activeRules&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-100 dark:bg-dark-card",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Protocol"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Source"}),t.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Port"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Packets"}),t.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Bytes"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.activeRules.map((d,u)=>t.jsxs("tr",{children:[t.jsx("td",{className:"px-4 py-2",children:t.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:d.action})}),t.jsx("td",{className:"px-4 py-2 text-sm",children:d.protocol.toUpperCase()}),t.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.source}),t.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.port||"-"}),t.jsx("td",{className:"px-4 py-2 text-sm text-right",children:parseInt(d.packets).toLocaleString()}),t.jsx("td",{className:"px-4 py-2 text-sm text-right",children:p0(parseInt(d.bytes))})]},u))})]})})]})]})}function p0(e){if(e===0)return"0 B";const s=1024,r=["B","KB","MB","GB","TB"],a=Math.floor(Math.log(e)/Math.log(s));return parseFloat((e/Math.pow(s,a)).toFixed(1))+" "+r[a]}function M1(){var d;const e=be(),[s,r]=N.useState({action:"ACCEPT",protocol:"TCP",port:"",ip:"0.0.0.0/0",comment:""}),{data:a}=Z({queryKey:["firewall-ipset"],queryFn:async()=>(await M.get("/api/firewall/ipset/lists")).data}),n=((d=a==null?void 0:a.ipsets)==null?void 0:d.filter(u=>!u.suspended))||[],l=K({mutationFn:async u=>{await M.post("/api/firewall",u)},onSuccess:()=>{B.success("Firewall rule added successfully"),e("/firewall")},onError:u=>{var h,x;B.error(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to add rule")}}),i=u=>{if(u.preventDefault(),!s.port&&s.protocol!=="ICMP"){B.error("Port is required for TCP/UDP");return}if(!s.ip){B.error("IP address is required");return}l.mutate(s)},o=u=>{const{name:h,value:x}=u.target;r(y=>({...y,[h]:x}))},c=[{label:"SSH",port:"22"},{label:"HTTP",port:"80"},{label:"HTTPS",port:"443"},{label:"FTP",port:"21"},{label:"SMTP",port:"25"},{label:"SMTPS",port:"465"},{label:"MySQL",port:"3306"},{label:"PostgreSQL",port:"5432"},{label:"MongoDB",port:"27017"},{label:"Redis",port:"6379"}];return t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ln,{className:"w-7 h-7"}),"Add Firewall Rule"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new iptables firewall rule"})]})]}),t.jsxs("form",{onSubmit:i,className:"card p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Action *"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${s.action==="ACCEPT"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[t.jsx("input",{type:"radio",name:"action",value:"ACCEPT",checked:s.action==="ACCEPT",onChange:o,className:"sr-only"}),t.jsx(ye,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"ACCEPT"})]}),t.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${s.action==="DROP"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[t.jsx("input",{type:"radio",name:"action",value:"DROP",checked:s.action==="DROP",onChange:o,className:"sr-only"}),t.jsx(Ce,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"DROP"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Protocol *"}),t.jsx("div",{className:"flex gap-2",children:["TCP","UDP","ICMP"].map(u=>t.jsx("button",{type:"button",onClick:()=>r(h=>({...h,protocol:u})),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s.protocol===u?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:u},u))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:["Port ",s.protocol!=="ICMP"?"*":"(N/A for ICMP)"]}),t.jsx("input",{type:"text",name:"port",value:s.port,onChange:o,placeholder:s.protocol==="ICMP"?"Not applicable":"e.g., 80, 443, 8080-8090",disabled:s.protocol==="ICMP",className:"input w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Single port, comma-separated (80,443), or range (8080-8090). Use 0 for all ports."}),s.protocol!=="ICMP"&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map(u=>t.jsxs("button",{type:"button",onClick:()=>r(h=>({...h,port:u.port})),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-dark-card text-gray-600 dark:text-dark-muted rounded hover:bg-gray-200 dark:hover:bg-dark-border transition-colors",children:[u.label," (",u.port,")"]},u.port))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address / CIDR / IPset *"}),t.jsx("input",{type:"text",name:"ip",value:s.ip,onChange:o,placeholder:"e.g., 192.168.1.0/24 or 0.0.0.0/0",className:"input w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Use 0.0.0.0/0 for any IP. For IPset, use format: ipset:listname"}),n.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:"IPset Lists:"}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:n.map(u=>t.jsx("button",{type:"button",onClick:()=>r(h=>({...h,ip:`ipset:${u.name}`})),className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:u.name},u.name))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Comment"}),t.jsx("input",{type:"text",name:"comment",value:s.comment,onChange:o,placeholder:"Optional description",className:"input w-full"})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Eu,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:[t.jsx("p",{className:"font-medium mb-1",children:"Important:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:"Rules are processed in order by rule ID"}),t.jsx("li",{children:"ACCEPT rules allow traffic, DROP rules block traffic"}),t.jsx("li",{children:'After adding rules, click "Apply Rules" to activate them'})]})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsx(q,{to:"/firewall",className:"btn btn-secondary",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary",children:[l.isPending?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):t.jsx(St,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})}function F1(){var y;const e=be(),{id:s}=Tt(),[r,a]=N.useState({action:"ACCEPT",protocol:"TCP",port:"",ip:"",comment:""}),{data:n,isLoading:l,error:i}=Z({queryKey:["firewall-rule",s],queryFn:async()=>(await M.get(`/api/firewall/${s}`)).data}),{data:o}=Z({queryKey:["firewall-ipset"],queryFn:async()=>(await M.get("/api/firewall/ipset/lists")).data}),c=((y=o==null?void 0:o.ipsets)==null?void 0:y.filter(m=>!m.suspended))||[];N.useEffect(()=>{n&&a({action:n.action||"ACCEPT",protocol:n.protocol||"TCP",port:n.port||"",ip:n.ip||"",comment:n.comment||""})},[n]);const d=K({mutationFn:async m=>{await M.put(`/api/firewall/${s}`,m)},onSuccess:()=>{B.success("Firewall rule updated successfully"),e("/firewall")},onError:m=>{var p,f;B.error(((f=(p=m.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to update rule")}}),u=m=>{if(m.preventDefault(),!r.port&&r.protocol!=="ICMP"){B.error("Port is required for TCP/UDP");return}if(!r.ip){B.error("IP address is required");return}d.mutate(r)},h=m=>{const{name:p,value:f}=m.target;a(b=>({...b,[p]:f}))},x=[{label:"SSH",port:"22"},{label:"HTTP",port:"80"},{label:"HTTPS",port:"443"},{label:"FTP",port:"21"},{label:"SMTP",port:"25"},{label:"SMTPS",port:"465"},{label:"MySQL",port:"3306"},{label:"PostgreSQL",port:"5432"},{label:"MongoDB",port:"27017"},{label:"Redis",port:"6379"}];return l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ae,{className:"w-8 h-8 animate-spin text-primary-600"})}):i?t.jsx("div",{className:"max-w-3xl mx-auto",children:t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(Ce,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"Rule not found"}),t.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:["The firewall rule #",s," could not be found."]}),t.jsx(q,{to:"/firewall",className:"btn btn-primary",children:"Back to Firewall"})]})}):t.jsxs("div",{className:"max-w-3xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ln,{className:"w-7 h-7"}),"Edit Firewall Rule #",s]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Modify existing firewall rule"})]})]}),n&&t.jsx("div",{className:"card p-4 mb-6 bg-gray-50 dark:bg-dark-card",children:t.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted",children:"Created:"}),t.jsxs("span",{className:"ml-2 font-medium",children:[n.date," ",n.time]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted",children:"Status:"}),t.jsx("span",{className:`ml-2 font-medium ${n.suspended?"text-yellow-600":"text-green-600"}`,children:n.suspended?"Suspended":"Active"})]})]})}),t.jsxs("form",{onSubmit:u,className:"card p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Action *"}),t.jsxs("div",{className:"flex gap-4",children:[t.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.action==="ACCEPT"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[t.jsx("input",{type:"radio",name:"action",value:"ACCEPT",checked:r.action==="ACCEPT",onChange:h,className:"sr-only"}),t.jsx(ye,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"ACCEPT"})]}),t.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.action==="DROP"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[t.jsx("input",{type:"radio",name:"action",value:"DROP",checked:r.action==="DROP",onChange:h,className:"sr-only"}),t.jsx(Ce,{className:"w-5 h-5"}),t.jsx("span",{className:"font-medium",children:"DROP"})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Protocol *"}),t.jsx("div",{className:"flex gap-2",children:["TCP","UDP","ICMP"].map(m=>t.jsx("button",{type:"button",onClick:()=>a(p=>({...p,protocol:m})),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r.protocol===m?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:m},m))})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:["Port ",r.protocol!=="ICMP"?"*":"(N/A for ICMP)"]}),t.jsx("input",{type:"text",name:"port",value:r.port,onChange:h,placeholder:r.protocol==="ICMP"?"Not applicable":"e.g., 80, 443, 8080-8090",disabled:r.protocol==="ICMP",className:"input w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Single port, comma-separated (80,443), or range (8080-8090). Use 0 for all ports."}),r.protocol!=="ICMP"&&t.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:x.map(m=>t.jsxs("button",{type:"button",onClick:()=>a(p=>({...p,port:m.port})),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-dark-card text-gray-600 dark:text-dark-muted rounded hover:bg-gray-200 dark:hover:bg-dark-border transition-colors",children:[m.label," (",m.port,")"]},m.port))})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address / CIDR / IPset *"}),t.jsx("input",{type:"text",name:"ip",value:r.ip,onChange:h,placeholder:"e.g., 192.168.1.0/24 or 0.0.0.0/0",className:"input w-full"}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Use 0.0.0.0/0 for any IP. For IPset, use format: ipset:listname"}),c.length>0&&t.jsxs("div",{className:"mt-2",children:[t.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:"IPset Lists:"}),t.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.map(m=>t.jsx("button",{type:"button",onClick:()=>a(p=>({...p,ip:`ipset:${m.name}`})),className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:m.name},m.name))})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Comment"}),t.jsx("input",{type:"text",name:"comment",value:r.comment,onChange:h,placeholder:"Optional description",className:"input w-full"})]}),t.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Eu,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),t.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:[t.jsx("p",{className:"font-medium mb-1",children:"Remember:"}),t.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[t.jsx("li",{children:`Changes won't take effect until you click "Apply Rules" on the firewall page`}),t.jsx("li",{children:"Test your rules carefully to avoid locking yourself out"})]})]})]})}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsx(q,{to:"/firewall",className:"btn btn-secondary",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary",children:[d.isPending?t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}):t.jsx(St,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}function T1(){var y,m;const e=pe(),[s,r]=N.useState(!1),[a,n]=N.useState({ip:"",chain:"SSH"}),{data:l,isLoading:i,error:o,refetch:c}=Z({queryKey:["firewall-banlist"],queryFn:async()=>(await M.get("/api/firewall/banlist")).data}),d=K({mutationFn:async p=>{await M.post("/api/firewall/ban",p)},onSuccess:()=>{e.invalidateQueries(["firewall-banlist"]),B.success("IP banned successfully"),r(!1),n({ip:"",chain:"SSH"})},onError:p=>{var f,b;B.error(((b=(f=p.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to ban IP")}}),u=K({mutationFn:async({ip:p,chain:f})=>{await M.delete(`/api/firewall/ban/${encodeURIComponent(p)}/${encodeURIComponent(f)}`)},onSuccess:()=>{e.invalidateQueries(["firewall-banlist"]),B.success("IP unbanned successfully")},onError:p=>{var f,b;B.error(((b=(f=p.response)==null?void 0:f.data)==null?void 0:b.error)||"Failed to unban IP")}}),h=(l==null?void 0:l.bans)||[],x=["SSH","WEB","MAIL","FTP","DNS","HESTIA"];return t.jsxs("div",{className:"max-w-5xl mx-auto",children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsx(q,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:t.jsx(ge,{className:"w-5 h-5"})}),t.jsxs("div",{className:"flex-1",children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(Tn,{className:"w-7 h-7 text-red-500"}),"Banned IP Addresses"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"IPs blocked by Fail2Ban"})]}),t.jsxs("button",{onClick:()=>c(),className:"btn btn-secondary",disabled:i,children:[t.jsx(Fe,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),t.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Ban IP"]})]}),t.jsx("div",{className:"card p-4 mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:t.jsxs("div",{className:"flex gap-3",children:[t.jsx(Le,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),t.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:t.jsx("p",{children:"These IPs are blocked by Fail2Ban chains. Unbanning an IP will allow it to connect again. Bans may be re-applied automatically if the IP continues suspicious activity."})})]})}),i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(Le,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"Failed to load banned IPs"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:((m=(y=o.response)==null?void 0:y.data)==null?void 0:m.error)||"An error occurred"})]}):h.length===0?t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(Tn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No banned IPs"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"No IP addresses are currently banned by Fail2Ban."})]}):t.jsxs("div",{className:"card overflow-hidden",children:[t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Chain"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Banned Date"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:h.map((p,f)=>t.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-dark-text",children:p.ip})}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:t.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs font-medium rounded",children:p.chain})}),t.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted",children:[p.date," ",p.time]}),t.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:t.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to unban ${p.ip}?`)&&u.mutate({ip:p.ip,chain:p.chain})},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[t.jsx(Ue,{className:"w-4 h-4"}),"Unban"]})})]},`${p.ip}-${p.chain}-${f}`))})]}),t.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-dark-border border-t border-gray-200 dark:border-dark-border",children:t.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:[h.length," banned IP",h.length!==1?"s":""]})})]}),s&&t.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-xl shadow-xl w-full max-w-md mx-4",children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-border",children:[t.jsx("h3",{className:"text-lg font-semibold",children:"Ban IP Address"}),t.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:t.jsx(bt,{className:"w-5 h-5"})})]}),t.jsxs("form",{onSubmit:p=>{if(p.preventDefault(),!a.ip){B.error("IP address is required");return}d.mutate(a)},className:"p-4 space-y-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address *"}),t.jsx("input",{type:"text",value:a.ip,onChange:p=>n(f=>({...f,ip:p.target.value})),placeholder:"e.g., 192.168.1.100",className:"input w-full"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Chain *"}),t.jsx("select",{value:a.chain,onChange:p=>n(f=>({...f,chain:p.target.value})),className:"input w-full",children:x.map(p=>t.jsx("option",{value:p,children:p},p))}),t.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Select the service/chain to block this IP from"})]}),t.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[t.jsx("button",{type:"button",onClick:()=>r(!1),className:"btn btn-secondary",children:"Cancel"}),t.jsxs("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary bg-red-600 hover:bg-red-700",children:[d.isPending?t.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):t.jsx(Tn,{className:"w-4 h-4 mr-2"}),"Ban IP"]})]})]})]})})]})}function A1(){var S;const e=pe(),[s,r]=N.useState(!1),[a,n]=N.useState({}),{data:l,isLoading:i,error:o}=Z({queryKey:["haproxy"],queryFn:async()=>(await M.get("/api/haproxy")).data}),c=K({mutationFn:async()=>{await M.post("/api/haproxy/restart")},onSuccess:()=>{e.invalidateQueries(["haproxy"]),B.success("HAProxy restarted successfully")},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to restart HAProxy")}}),d=k=>{n(w=>({...w,[k]:!w[k]}))};if(i)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(o)return t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load HAProxy status. Please try again."});if(!(l!=null&&l.installed))return t.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[t.jsx(kn,{className:"w-20 h-20 text-gray-300 dark:text-gray-600 mb-6"}),t.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"HAProxy is not installed"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-6",children:"HAProxy load balancer is not installed on this server."}),t.jsx("button",{className:"btn btn-primary",children:"Install HAProxy"})]});const{status:u,config:h,statsInfo:x}=l,y=(h==null?void 0:h.frontends)||{},m=(h==null?void 0:h.backends)||{},p=(h==null?void 0:h.listens)||{};let f="8404",b="/stats",g="",v="";if(p.stats){const k=p.stats;if((S=k.bind)!=null&&S[0]){const w=k.bind[0].match(/:(\d+)/);w&&(f=w[1])}if(k.stats_uri&&(b=k.stats_uri),k.stats_auth){const[w,D]=k.stats_auth.split(":");g=w||"",v=D||""}}const j=`http://${window.location.hostname}:${f}${b}`;return t.jsxs("div",{children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{to:"/services",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(We,{className:"w-4 h-4 mr-1"}),"Back to Server"]}),t.jsxs(q,{to:"/haproxy/config",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(Ts,{className:"w-4 h-4 mr-1 text-orange-500"}),"Configure"]}),t.jsxs("button",{onClick:()=>c.mutate(),disabled:c.isPending,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(Fe,{className:`w-4 h-4 mr-1 text-blue-500 ${c.isPending?"animate-spin":""}`}),c.isPending?"Restarting...":"Restart"]}),t.jsxs(q,{to:"/haproxy/visualize",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(hk,{className:"w-4 h-4 mr-1 text-purple-500"}),"Visualize"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{to:"/haproxy/frontend/add",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(et,{className:"w-4 h-4 mr-1 text-green-500"}),"Add Frontend"]}),t.jsxs(q,{to:"/haproxy/backend/add",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(We,{className:"w-4 h-4 mr-1 text-blue-500"}),"Add Backend"]})]})]}),t.jsx("div",{className:"card mb-6",children:t.jsxs("div",{className:"p-6 flex items-start gap-6",children:[t.jsx("div",{className:`p-4 rounded-xl ${(u==null?void 0:u.STATUS)==="running"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:t.jsx(kn,{className:`w-10 h-10 ${(u==null?void 0:u.STATUS)==="running"?"text-green-600":"text-red-600"}`})}),t.jsxs("div",{className:"flex-1",children:[t.jsx("h1",{className:"text-2xl font-bold mb-4",children:"HAProxy Load Balancer"}),t.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Status"}),t.jsxs("span",{className:`font-medium flex items-center gap-1 ${(u==null?void 0:u.STATUS)==="running"?"text-green-600":"text-red-600"}`,children:[t.jsx(Zr,{className:"w-4 h-4"}),(u==null?void 0:u.STATUS)==="running"?"Running":"Stopped"]})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Version"}),t.jsx("span",{className:"font-medium",children:(u==null?void 0:u.VERSION)||"Unknown"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Config File"}),t.jsx("span",{className:"font-medium text-sm",children:"/etc/haproxy/haproxy.cfg"})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Frontends"}),t.jsx("span",{className:"font-medium",children:Object.keys(y).length})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Backends"}),t.jsx("span",{className:"font-medium",children:Object.keys(m).length})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Listen Sections"}),t.jsx("span",{className:"font-medium",children:Object.keys(p).length})]})]})]})]})}),p.stats&&t.jsxs("div",{className:"card mb-6 border-purple-200 dark:border-purple-800 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20",children:[t.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-purple-200 dark:border-purple-800",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(an,{className:"w-5 h-5 text-purple-600"}),"Stats Dashboard"]}),t.jsxs("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Open Stats"]})]}),t.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"URL"}),t.jsx("a",{href:j,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline text-sm break-all",children:j})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Port"}),t.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:f})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Username"}),t.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:g})]}),t.jsxs("div",{children:[t.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Password"}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:s?v:"".repeat(v.length||8)}),t.jsx("button",{onClick:()=>r(!s),className:"p-1 hover:bg-purple-200 dark:hover:bg-purple-800 rounded",children:s?t.jsx(Ls,{className:"w-4 h-4"}):t.jsx(ts,{className:"w-4 h-4"})})]})]})]})]}),t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[t.jsx(et,{className:"w-5 h-5 text-blue-500"}),t.jsx("h2",{className:"font-semibold",children:"Frontends"})]}),Object.keys(y).length===0?t.jsx("p",{className:"text-gray-500 dark:text-dark-muted italic",children:"No frontends configured"}):t.jsx("div",{className:"space-y-3",children:Object.entries(y).map(([k,w])=>{var D,O,C,P;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[t.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[t.jsx(et,{className:"w-4 h-4 text-blue-500"}),k]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:t.jsx(Wo,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:t.jsx(Ue,{className:"w-4 h-4 text-red-500"})})]})]}),t.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Bind"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:(D=w.bind)==null?void 0:D.map((R,I)=>t.jsx("code",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:R},I))})]}),w.mode&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),t.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:w.mode})]}),w.default_backend&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Default Backend"}),t.jsx("code",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs",children:w.default_backend})]}),((O=w.use_backends)==null?void 0:O.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Routing"}),t.jsx("div",{className:"space-y-1",children:w.use_backends.map((R,I)=>t.jsxs("div",{className:"text-xs",children:[t.jsx("code",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded",children:R.backend}),R.condition&&t.jsxs("span",{className:"ml-2 text-gray-500",children:["if ",R.condition]})]},I))})]}),((C=w.options)==null?void 0:C.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Options"}),t.jsxs("button",{onClick:()=>d(`frontend_${k}`),className:"text-primary-600 hover:underline flex items-center gap-1 text-xs",children:[a[`frontend_${k}`]?t.jsx(hs,{className:"w-3 h-3"}):t.jsx(Qa,{className:"w-3 h-3"}),w.options.length," option(s)"]})]}),a[`frontend_${k}`]&&((P=w.options)==null?void 0:P.length)>0&&t.jsx("pre",{className:"mt-2 p-2 bg-gray-900 text-gray-100 rounded text-xs overflow-x-auto",children:w.options.join(`
`)})]})]},k)})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[t.jsx(We,{className:"w-5 h-5 text-green-500"}),t.jsx("h2",{className:"font-semibold",children:"Backends"})]}),Object.keys(m).length===0?t.jsx("p",{className:"text-gray-500 dark:text-dark-muted italic",children:"No backends configured"}):t.jsx("div",{className:"space-y-3",children:Object.entries(m).map(([k,w])=>{var D,O,C;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[t.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[t.jsx(We,{className:"w-4 h-4 text-green-500"}),k]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:t.jsx(Wo,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:t.jsx(Ue,{className:"w-4 h-4 text-red-500"})})]})]}),t.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[w.mode&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),t.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:w.mode})]}),w.balance&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Balance"}),t.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:w.balance})]}),((D=w.servers)==null?void 0:D.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Servers"}),t.jsx("div",{className:"space-y-1",children:w.servers.map((P,R)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs flex items-center gap-1",children:[t.jsx(We,{className:"w-3 h-3"}),P.name,": ",P.address]}),P.options&&t.jsx("span",{className:"text-xs text-gray-500",children:P.options})]},R))})]}),((O=w.options)==null?void 0:O.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Options"}),t.jsxs("button",{onClick:()=>d(`backend_${k}`),className:"text-primary-600 hover:underline flex items-center gap-1 text-xs",children:[a[`backend_${k}`]?t.jsx(hs,{className:"w-3 h-3"}):t.jsx(Qa,{className:"w-3 h-3"}),w.options.length," option(s)"]})]}),a[`backend_${k}`]&&((C=w.options)==null?void 0:C.length)>0&&t.jsx("pre",{className:"mt-2 p-2 bg-gray-900 text-gray-100 rounded text-xs overflow-x-auto",children:w.options.join(`
`)})]})]},k)})})]})]}),Object.keys(p).filter(k=>k!=="stats").length>0&&t.jsxs("div",{className:"mt-6",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[t.jsx(kn,{className:"w-5 h-5 text-orange-500"}),t.jsx("h2",{className:"font-semibold",children:"Listen Sections"})]}),t.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Object.entries(p).filter(([k])=>k!=="stats").map(([k,w])=>{var D,O;return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[t.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[t.jsx(kn,{className:"w-4 h-4 text-orange-500"}),k]}),t.jsxs("div",{className:"flex items-center gap-1",children:[t.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:t.jsx(Wo,{className:"w-4 h-4 text-gray-500"})}),t.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:t.jsx(Ue,{className:"w-4 h-4 text-red-500"})})]})]}),t.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[((D=w.bind)==null?void 0:D.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Bind"}),t.jsx("div",{className:"flex flex-wrap gap-1",children:w.bind.map((C,P)=>t.jsx("code",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded text-xs",children:C},P))})]}),w.mode&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),t.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:w.mode})]}),((O=w.servers)==null?void 0:O.length)>0&&t.jsxs("div",{className:"flex gap-3",children:[t.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Servers"}),t.jsx("div",{className:"space-y-1",children:w.servers.map((C,P)=>t.jsxs("code",{className:"block px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:[C.name,": ",C.address]},P))})]})]})]},k)})})]}),t.jsxs("div",{className:"mt-6 text-sm text-gray-500 dark:text-dark-muted",children:[Object.keys(y).length," frontend(s), ",Object.keys(m).length," backend(s), ",Object.keys(p).length," listen section(s)"]})]})}function O1(){var w,D,O;const e=N.useRef(null),s=N.useRef(null),[r,a]=N.useState(1),[n,l]=N.useState({x:0,y:0}),[i,o]=N.useState(!0),[c,d]=N.useState(!1),[u,h]=N.useState({x:0,y:0}),{data:x,isLoading:y,error:m}=Z({queryKey:["haproxy-visualize"],queryFn:async()=>{const[C,P]=await Promise.all([M.get("/api/haproxy/visualize"),M.get("/api/haproxy/user-backends").catch(()=>({data:[]}))]),R=C.data;return(P.data||[]).forEach((G,J)=>{const X=G.domain.replace(/\./g,"_").replace(/-/g,"_"),A=`user_backend_${J}`;R.nodes.push({id:A,type:"user_backend",label:G.domain,user:G.user,host:G.host,port:G.port,backendType:G.type});const F=R.nodes.find(L=>L.type==="backend"&&L.label.includes(X));F&&R.edges.push({from:F.id,to:A,type:"user_backend"})}),R}}),p=N.useCallback((C,P)=>{const R={},X=C.filter(te=>te.type==="frontend"),A=C.filter(te=>te.type==="backend"),F=C.filter(te=>te.type==="server"),L=C.filter(te=>te.type==="listen"),W=C.filter(te=>te.type==="user_backend");X.forEach((te,de)=>{R[te.id]={x:80,y:80+de*100}}),A.forEach((te,de)=>{R[te.id]={x:280,y:80+de*100}});let Y=80;A.forEach(te=>{const de=F.filter(me=>P.some(fe=>fe.from===`backend_${te.label}`&&fe.to===me.id));de.forEach((me,fe)=>{R[me.id]={x:80+200*2,y:Y},Y+=80}),de.length>0&&(Y+=20)});let _=80;W.forEach((te,de)=>{R[te.id]={x:80+200*3,y:_},_+=80});const ie=Math.max(X.length*100,A.length*100,Y)+80;return L.forEach((te,de)=>{R[te.id]={x:80,y:ie+de*100},F.filter(fe=>P.some(Ge=>Ge.from===`listen_${te.label}`&&Ge.to===fe.id)).forEach((fe,Ge)=>{R[fe.id]={x:280,y:ie+de*100+Ge*80}})}),R},[]),f=N.useCallback(()=>{if(!e.current||!x)return;const C=e.current,P=C.getContext("2d"),{nodes:R,edges:I}=x,G=s.current;G&&(C.width=G.clientWidth,C.height=G.clientHeight),P.fillStyle="#f9fafb",P.fillRect(0,0,C.width,C.height),P.save(),P.translate(n.x,n.y),P.scale(r,r);const J=p(R,I),X=180,A=60;I.forEach(F=>{const L=J[F.from],W=J[F.to];if(!L||!W)return;const Y=L.x+X,_=L.y+A/2,ie=W.x,te=W.y+A/2;P.beginPath(),P.moveTo(Y,_);const de=(Y+ie)/2;P.bezierCurveTo(de,_,de,te,ie,te),F.type==="default"?(P.strokeStyle="#22c55e",P.setLineDash([]),P.lineWidth=2):F.type==="conditional"?(P.strokeStyle="#f97316",P.setLineDash([5,3]),P.lineWidth=2):F.type==="user_backend"?(P.strokeStyle="#a855f7",P.setLineDash([3,2]),P.lineWidth=2):(P.strokeStyle="#94a3b8",P.setLineDash([]),P.lineWidth=1),P.stroke();const me=Math.atan2(te-_,ie-de),fe=8;if(P.beginPath(),P.moveTo(ie,te),P.lineTo(ie-fe*Math.cos(me-Math.PI/6),te-fe*Math.sin(me-Math.PI/6)),P.lineTo(ie-fe*Math.cos(me+Math.PI/6),te-fe*Math.sin(me+Math.PI/6)),P.closePath(),P.fillStyle=P.strokeStyle,P.fill(),i&&F.label&&F.type==="conditional"){P.font="10px system-ui",P.fillStyle="#6b7280",P.textAlign="center";const Ge=(Y+ie)/2,At=(_+te)/2-10;P.fillText(F.label,Ge,At)}}),R.forEach(F=>{var te;const L=J[F.id];if(!L)return;let W,Y,_;switch(F.type){case"frontend":W="#dbeafe",Y="#3b82f6",_="#1d4ed8";break;case"backend":W="#dcfce7",Y="#22c55e",_="#15803d";break;case"server":W="#f3f4f6",Y="#9ca3af",_="#374151";break;case"listen":W="#ffedd5",Y="#f97316",_="#c2410c";break;case"user_backend":W="#fae8ff",Y="#a855f7",_="#7e22ce";break;default:W="#f3f4f6",Y="#9ca3af",_="#374151"}P.fillStyle=W,P.strokeStyle=Y,P.lineWidth=2,P.setLineDash([]);const ie=8;P.beginPath(),P.moveTo(L.x+ie,L.y),P.lineTo(L.x+X-ie,L.y),P.quadraticCurveTo(L.x+X,L.y,L.x+X,L.y+ie),P.lineTo(L.x+X,L.y+A-ie),P.quadraticCurveTo(L.x+X,L.y+A,L.x+X-ie,L.y+A),P.lineTo(L.x+ie,L.y+A),P.quadraticCurveTo(L.x,L.y+A,L.x,L.y+A-ie),P.lineTo(L.x,L.y+ie),P.quadraticCurveTo(L.x,L.y,L.x+ie,L.y),P.closePath(),P.fill(),P.stroke(),P.font="bold 9px system-ui",P.fillStyle=Y,P.textAlign="left",P.fillText(F.type.toUpperCase(),L.x+10,L.y+16),P.font="bold 12px system-ui",P.fillStyle=_,P.fillText(F.label,L.x+10,L.y+34),P.font="10px system-ui",P.fillStyle="#6b7280",F.type==="server"&&F.address?P.fillText(F.address,L.x+10,L.y+50):F.type==="user_backend"?P.fillText(`${F.user}  ${F.host}:${F.port}`,L.x+10,L.y+50):((te=F.bind)==null?void 0:te.length)>0?P.fillText(F.bind[0],L.x+10,L.y+50):F.balance&&P.fillText(`balance: ${F.balance}`,L.x+10,L.y+50)}),P.restore()},[x,r,n,i,p]);N.useEffect(()=>{f()},[f]);const b=C=>{d(!0),h({x:C.clientX-n.x,y:C.clientY-n.y})},g=C=>{c&&l({x:C.clientX-u.x,y:C.clientY-u.y})},v=()=>{d(!1)},j=()=>a(C=>Math.min(C*1.2,3)),S=()=>a(C=>Math.max(C/1.2,.3)),k=()=>{a(1),l({x:0,y:0})};return y?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):m?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load visualization data. Please try again."}):t.jsxs("div",{className:"h-[calc(100vh-180px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs(q,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]})}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>o(!i),className:`btn btn-secondary px-3 py-1.5 text-sm ${i?"bg-primary-100 dark:bg-primary-900/30":""}`,children:[i?t.jsx(Sk,{className:"w-4 h-4 mr-1"}):t.jsx(Ck,{className:"w-4 h-4 mr-1"}),"Labels"]}),t.jsx("button",{onClick:S,className:"btn btn-secondary px-3 py-1.5 text-sm",children:t.jsx(Mk,{className:"w-4 h-4"})}),t.jsxs("span",{className:"text-sm text-gray-500 w-16 text-center",children:[Math.round(r*100),"%"]}),t.jsx("button",{onClick:j,className:"btn btn-secondary px-3 py-1.5 text-sm",children:t.jsx(Rk,{className:"w-4 h-4"})}),t.jsxs("button",{onClick:k,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(gk,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]}),t.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-sm",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded bg-blue-200 border-2 border-blue-500"}),t.jsx("span",{children:"Frontend"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded bg-green-200 border-2 border-green-500"}),t.jsx("span",{children:"Backend"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded bg-gray-200 border-2 border-gray-400"}),t.jsx("span",{children:"Server"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded bg-orange-200 border-2 border-orange-500"}),t.jsx("span",{children:"Listen"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-4 h-4 rounded bg-purple-200 border-2 border-purple-500"}),t.jsx("span",{children:"User Domain"})]}),t.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[t.jsx("div",{className:"w-8 h-0.5 bg-green-500"}),t.jsx("span",{children:"Default route"})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-8 h-0.5 bg-orange-500 border-dashed",style:{borderStyle:"dashed"}}),t.jsx("span",{children:"Conditional route"})]})]}),t.jsx("div",{ref:s,className:"flex-1 card overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:b,onMouseMove:g,onMouseUp:v,onMouseLeave:v,children:t.jsx("canvas",{ref:e,className:"w-full h-full"})}),t.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[((w=x==null?void 0:x.nodes)==null?void 0:w.filter(C=>C.type==="frontend").length)||0," frontend(s),"," ",((D=x==null?void 0:x.nodes)==null?void 0:D.filter(C=>C.type==="backend").length)||0," backend(s),"," ",((O=x==null?void 0:x.nodes)==null?void 0:O.filter(C=>C.type==="server").length)||0," server(s)"," "," Drag to pan, use buttons to zoom"]})]})}function L1(){be();const e=pe(),[s,r]=N.useState(""),[a,n]=N.useState(!1),[l,i]=N.useState(null),{data:o,isLoading:c,error:d}=Z({queryKey:["haproxy-config-raw"],queryFn:async()=>(await M.get("/api/haproxy/config/raw")).data});N.useEffect(()=>{o!=null&&o.config&&r(o.config)},[o]);const u=K({mutationFn:async f=>(await M.put("/api/haproxy/config/raw",{config:f})).data,onSuccess:f=>{e.invalidateQueries(["haproxy"]),e.invalidateQueries(["haproxy-config-raw"]),n(!1),f.restarted?B.success("Configuration saved and HAProxy restarted"):B.success("Configuration saved")},onError:f=>{var b,g;B.error(((g=(b=f.response)==null?void 0:b.data)==null?void 0:g.error)||"Failed to save configuration")}}),h=K({mutationFn:async f=>(await M.post("/api/haproxy/config/validate",{config:f})).data,onSuccess:f=>{i(f),f.valid?B.success("Configuration is valid"):B.error("Configuration has errors")},onError:f=>{var b,g;B.error(((g=(b=f.response)==null?void 0:b.data)==null?void 0:g.error)||"Validation failed")}}),x=f=>{r(f.target.value),n(!0),i(null)},y=()=>{u.mutate(s)},m=()=>{h.mutate(s)},p=()=>{o!=null&&o.config&&(r(o.config),n(!1),i(null))};return c?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d?t.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load configuration. Please try again."}):t.jsxs("div",{className:"h-[calc(100vh-180px)] flex flex-col",children:[t.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs(q,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsx(Fs,{className:"w-5 h-5"}),"HAProxy Configuration"]})]}),t.jsxs("div",{className:"flex items-center gap-2",children:[a&&t.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[t.jsx(Ha,{className:"w-4 h-4"}),"Unsaved changes"]}),t.jsxs("button",{onClick:p,disabled:!a,className:"btn btn-secondary px-3 py-1.5 text-sm disabled:opacity-50",children:[t.jsx(bt,{className:"w-4 h-4 mr-1"}),"Reset"]}),t.jsxs("button",{onClick:m,disabled:h.isPending,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(Ai,{className:`w-4 h-4 mr-1 ${h.isPending?"animate-pulse":""}`}),h.isPending?"Validating...":"Validate"]}),t.jsxs("button",{onClick:y,disabled:!a||u.isPending,className:"btn btn-primary px-3 py-1.5 text-sm disabled:opacity-50",children:[t.jsx(St,{className:`w-4 h-4 mr-1 ${u.isPending?"animate-spin":""}`}),u.isPending?"Saving...":"Save & Restart"]})]})]}),l&&t.jsxs("div",{className:`mb-4 p-3 rounded-lg ${l.valid?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:[t.jsx("div",{className:"flex items-center gap-2 font-medium",children:l.valid?t.jsxs(t.Fragment,{children:[t.jsx(Ai,{className:"w-5 h-5"}),"Configuration is valid"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ha,{className:"w-5 h-5"}),"Configuration has errors"]})}),l.output&&t.jsx("pre",{className:"mt-2 text-sm whitespace-pre-wrap font-mono",children:l.output})]}),t.jsxs("div",{className:"flex-1 card overflow-hidden",children:[t.jsxs("div",{className:"p-2 bg-gray-100 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border flex items-center gap-2 text-sm text-gray-500 dark:text-dark-muted",children:[t.jsx(Fs,{className:"w-4 h-4"}),"/etc/haproxy/haproxy.cfg"]}),t.jsx("textarea",{value:s,onChange:x,className:"w-full h-full p-4 font-mono text-sm bg-gray-900 text-gray-100 resize-none focus:outline-none",spellCheck:!1,style:{minHeight:"calc(100% - 40px)"}})]}),t.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-dark-muted",children:["Line count: ",s.split(`
`).length,"  Size: ",(new Blob([s]).size/1024).toFixed(2)," KB"]})]})}function _1(){const e=be(),s=pe(),[r,a]=N.useState({name:"",bind:["*:80"],mode:"http",default_backend:"",options:[],acls:[],use_backends:[]}),[n,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState({name:"",condition:""}),[u,h]=N.useState({backend:"",condition:""}),x=K({mutationFn:async k=>(await M.post("/api/haproxy/frontend",k)).data,onSuccess:()=>{s.invalidateQueries(["haproxy"]),B.success("Frontend added successfully"),e("/haproxy")},onError:k=>{var w,D;B.error(((D=(w=k.response)==null?void 0:w.data)==null?void 0:D.error)||"Failed to add frontend")}}),y=k=>{if(k.preventDefault(),!r.name.trim()){B.error("Frontend name is required");return}if(r.bind.length===0){B.error("At least one bind address is required");return}x.mutate(r)},m=()=>{n.trim()&&!r.bind.includes(n.trim())&&(a(k=>({...k,bind:[...k.bind,n.trim()]})),l(""))},p=k=>{a(w=>({...w,bind:w.bind.filter((D,O)=>O!==k)}))},f=()=>{i.trim()&&!r.options.includes(i.trim())&&(a(k=>({...k,options:[...k.options,i.trim()]})),o(""))},b=k=>{a(w=>({...w,options:w.options.filter((D,O)=>O!==k)}))},g=()=>{c.name.trim()&&c.condition.trim()&&(a(k=>({...k,acls:[...k.acls,{...c}]})),d({name:"",condition:""}))},v=k=>{a(w=>({...w,acls:w.acls.filter((D,O)=>O!==k)}))},j=()=>{u.backend.trim()&&(a(k=>({...k,use_backends:[...k.use_backends,{...u}]})),h({backend:"",condition:""}))},S=k=>{a(w=>({...w,use_backends:w.use_backends.filter((D,O)=>O!==k)}))};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsxs(q,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsx(et,{className:"w-5 h-5 text-blue-500"}),"Add Frontend"]})]}),t.jsx("form",{onSubmit:y,className:"max-w-3xl",children:t.jsxs("div",{className:"card p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Frontend Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:r.name,onChange:k=>a(w=>({...w,name:k.target.value})),className:"input w-full",placeholder:"e.g., http_front, api_frontend",required:!0})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Bind Addresses ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.bind.map((k,w)=>t.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[k,t.jsx("button",{type:"button",onClick:()=>p(w),className:"hover:text-red-500",children:t.jsx(bt,{className:"w-3 h-3"})})]},w))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:n,onChange:k=>l(k.target.value),className:"input flex-1",placeholder:"e.g., *:80, 0.0.0.0:8080, :443 ssl crt /path/to/cert.pem",onKeyDown:k=>k.key==="Enter"&&(k.preventDefault(),m())}),t.jsx("button",{type:"button",onClick:m,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),t.jsxs("select",{value:r.mode,onChange:k=>a(w=>({...w,mode:k.target.value})),className:"input w-full",children:[t.jsx("option",{value:"http",children:"HTTP"}),t.jsx("option",{value:"tcp",children:"TCP"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Backend"}),t.jsx("input",{type:"text",value:r.default_backend,onChange:k=>a(w=>({...w,default_backend:k.target.value})),className:"input w-full",placeholder:"e.g., web_backend"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if using only conditional routing"})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"ACL Rules"}),r.acls.length>0&&t.jsx("div",{className:"space-y-2 mb-2",children:r.acls.map((k,w)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm",children:[t.jsx("span",{className:"font-medium",children:k.name}),t.jsx("span",{className:"text-gray-500",children:k.condition}),t.jsx("button",{type:"button",onClick:()=>v(w),className:"ml-auto text-red-500 hover:text-red-600",children:t.jsx(bt,{className:"w-4 h-4"})})]},w))}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"text",value:c.name,onChange:k=>d(w=>({...w,name:k.target.value})),className:"input",placeholder:"ACL name (e.g., is_api)"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:c.condition,onChange:k=>d(w=>({...w,condition:k.target.value})),className:"input flex-1",placeholder:"Condition (e.g., path_beg /api)"}),t.jsx("button",{type:"button",onClick:g,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Routing Rules (use_backend)"}),r.use_backends.length>0&&t.jsx("div",{className:"space-y-2 mb-2",children:r.use_backends.map((k,w)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-900/20 rounded text-sm",children:[t.jsx("span",{className:"font-medium text-orange-700 dark:text-orange-300",children:k.backend}),k.condition&&t.jsxs("span",{className:"text-gray-500",children:["if ",k.condition]}),t.jsx("button",{type:"button",onClick:()=>S(w),className:"ml-auto text-red-500 hover:text-red-600",children:t.jsx(bt,{className:"w-4 h-4"})})]},w))}),t.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[t.jsx("input",{type:"text",value:u.backend,onChange:k=>h(w=>({...w,backend:k.target.value})),className:"input",placeholder:"Backend name"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:u.condition,onChange:k=>h(w=>({...w,condition:k.target.value})),className:"input flex-1",placeholder:"Condition (e.g., is_api)"}),t.jsx("button",{type:"button",onClick:j,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Options"}),r.options.length>0&&t.jsx("div",{className:"space-y-1 mb-2",children:r.options.map((k,w)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm font-mono",children:[k,t.jsx("button",{type:"button",onClick:()=>b(w),className:"ml-auto text-red-500 hover:text-red-600",children:t.jsx(bt,{className:"w-4 h-4"})})]},w))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:i,onChange:k=>o(k.target.value),className:"input flex-1 font-mono",placeholder:"e.g., option forwardfor, http-request set-header X-Custom value",onKeyDown:k=>k.key==="Enter"&&(k.preventDefault(),f())}),t.jsx("button",{type:"button",onClick:f,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("button",{type:"submit",disabled:x.isPending,className:"btn btn-primary",children:[t.jsx(St,{className:`w-4 h-4 mr-2 ${x.isPending?"animate-spin":""}`}),x.isPending?"Adding...":"Add Frontend"]}),t.jsx(q,{to:"/haproxy",className:"btn btn-secondary",children:"Cancel"})]})]})})]})}function I1(){const e=be(),s=pe(),[r,a]=N.useState({name:"",mode:"http",balance:"roundrobin",servers:[],options:[],health_check:!0}),[n,l]=N.useState({name:"",address:"",port:"",options:""}),[i,o]=N.useState(""),c=K({mutationFn:async m=>(await M.post("/api/haproxy/backend",m)).data,onSuccess:()=>{s.invalidateQueries(["haproxy"]),B.success("Backend added successfully"),e("/haproxy")},onError:m=>{var p,f;B.error(((f=(p=m.response)==null?void 0:p.data)==null?void 0:f.error)||"Failed to add backend")}}),d=m=>{if(m.preventDefault(),!r.name.trim()){B.error("Backend name is required");return}if(r.servers.length===0){B.error("At least one server is required");return}c.mutate(r)},u=()=>{if(n.name.trim()&&n.address.trim()&&n.port.trim()){const m=`${n.address}:${n.port}`;a(p=>({...p,servers:[...p.servers,{name:n.name.trim(),address:m,options:n.options.trim()}]})),l({name:"",address:"",port:"",options:""})}},h=m=>{a(p=>({...p,servers:p.servers.filter((f,b)=>b!==m)}))},x=()=>{i.trim()&&!r.options.includes(i.trim())&&(a(m=>({...m,options:[...m.options,i.trim()]})),o(""))},y=m=>{a(p=>({...p,options:p.options.filter((f,b)=>b!==m)}))};return t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[t.jsxs(q,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[t.jsx(ge,{className:"w-4 h-4 mr-1"}),"Back"]}),t.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[t.jsx(We,{className:"w-5 h-5 text-green-500"}),"Add Backend"]})]}),t.jsx("form",{onSubmit:d,className:"max-w-3xl",children:t.jsxs("div",{className:"card p-6 space-y-6",children:[t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Backend Name ",t.jsx("span",{className:"text-red-500",children:"*"})]}),t.jsx("input",{type:"text",value:r.name,onChange:m=>a(p=>({...p,name:m.target.value})),className:"input w-full",placeholder:"e.g., web_backend, api_servers",required:!0})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),t.jsxs("select",{value:r.mode,onChange:m=>a(p=>({...p,mode:m.target.value})),className:"input w-full",children:[t.jsx("option",{value:"http",children:"HTTP"}),t.jsx("option",{value:"tcp",children:"TCP"})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Balance Method"}),t.jsxs("select",{value:r.balance,onChange:m=>a(p=>({...p,balance:m.target.value})),className:"input w-full",children:[t.jsx("option",{value:"roundrobin",children:"Round Robin"}),t.jsx("option",{value:"leastconn",children:"Least Connections"}),t.jsx("option",{value:"source",children:"Source IP"}),t.jsx("option",{value:"uri",children:"URI Hash"}),t.jsx("option",{value:"first",children:"First Available"}),t.jsx("option",{value:"random",children:"Random"})]})]})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[t.jsx("input",{type:"checkbox",checked:r.health_check,onChange:m=>a(p=>({...p,health_check:m.target.checked})),className:"w-4 h-4 rounded border-gray-300"}),t.jsx("span",{className:"text-sm font-medium",children:"Enable Health Check"})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically check server health and remove failed servers"})]}),t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Servers ",t.jsx("span",{className:"text-red-500",children:"*"})]}),r.servers.length>0&&t.jsx("div",{className:"space-y-2 mb-3",children:r.servers.map((m,p)=>t.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded",children:[t.jsx(We,{className:"w-4 h-4 text-green-500"}),t.jsxs("div",{className:"flex-1",children:[t.jsx("span",{className:"font-medium",children:m.name}),t.jsx("span",{className:"text-gray-500 ml-2",children:m.address}),m.options&&t.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",m.options,")"]})]}),t.jsx("button",{type:"button",onClick:()=>h(p),className:"text-red-500 hover:text-red-600",children:t.jsx(bt,{className:"w-4 h-4"})})]},p))}),t.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[t.jsx("input",{type:"text",value:n.name,onChange:m=>l(p=>({...p,name:m.target.value})),className:"input",placeholder:"Server name"}),t.jsx("input",{type:"text",value:n.address,onChange:m=>l(p=>({...p,address:m.target.value})),className:"input",placeholder:"Address (IP/hostname)"}),t.jsx("input",{type:"text",value:n.port,onChange:m=>l(p=>({...p,port:m.target.value})),className:"input",placeholder:"Port"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:n.options,onChange:m=>l(p=>({...p,options:m.target.value})),className:"input flex-1",placeholder:"Options"}),t.jsx("button",{type:"button",onClick:u,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Options: weight 1, backup, check, etc."})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Options"}),r.options.length>0&&t.jsx("div",{className:"space-y-1 mb-2",children:r.options.map((m,p)=>t.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm font-mono",children:[m,t.jsx("button",{type:"button",onClick:()=>y(p),className:"ml-auto text-red-500 hover:text-red-600",children:t.jsx(bt,{className:"w-4 h-4"})})]},p))}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),className:"input flex-1 font-mono",placeholder:"e.g., option httpchk GET /, cookie SERVERID insert",onKeyDown:m=>m.key==="Enter"&&(m.preventDefault(),x())}),t.jsx("button",{type:"button",onClick:x,className:"btn btn-secondary px-3",children:t.jsx(we,{className:"w-4 h-4"})})]})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),t.jsxs("div",{className:"flex flex-wrap gap-2",children:[t.jsx("button",{type:"button",onClick:()=>a(m=>({...m,options:[...m.options.filter(p=>!p.includes("httpchk")),"option httpchk GET /","http-check expect status 200-499"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"HTTP Health Check"}),t.jsx("button",{type:"button",onClick:()=>a(m=>({...m,options:[...m.options.filter(p=>!p.includes("cookie")),"cookie SERVERID insert indirect nocache"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Sticky Sessions (Cookie)"}),t.jsx("button",{type:"button",onClick:()=>a(m=>({...m,options:[...m.options.filter(p=>!p.includes("forwardfor")),"option forwardfor","http-request set-header X-Real-IP %[src]"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Forward Headers"}),t.jsx("button",{type:"button",onClick:()=>a(m=>({...m,options:[...m.options.filter(p=>!p.includes("timeout")),"timeout connect 10s","timeout server 30s"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Custom Timeouts"})]})]}),t.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsxs("button",{type:"submit",disabled:c.isPending,className:"btn btn-primary",children:[t.jsx(St,{className:`w-4 h-4 mr-2 ${c.isPending?"animate-spin":""}`}),c.isPending?"Adding...":"Add Backend"]}),t.jsx(q,{to:"/haproxy",className:"btn btn-secondary",children:"Cancel"})]})]})})]})}function U1(){const e=pe(),[s,r]=N.useState(!1),[a,n]=N.useState(null),{data:l,isLoading:i}=Z({queryKey:["rclone-remotes"],queryFn:async()=>(await M.get("/api/rclone/remotes")).data}),{data:o}=Z({queryKey:["rclone-providers"],queryFn:async()=>(await M.get("/api/rclone/providers")).data}),c=K({mutationFn:async x=>{await M.delete(`/api/rclone/remote/${x}`)},onSuccess:()=>{e.invalidateQueries(["rclone-remotes"]),n(null)}}),d=K({mutationFn:async x=>(await M.post(`/api/rclone/remote/${x}/test`)).data,onSuccess:()=>{e.invalidateQueries(["rclone-remotes"])}}),u=(l==null?void 0:l.remotes)||[],h=(o==null?void 0:o.providers)||[];return i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-3 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:t.jsx(Fr,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),t.jsxs("div",{children:[t.jsx("h1",{className:"text-2xl font-bold",children:"Cloud Storage (Rclone)"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Configure cloud storage remotes for backups"})]})]}),t.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Remote"]})]}),t.jsx("div",{className:"card",children:u.length===0?t.jsxs("div",{className:"p-8 text-center",children:[t.jsx(Fr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Cloud Remotes Configured"}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Add a cloud storage remote to enable backup to Google Drive, S3, Dropbox, and more."}),t.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[t.jsx(we,{className:"w-4 h-4 mr-2"}),"Add Your First Remote"]})]}):t.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:u.map(x=>t.jsxs("div",{className:"p-4 flex items-center justify-between",children:[t.jsxs("div",{className:"flex items-center gap-4",children:[t.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-dark-border",children:ai(x.type)}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:x.name}),t.jsx("div",{className:"text-sm text-gray-500 dark:text-dark-muted",children:B1(x.type)})]})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsx("span",{className:`flex items-center gap-1 text-sm ${x.connected?"text-green-600":"text-red-600"}`,children:x.connected?t.jsxs(t.Fragment,{children:[t.jsx(ye,{className:"w-4 h-4"}),"Connected"]}):t.jsxs(t.Fragment,{children:[t.jsx(Ce,{className:"w-4 h-4"}),"Disconnected"]})}),t.jsx("button",{onClick:()=>d.mutate(x.name),disabled:d.isPending,className:"btn btn-secondary btn-sm",title:"Test Connection",children:d.isPending?t.jsx(ae,{className:"w-4 h-4 animate-spin"}):t.jsx(Fe,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>n(x.name),className:"btn btn-secondary btn-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete Remote",children:t.jsx(Ue,{className:"w-4 h-4"})})]})]},x.name))})}),t.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"How to use with Percona Backup"}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:'After adding a cloud remote, you can select it as the storage destination in MongoDB Database Settings under the Percona Backup (PBM) section. Choose "RClone Remote" as storage type and select your configured remote.'})]}),s&&t.jsx($1,{providers:h,onClose:()=>r(!1),onSuccess:()=>{r(!1),e.invalidateQueries(["rclone-remotes"])}}),a&&t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[t.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delete Remote"}),t.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-6",children:['Are you sure you want to delete the remote "',a,`"? This will remove the configuration but won't delete any files on the remote storage.`]}),t.jsxs("div",{className:"flex justify-end gap-3",children:[t.jsx("button",{onClick:()=>n(null),className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{onClick:()=>c.mutate(a),disabled:c.isPending,className:"btn btn-danger",children:c.isPending?"Deleting...":"Delete"})]})]})})]})}function $1({providers:e,onClose:s,onSuccess:r}){var O,C,P;const[a,n]=N.useState(1),[l,i]=N.useState(null),[o,c]=N.useState(""),[d,u]=N.useState({}),[h,x]=N.useState({}),[y,m]=N.useState(null),p=N.useRef(null);N.useEffect(()=>()=>{p.current&&clearInterval(p.current)},[]);const f=K({mutationFn:async R=>(await M.post("/api/rclone/remote",R)).data,onSuccess:()=>{r()}}),b=R=>{i(R);const I={};R.fields.forEach(G=>{G.value!==void 0&&(I[G.name]=G.value)}),u(I),n(2)},g=R=>{R.preventDefault(),f.mutate({name:o,type:l.id,config:d})},v=(R,I)=>{u(G=>({...G,[R]:I}))},j=R=>{x(I=>({...I,[R]:!I[R]}))},S=async()=>{var R,I;if(l){m({status:"authorizing"});try{const G=await M.post("/api/rclone/oauth/authorize",{provider:l.id});G.data.authUrl?(m({status:"waiting",authUrl:G.data.authUrl,pid:G.data.pid}),p.current=setInterval(async()=>{try{const J=await M.get(`/api/rclone/oauth/token/${G.data.pid}`);J.data.completed&&J.data.token&&(clearInterval(p.current),p.current=null,u(X=>({...X,token:J.data.token})),m({status:"success"}))}catch{}},2e3),setTimeout(()=>{p.current&&(clearInterval(p.current),p.current=null,(y==null?void 0:y.status)==="waiting"&&m({status:"error",error:"Authorization timed out. Please try again."}))},12e4)):m({status:"error",error:"Failed to get authorization URL"})}catch(G){m({status:"error",error:((I=(R=G.response)==null?void 0:R.data)==null?void 0:I.error)||"Failed to start authorization"})}}},k=()=>{p.current&&(clearInterval(p.current),p.current=null),m(null)},w=e.filter(R=>R.authType==="oauth"),D=e.filter(R=>R.authType==="keys");return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[t.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:t.jsx("h2",{className:"text-xl font-semibold",children:"Add Cloud Remote"})}),a===1&&t.jsxs("div",{className:"p-6",children:[t.jsx("p",{className:"text-gray-600 dark:text-dark-muted mb-4",children:"Select a cloud storage provider:"}),t.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"OAuth Providers (Requires Token)"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:w.map((R,I)=>t.jsx("button",{onClick:()=>b(R),className:"p-4 border border-gray-200 dark:border-dark-border rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors text-left",children:t.jsxs("div",{className:"flex items-center gap-2",children:[ai(R.id),t.jsx("span",{className:"font-medium",children:R.name})]})},`${R.id}-${I}`))}),t.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key-based Providers"}),t.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:D.map((R,I)=>t.jsx("button",{onClick:()=>b(R),className:"p-4 border border-gray-200 dark:border-dark-border rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors text-left",children:t.jsxs("div",{className:"flex items-center gap-2",children:[ai(R.id),t.jsx("span",{className:"font-medium text-sm",children:R.name})]})},`${R.id}-${R.subType||""}-${I}`))}),t.jsx("div",{className:"mt-6 flex justify-end",children:t.jsx("button",{onClick:s,className:"btn btn-secondary",children:"Cancel"})})]}),a===2&&l&&t.jsxs("form",{onSubmit:g,className:"p-6 space-y-4",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[ai(l.id),t.jsx("span",{className:"font-medium",children:l.name})]}),t.jsxs("div",{children:[t.jsx("label",{className:"block text-sm font-medium mb-1",children:"Remote Name *"}),t.jsx("input",{type:"text",value:o,onChange:R=>c(R.target.value),placeholder:"e.g., mybackup",pattern:"^[a-zA-Z0-9_-]+$",required:!0,className:"input"}),t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters, numbers, underscores and hyphens allowed"})]}),l.authType==="oauth"&&t.jsxs("div",{className:"space-y-3",children:[(y==null?void 0:y.status)==="waiting"&&t.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[t.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[t.jsx(ae,{className:"w-4 h-4 animate-spin text-blue-600"}),t.jsx("span",{className:"font-medium text-blue-800 dark:text-blue-300",children:"Waiting for authorization..."})]}),t.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400 mb-3",children:"Click the button below to open the authorization page. After approving, the token will be captured automatically."}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("a",{href:y.authUrl,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary btn-sm",children:[t.jsx(Wa,{className:"w-4 h-4 mr-1"}),"Open Authorization Page"]}),t.jsx("button",{type:"button",onClick:k,className:"btn btn-secondary btn-sm",children:"Cancel"})]})]}),(y==null?void 0:y.status)==="success"&&t.jsx("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ye,{className:"w-4 h-4 text-green-600"}),t.jsx("span",{className:"text-green-800 dark:text-green-300 font-medium",children:"Authorization successful! Token captured."})]})}),(y==null?void 0:y.status)==="error"&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(Le,{className:"w-4 h-4 text-red-600"}),t.jsx("span",{className:"text-red-800 dark:text-red-300",children:y.error})]})}),(y==null?void 0:y.status)==="authorizing"&&t.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-800 rounded-lg",children:t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx(ae,{className:"w-4 h-4 animate-spin"}),t.jsx("span",{children:"Starting authorization..."})]})}),(!y||y.status==="error")&&!d.token&&t.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-gray-900/20 border border-gray-200 dark:border-gray-700 rounded-lg",children:[t.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:["Click the button below to authorize with ",l.name,":"]}),t.jsx("button",{type:"button",onClick:S,disabled:(y==null?void 0:y.status)==="authorizing",className:"btn btn-primary",children:(y==null?void 0:y.status)==="authorizing"?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Starting..."]}):t.jsxs(t.Fragment,{children:[t.jsx(fr,{className:"w-4 h-4 mr-2"}),"Authorize with ",l.name]})}),t.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:t.jsxs("p",{className:"text-xs text-gray-500 mb-2",children:["Or manually paste the token (run ",t.jsxs("code",{className:"bg-gray-200 dark:bg-gray-800 px-1 rounded",children:["rclone authorize ",l.id]})," on a machine with a browser):"]})})]})]}),l.fields.map(R=>R.type==="hidden"?null:l.authType==="oauth"&&R.name==="token"?(y==null?void 0:y.status)==="success"||d.token?t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[R.label," ",R.required&&"*"]}),t.jsxs("div",{className:"relative",children:[t.jsx("textarea",{value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),className:"input font-mono text-xs h-20 bg-green-50 dark:bg-green-900/20",readOnly:(y==null?void 0:y.status)==="success"}),(y==null?void 0:y.status)==="success"&&t.jsx("div",{className:"absolute top-2 right-2",children:t.jsx(ye,{className:"w-4 h-4 text-green-600"})})]}),d.token&&t.jsx("button",{type:"button",onClick:()=>{u(I=>({...I,token:""})),m(null)},className:"text-xs text-red-600 hover:underline mt-1",children:"Clear token and re-authorize"})]},R.name):t.jsxs("div",{children:[t.jsx("textarea",{value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),placeholder:"Paste your token here...",required:R.required,className:"input font-mono text-xs h-24"}),R.help&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.help})]},R.name):t.jsxs("div",{children:[t.jsxs("label",{className:"block text-sm font-medium mb-1",children:[R.label," ",R.required&&"*"]}),R.type==="textarea"?t.jsx("textarea",{value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),placeholder:R.placeholder,required:R.required,className:"input font-mono text-xs h-32"}):R.type==="select"?t.jsxs("select",{value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),required:R.required,className:"input",children:[t.jsx("option",{value:"",children:"Select..."}),R.options.map(I=>t.jsx("option",{value:I,children:I},I))]}):R.type==="password"?t.jsxs("div",{className:"relative",children:[t.jsx("input",{type:h[R.name]?"text":"password",value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),placeholder:R.placeholder,required:R.required,className:"input pr-10"}),t.jsx("button",{type:"button",onClick:()=>j(R.name),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700",children:h[R.name]?t.jsx(Ls,{className:"w-4 h-4"}):t.jsx(ts,{className:"w-4 h-4"})})]}):t.jsx("input",{type:R.type||"text",value:d[R.name]||"",onChange:I=>v(R.name,I.target.value),placeholder:R.placeholder,required:R.required,className:"input"}),R.help&&t.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.help})]},R.name)),f.isError&&t.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((P=(C=(O=f.error)==null?void 0:O.response)==null?void 0:C.data)==null?void 0:P.error)||"Failed to create remote"}),t.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200 dark:border-dark-border",children:[t.jsx("button",{type:"button",onClick:()=>n(1),className:"btn btn-secondary",children:"Back"}),t.jsxs("div",{className:"flex gap-2",children:[t.jsx("button",{type:"button",onClick:s,className:"btn btn-secondary",children:"Cancel"}),t.jsx("button",{type:"submit",disabled:f.isPending||!o,className:"btn btn-primary",children:f.isPending?t.jsxs(t.Fragment,{children:[t.jsx(ae,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Remote"})]})]})]})]})})}function ai(e){switch(e){case"drive":return t.jsx(Fr,{className:"w-5 h-5 text-green-500"});case"dropbox":return t.jsx(Fr,{className:"w-5 h-5 text-blue-500"});case"onedrive":return t.jsx(Fr,{className:"w-5 h-5 text-sky-500"});case"s3":return t.jsx(it,{className:"w-5 h-5 text-orange-500"});case"b2":return t.jsx(it,{className:"w-5 h-5 text-red-500"});case"sftp":case"ftp":return t.jsx(We,{className:"w-5 h-5 text-purple-500"});default:return t.jsx(Fr,{className:"w-5 h-5 text-gray-500"})}}function B1(e){return{drive:"Google Drive",dropbox:"Dropbox",onedrive:"Microsoft OneDrive",s3:"Amazon S3 / Compatible",b2:"Backblaze B2",sftp:"SFTP",ftp:"FTP"}[e]||e}function z1(){const{isAdmin:e}=Os(),[s,r]=N.useState(""),[a,n]=N.useState(12),{data:l,isLoading:i,error:o,refetch:c}=Z({queryKey:["stats",s],queryFn:async()=>{const f=s?`/api/stats/user/${s}`:"/api/stats";return(await M.get(f)).data}}),{data:d}=Z({queryKey:["stats-users"],queryFn:async()=>(await M.get("/api/stats/users")).data,enabled:e}),{data:u}=Z({queryKey:["stats-chart",s,a],queryFn:async()=>(await M.get(`/api/stats/chart?months=${a}`)).data}),h=(l==null?void 0:l.stats)||[],x=(d==null?void 0:d.users)||[],y=f=>{var j,S;if(h.length<2)return null;const b=((j=h[0])==null?void 0:j[f])||0,g=((S=h[1])==null?void 0:S[f])||0;if(g===0)return null;const v=(b-g)/g*100;return{value:Math.abs(v).toFixed(1),isUp:v>=0}},m=f=>f>=1024*1024?`${(f/(1024*1024)).toFixed(1)} TB`:f>=1024?`${(f/1024).toFixed(1)} GB`:`${f} MB`,p=h[0]||{};return t.jsxs("div",{className:"max-w-7xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(an,{className:"w-7 h-7"}),"Statistics"]}),t.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:l!=null&&l.isOverall?"Overall system statistics":"Your usage statistics"})]}),t.jsxs("div",{className:"flex items-center gap-3",children:[e&&t.jsxs("select",{value:s,onChange:f=>r(f.target.value),className:"input",children:[t.jsx("option",{value:"",children:"Overall Statistics"}),x.map(f=>t.jsx("option",{value:f,children:f},f))]}),t.jsxs("button",{onClick:()=>c(),className:"btn btn-secondary",disabled:i,children:[t.jsx(Fe,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]})]})]}),i?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?t.jsx("div",{className:"card p-12 text-center",children:t.jsx("p",{className:"text-red-500",children:"Failed to load statistics"})}):t.jsxs(t.Fragment,{children:[t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:[t.jsx(Ul,{title:"Bandwidth",value:m(p.uBandwidth||0),quota:m(p.bandwidth||0),icon:u0,color:"blue",trend:y("uBandwidth")}),t.jsx(Ul,{title:"Disk Usage",value:m(p.uDisk||0),quota:m(p.diskQuota||0),icon:it,color:"green",trend:y("uDisk")}),t.jsx(Ul,{title:"Web Domains",value:p.uWebDomains||0,icon:et,color:"purple",trend:y("uWebDomains")}),t.jsx(Ul,{title:"Databases",value:p.uDatabases||0,icon:Ze,color:"orange",trend:y("uDatabases")})]}),(u==null?void 0:u.chartData)&&u.chartData.length>0&&t.jsxs("div",{className:"card p-6 mb-8",children:[t.jsxs("div",{className:"flex items-center justify-between mb-4",children:[t.jsx("h2",{className:"text-lg font-semibold",children:"Usage Trend"}),t.jsxs("select",{value:a,onChange:f=>n(parseInt(f.target.value)),className:"input text-sm",children:[t.jsx("option",{value:6,children:"Last 6 months"}),t.jsx("option",{value:12,children:"Last 12 months"}),t.jsx("option",{value:24,children:"Last 24 months"})]})]}),t.jsx(q1,{data:u.chartData})]}),t.jsx("div",{className:"space-y-6",children:h.map((f,b)=>t.jsx(H1,{stat:f,formatSize:m},f.date))}),t.jsxs("div",{className:"mt-6 text-center text-sm text-gray-500 dark:text-dark-muted",children:[h.length," month",h.length!==1?"s":""," of data"]})]})]})}function Ul({title:e,value:s,quota:r,icon:a,color:n,trend:l}){const i={blue:"bg-blue-100 text-blue-600 dark:bg-blue-900/30 dark:text-blue-400",green:"bg-green-100 text-green-600 dark:bg-green-900/30 dark:text-green-400",purple:"bg-purple-100 text-purple-600 dark:bg-purple-900/30 dark:text-purple-400",orange:"bg-orange-100 text-orange-600 dark:bg-orange-900/30 dark:text-orange-400"};return t.jsxs("div",{className:"card p-4",children:[t.jsxs("div",{className:"flex items-start justify-between",children:[t.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${i[n]}`,children:t.jsx(a,{className:"w-5 h-5"})}),l&&t.jsxs("div",{className:`flex items-center text-xs ${l.isUp?"text-green-600":"text-red-600"}`,children:[l.isUp?t.jsx(rk,{className:"w-3 h-3"}):t.jsx(tk,{className:"w-3 h-3"}),l.value,"%"]})]}),t.jsxs("div",{className:"mt-3",children:[t.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:e}),t.jsx("p",{className:"text-2xl font-bold mt-1",children:s}),r&&t.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:["of ",r]})]})]})}function q1({data:e}){const s=Math.max(...e.map(r=>r.bandwidth),1);return t.jsx("div",{className:"flex items-end gap-2 h-48",children:e.map((r,a)=>{const n=r.bandwidth/s*100;return t.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[t.jsx("div",{className:"w-full bg-primary-500 rounded-t transition-all hover:bg-primary-600",style:{height:`${Math.max(n,2)}%`},title:`${r.month}: ${r.bandwidth} MB`}),t.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted mt-2 transform -rotate-45 origin-top-left whitespace-nowrap",children:r.month})]},a)})})}function H1({stat:e,formatSize:s}){const a=new Date(e.date).toLocaleDateString("en-US",{month:"long",year:"numeric"});return t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border flex items-center gap-3",children:[t.jsx(an,{className:"w-5 h-5 text-gray-400"}),t.jsx("h3",{className:"text-lg font-semibold",children:a})]}),t.jsx("div",{className:"p-6",children:t.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[t.jsxs("div",{className:"space-y-4",children:[t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-muted",children:[t.jsx(u0,{className:"w-4 h-4"}),"Bandwidth"]}),t.jsxs("span",{className:"font-medium",children:[s(e.uBandwidth)," / ",s(e.bandwidth)]})]}),t.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-border rounded-full h-2",children:t.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${Math.min(e.uBandwidth/e.bandwidth*100,100)||0}%`}})})]}),t.jsxs("div",{children:[t.jsxs("div",{className:"flex items-center justify-between text-sm mb-1",children:[t.jsxs("span",{className:"flex items-center gap-2 text-gray-500 dark:text-dark-muted",children:[t.jsx(it,{className:"w-4 h-4"}),"Disk"]}),t.jsxs("span",{className:"font-medium",children:[s(e.uDisk)," / ",s(e.diskQuota)]})]}),t.jsx("div",{className:"w-full bg-gray-200 dark:bg-dark-border rounded-full h-2",children:t.jsx("div",{className:"bg-green-500 h-2 rounded-full",style:{width:`${Math.min(e.uDisk/e.diskQuota*100,100)||0}%`}})})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Web:"}),t.jsx("span",{children:s(e.uDiskWeb)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Mail:"}),t.jsx("span",{children:s(e.uDiskMail)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"Database:"}),t.jsx("span",{children:s(e.uDiskDb)})]}),t.jsxs("div",{className:"flex justify-between",children:[t.jsx("span",{className:"text-gray-500",children:"User Dir:"}),t.jsx("span",{children:s(e.uDiskDirs)})]})]})]}),t.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[t.jsx(Ot,{icon:et,label:"Web Domains",value:e.uWebDomains}),t.jsx(Ot,{icon:Zt,label:"Mail Domains",value:e.uMailDomains}),t.jsx(Ot,{icon:et,label:"SSL Domains",value:e.uWebSsl}),t.jsx(Ot,{icon:Zt,label:"Mail Accounts",value:e.uMailAccounts}),t.jsx(Ot,{icon:et,label:"Web Aliases",value:e.uWebAliases}),t.jsx(Ot,{icon:Ze,label:"Databases",value:e.uDatabases}),t.jsx(Ot,{icon:We,label:"DNS Zones",value:e.uDnsDomains}),t.jsx(Ot,{icon:ra,label:"Cron Jobs",value:e.uCronJobs}),t.jsx(Ot,{icon:We,label:"DNS Records",value:e.uDnsRecords}),t.jsx(Ot,{icon:it,label:"Backups",value:e.uBackups}),e.ipOwned>0&&t.jsx(Ot,{icon:We,label:"IP Addresses",value:e.ipOwned}),e.uUsers>0&&t.jsx(Ot,{icon:mo,label:"Users",value:e.uUsers})]})]})})]})}function Ot({icon:e,label:s,value:r}){return t.jsxs("div",{className:"flex items-center gap-2 p-2 rounded-lg bg-gray-50 dark:bg-dark-card",children:[t.jsx(e,{className:"w-4 h-4 text-gray-400"}),t.jsxs("div",{className:"flex-1 min-w-0",children:[t.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted truncate",children:s}),t.jsx("p",{className:"font-semibold",children:r})]})]})}const Q1=[{value:"daily",label:"Daily"},{value:"weekly",label:"Weekly"},{value:"monthly",label:"Monthly"},{value:"yearly",label:"Yearly"},{value:"biennially",label:"Biennially"},{value:"triennially",label:"Triennially"}],_i=[{border:"rgb(59, 130, 246)",background:"rgba(59, 130, 246, 0.1)"},{border:"rgb(16, 185, 129)",background:"rgba(16, 185, 129, 0.1)"},{border:"rgb(245, 158, 11)",background:"rgba(245, 158, 11, 0.1)"},{border:"rgb(239, 68, 68)",background:"rgba(239, 68, 68, 0.1)"},{border:"rgb(139, 92, 246)",background:"rgba(139, 92, 246, 0.1)"}];function K1(){const[e,s]=so(),r=e.get("period")||"daily",{data:a,isLoading:n,error:l}=Z({queryKey:["rrd-list"],queryFn:async()=>(await M.get("/api/system/rrd/list")).data}),i=c=>{s({period:c})};if(n)return t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(l)return t.jsx("div",{className:"text-center py-12",children:t.jsx("p",{className:"text-red-500",children:"Failed to load RRD charts"})});const o=(a==null?void 0:a.charts)||[];return t.jsxs("div",{className:"max-w-6xl mx-auto",children:[t.jsxs("div",{className:"flex items-center justify-between mb-6",children:[t.jsxs("div",{className:"flex items-center gap-3",children:[t.jsxs(q,{to:"/server-services",className:"btn btn-secondary",children:[t.jsx(ge,{className:"w-4 h-4 mr-2"}),"Back"]}),t.jsxs(q,{to:"/server-services?cpu",className:"btn btn-secondary",children:[t.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Advanced Details"]})]}),t.jsx("div",{className:"flex items-center gap-1",children:Q1.map(c=>t.jsx("button",{onClick:()=>i(c.value),className:Ye("px-3 py-1.5 text-sm rounded-lg transition-colors",r===c.value?"bg-primary-600 text-white":"text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-dark-border"),children:c.label},c.value))})]}),t.jsxs("h1",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[t.jsx(Zr,{className:"w-7 h-7"}),"Server Statistics"]}),t.jsx("div",{className:"space-y-8",children:o.map(c=>t.jsx(W1,{chart:c,period:r},c.service))}),o.length===0&&t.jsxs("div",{className:"card p-12 text-center",children:[t.jsx(Zr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),t.jsx("p",{className:"text-gray-500",children:"No RRD charts available"})]})]})}function W1({chart:e,period:s}){var c;const r=N.useRef(null),a=N.useRef(null),{data:n,isLoading:l,error:i,refetch:o}=Z({queryKey:["rrd-export",e.service,s],queryFn:async()=>(await M.post("/api/system/rrd/export",{service:e.service,period:s})).data,staleTime:6e4});return N.useEffect(()=>{if(!r.current||!(n!=null&&n.data))return;const d=r.current.getContext("2d"),u=r.current;a.current&&(a.current=null),d.clearRect(0,0,u.width,u.height);const{meta:h,data:x}=n;if(!(h!=null&&h.legend)||!x)return;const y=h.legend,m=h.step||300,p=h.start,f=x.filter(g=>g.some(v=>v!==null));if(f.length===0)return;const b=f.map((g,v)=>{const j=(p+v*m)*1e3,S=new Date(j);return s==="daily"?S.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):s==="weekly"?S.toLocaleDateString("en-US",{weekday:"short",hour:"2-digit"}):S.toLocaleDateString("en-US",{month:"short",day:"numeric"})});V1(d,u,b,f,y,n.unit)},[n,s]),t.jsxs("div",{className:"card",children:[t.jsxs("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border flex items-center justify-between",children:[t.jsx("h2",{className:"text-lg font-semibold",children:e.title}),t.jsx("button",{onClick:()=>o(),disabled:l,className:"p-2 rounded hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",children:t.jsx(Fe,{className:Ye("w-4 h-4",l&&"animate-spin")})})]}),t.jsx("div",{className:"p-6",children:l?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ae,{className:"w-8 h-8 animate-spin text-primary-600"})}):i?t.jsx("div",{className:"flex items-center justify-center h-64 text-red-500",children:"Failed to load chart data"}):t.jsxs("div",{className:"relative",children:[t.jsx("canvas",{ref:r,width:800,height:300,className:"w-full h-auto max-h-72"}),((c=n==null?void 0:n.meta)==null?void 0:c.legend)&&t.jsx("div",{className:"flex items-center justify-center gap-6 mt-4",children:n.meta.legend.map((d,u)=>t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:_i[u%_i.length].border}}),t.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:d})]},d))})]})})]})}function V1(e,s,r,a,n,l){const i={top:20,right:20,bottom:40,left:60},o=s.width,c=s.height,d=o-i.left-i.right,u=c-i.top-i.bottom,h=document.documentElement.classList.contains("dark"),x=h?"#9ca3af":"#6b7280",y=h?"#374151":"#e5e7eb";e.clearRect(0,0,o,c);let m=0,p=1/0;a.forEach(g=>{g.forEach(v=>{v!==null&&(m=Math.max(m,v),p=Math.min(p,v))})}),p===1/0&&(p=0),m===p&&(m=p+1),m=m*1.1,p=Math.max(0,p*.9),e.strokeStyle=y,e.lineWidth=1,e.setLineDash([5,5]);const f=5;for(let g=0;g<=f;g++){const v=i.top+u/f*g;e.beginPath(),e.moveTo(i.left,v),e.lineTo(o-i.right,v),e.stroke();const j=m-(m-p)/f*g;e.fillStyle=x,e.font="11px sans-serif",e.textAlign="right",e.fillText(G1(j),i.left-10,v+4)}e.setLineDash([]);const b=Math.ceil(r.length/10);e.fillStyle=x,e.font="10px sans-serif",e.textAlign="center",r.forEach((g,v)=>{if(v%b===0){const j=i.left+d/(r.length-1)*v;e.fillText(g,j,c-10)}}),n.forEach((g,v)=>{const j=_i[v%_i.length];e.fillStyle=j.background,e.beginPath();let S=!0;if(a.forEach((k,w)=>{const D=k[v];if(D===null)return;const O=i.left+d/(a.length-1)*w,C=i.top+u-(D-p)/(m-p)*u;S?(e.moveTo(O,i.top+u),e.lineTo(O,C),S=!1):e.lineTo(O,C)}),!S){const k=a.length-1,w=i.left+d/(a.length-1)*k;e.lineTo(w,i.top+u),e.closePath(),e.fill()}e.strokeStyle=j.border,e.lineWidth=2,e.beginPath(),S=!0,a.forEach((k,w)=>{const D=k[v];if(D===null)return;const O=i.left+d/(a.length-1)*w,C=i.top+u-(D-p)/(m-p)*u;S?(e.moveTo(O,C),S=!1):e.lineTo(O,C)}),e.stroke()}),l&&(e.fillStyle=x,e.font="11px sans-serif",e.textAlign="left",e.fillText(l,i.left,i.top-5))}function G1(e){return e>=1e6?(e/1e6).toFixed(1)+"M":e>=1e3?(e/1e3).toFixed(1)+"K":e.toFixed(1)}function J1(){const{user:e,isAdmin:s}=Os(),r=pe(),[a,n]=N.useState([]),[l,i]=N.useState({}),[o,c]=N.useState(null),[d,u]=N.useState(null),{data:h,isLoading:x,error:y,refetch:m}=Z({queryKey:["pm2-processes"],queryFn:async()=>(await M.get("/api/pm2")).data,refetchInterval:1e4}),p=K({mutationFn:async({action:C,id:P,username:R})=>{C==="delete"?await M.delete(`/api/pm2/${P}`,{params:{username:R}}):await M.post(`/api/pm2/${P}/${C}`,{username:R})},onSuccess:()=>{r.invalidateQueries({queryKey:["pm2-processes"]})}}),f=K({mutationFn:async({action:C,processes:P})=>(await M.post("/api/pm2/bulk",{action:C,processes:P})).data,onSuccess:()=>{n([]),r.invalidateQueries({queryKey:["pm2-processes"]})}}),b=C=>C?C>1024*1024*1024?`${(C/(1024*1024*1024)).toFixed(1)} GB`:C>1024*1024?`${(C/(1024*1024)).toFixed(1)} MB`:C>1024?`${(C/1024).toFixed(1)} KB`:`${C} B`:"0 B",g=C=>{if(!C)return"-";const P=(Date.now()-C)/1e3;return P>86400?`${Math.floor(P/86400)}d`:P>3600?`${Math.floor(P/3600)}h`:P>60?`${Math.floor(P/60)}m`:`${Math.floor(P)}s`},v=C=>{i(P=>({...P,[C]:!P[C]}))},j=C=>{n(P=>P.includes(C)?P.filter(R=>R!==C):[...P,C])},S=(C,P)=>{const R=P.map(G=>`${C}:${G.pm_id}`),I=R.every(G=>a.includes(G));n(I?G=>G.filter(J=>!R.includes(J)):G=>[...new Set([...G,...R])])},k=C=>{a.length!==0&&(C==="delete"&&!confirm("Are you sure you want to delete selected processes?")||f.mutate({action:C,processes:a}))},D=h?h.users?h.users:h.processes?{[h.user||e.username]:h.processes}:{}:{},O=Object.values(D).reduce((C,P)=>C+((P==null?void 0:P.length)||0),0);return x?t.jsx("div",{className:"flex items-center justify-center h-64",children:t.jsx(ae,{className:"w-8 h-8 animate-spin text-primary-600"})}):(h==null?void 0:h.pm2_installed)===!1?t.jsxs("div",{className:"space-y-6",children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ri,{className:"w-7 h-7 text-green-600"}),"PM2 Process Manager"]}),t.jsx("div",{className:"card p-6",children:t.jsxs("div",{className:"flex items-start gap-3 text-amber-600",children:[t.jsx(Ha,{className:"w-6 h-6 flex-shrink-0"}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold",children:"PM2 is not installed"}),t.jsx("p",{className:"text-sm mt-1 text-gray-600 dark:text-gray-400",children:"PM2 is not installed on this system. To install PM2, run:"}),t.jsx("pre",{className:"mt-2 p-3 bg-gray-900 text-gray-100 rounded-lg text-sm",children:"npm install -g pm2"})]})]})})]}):t.jsxs("div",{className:"space-y-6",children:[t.jsxs("div",{className:"flex items-center justify-between",children:[t.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[t.jsx(ri,{className:"w-7 h-7 text-green-600"}),"PM2 Process Manager",O>0&&t.jsxs("span",{className:"text-sm font-normal text-gray-500 ml-2",children:["(",O," processes)"]})]}),t.jsx("div",{className:"flex items-center gap-2",children:t.jsxs("button",{onClick:()=>m(),className:"btn btn-secondary",disabled:x,children:[t.jsx(Fe,{className:Ye("w-4 h-4",x&&"animate-spin")}),"Refresh"]})})]}),a.length>0&&t.jsxs("div",{className:"card p-4 flex items-center justify-between bg-primary-50 dark:bg-primary-900/20",children:[t.jsxs("span",{className:"text-sm font-medium",children:[a.length," process(es) selected"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>k("restart"),className:"btn btn-sm btn-secondary",disabled:f.isPending,children:[t.jsx(Rh,{className:"w-4 h-4"}),"Restart"]}),t.jsxs("button",{onClick:()=>k("stop"),className:"btn btn-sm btn-secondary",disabled:f.isPending,children:[t.jsx(fd,{className:"w-4 h-4"}),"Stop"]}),t.jsxs("button",{onClick:()=>k("delete"),className:"btn btn-sm text-red-600 hover:bg-red-100 dark:hover:bg-red-900/30",disabled:f.isPending,children:[t.jsx(Ue,{className:"w-4 h-4"}),"Delete"]})]})]}),O===0&&t.jsxs("div",{className:"card p-8 text-center",children:[t.jsx(ri,{className:"w-12 h-12 text-gray-400 mx-auto mb-4"}),t.jsx("h3",{className:"font-semibold text-lg mb-2",children:"No PM2 Processes"}),t.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:s?"No PM2 processes are currently running on this system.":"You have no PM2 processes running."})]}),Object.entries(D).map(([C,P])=>{if(!P||P.length===0)return null;const R=l[C]!==!1,G=P.map(J=>`${C}:${J.pm_id}`).every(J=>a.includes(J));return t.jsxs("div",{className:"card overflow-hidden",children:[(s||Object.keys(D).length>1)&&t.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-border cursor-pointer",onClick:()=>v(C),children:[t.jsxs("div",{className:"flex items-center gap-3",children:[R?t.jsx(hs,{className:"w-5 h-5 text-gray-400"}):t.jsx(Qa,{className:"w-5 h-5 text-gray-400"}),t.jsx(Du,{className:"w-5 h-5 text-blue-500"}),t.jsx("span",{className:"font-semibold",children:C}),t.jsxs("span",{className:"text-sm text-gray-500",children:["(",P.length," processes)"]})]}),t.jsxs("label",{className:"flex items-center gap-2",onClick:J=>J.stopPropagation(),children:[t.jsx("input",{type:"checkbox",checked:G,onChange:()=>S(C,P),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),t.jsx("span",{className:"text-sm",children:"Select all"})]})]}),R&&t.jsx("div",{className:"overflow-x-auto",children:t.jsxs("table",{className:"w-full",children:[t.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:t.jsxs("tr",{children:[t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-10",children:t.jsx("span",{className:"sr-only",children:"Select"})}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase w-16",children:"ID"}),t.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase w-24",children:"Status"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"CPU"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase w-24",children:"Memory"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Uptime"}),t.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 uppercase w-20",children:"Restarts"}),t.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase w-40",children:"Actions"})]})}),t.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:P.map(J=>{var fe,Ge,At,$,se,H;const X=J.pm_id??0,A=J.name||"unknown",F=((fe=J.pm2_env)==null?void 0:fe.status)||"unknown",L=((Ge=J.monit)==null?void 0:Ge.memory)||0,W=((At=J.monit)==null?void 0:At.cpu)||0,Y=(($=J.pm2_env)==null?void 0:$.pm_uptime)||0,_=((se=J.pm2_env)==null?void 0:se.restart_time)||0,ie=((H=J.pm2_env)==null?void 0:H.pm_exec_path)||"",te=`${C}:${X}`,de=a.includes(te),me=F==="online";return t.jsxs("tr",{className:Ye("hover:bg-gray-50 dark:hover:bg-dark-border/50",!me&&"opacity-60"),children:[t.jsx("td",{className:"px-4 py-3",children:t.jsx("input",{type:"checkbox",checked:de,onChange:()=>j(te),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"})}),t.jsx("td",{className:"px-4 py-3 font-mono text-sm",children:X}),t.jsx("td",{className:"px-4 py-3",children:t.jsxs("div",{className:"flex items-center gap-2",children:[me?t.jsx(ye,{className:"w-4 h-4 text-green-500"}):t.jsx(Ce,{className:"w-4 h-4 text-red-500"}),t.jsxs("div",{children:[t.jsx("div",{className:"font-medium",children:A}),t.jsx("div",{className:"text-xs text-gray-500 truncate max-w-xs",children:ie.split("/").pop()})]})]})}),t.jsx("td",{className:"px-4 py-3 text-center",children:t.jsx("span",{className:Ye("inline-flex px-2 py-1 text-xs font-semibold rounded-full",me?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"),children:F})}),t.jsxs("td",{className:"px-4 py-3 text-center font-mono text-sm",children:[W.toFixed(1),"%"]}),t.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm",children:b(L)}),t.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm",children:g(Y)}),t.jsx("td",{className:"px-4 py-3 text-center font-mono text-sm",children:_}),t.jsx("td",{className:"px-4 py-3 text-right",children:t.jsxs("div",{className:"flex items-center justify-end gap-1",children:[t.jsx("button",{onClick:()=>c({username:C,id:X,name:A}),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-dark-border text-blue-600",title:"View Logs",children:t.jsx(Fs,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>p.mutate({action:"restart",id:X,username:C}),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-dark-border text-green-600",title:"Restart",disabled:p.isPending,children:t.jsx(Rh,{className:"w-4 h-4"})}),me?t.jsx("button",{onClick:()=>p.mutate({action:"stop",id:X,username:C}),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-dark-border text-orange-600",title:"Stop",disabled:p.isPending,children:t.jsx(fd,{className:"w-4 h-4"})}):t.jsx("button",{onClick:()=>p.mutate({action:"start",id:X,username:C}),className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-dark-border text-green-600",title:"Start",disabled:p.isPending,children:t.jsx(fl,{className:"w-4 h-4"})}),t.jsx("button",{onClick:()=>{confirm(`Delete process "${A}"? This cannot be undone.`)&&p.mutate({action:"delete",id:X,username:C})},className:"p-1.5 rounded hover:bg-gray-100 dark:hover:bg-dark-border text-red-600",title:"Delete",disabled:p.isPending,children:t.jsx(Ue,{className:"w-4 h-4"})})]})})]},te)})})]})})]},C)}),o&&t.jsx(Y1,{username:o.username,id:o.id,name:o.name,onClose:()=>c(null)})]})}function Y1({username:e,id:s,name:r,onClose:a}){var o,c,d,u;const{data:n,isLoading:l,refetch:i}=Z({queryKey:["pm2-logs",e,s],queryFn:async()=>(await M.get(`/api/pm2/${s}/logs`,{params:{username:e,lines:200}})).data});return t.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",onClick:a,children:t.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl w-full max-w-4xl mx-4 max-h-[80vh] flex flex-col",onClick:h=>h.stopPropagation(),children:[t.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-border",children:[t.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[t.jsx(Fs,{className:"w-5 h-5 text-blue-600"}),"Logs - ",r," (ID: ",s,")"]}),t.jsxs("div",{className:"flex items-center gap-2",children:[t.jsxs("button",{onClick:()=>i(),className:"btn btn-sm btn-secondary",disabled:l,children:[t.jsx(Fe,{className:Ye("w-4 h-4",l&&"animate-spin")}),"Refresh"]}),t.jsx("button",{onClick:a,className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:t.jsx(Ce,{className:"w-5 h-5"})})]})]}),t.jsx("div",{className:"flex-1 overflow-auto p-4",children:l?t.jsx("div",{className:"flex items-center justify-center py-8",children:t.jsx(ae,{className:"w-6 h-6 animate-spin text-primary-600"})}):t.jsxs("div",{className:"space-y-4",children:[((o=n==null?void 0:n.out_logs)==null?void 0:o.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-green-600 mb-2",children:"STDOUT"}),t.jsx("pre",{className:"bg-gray-900 text-gray-100 p-4 rounded-lg text-xs overflow-auto max-h-60 font-mono",children:n.out_logs.join(`
`)})]}),((c=n==null?void 0:n.err_logs)==null?void 0:c.length)>0&&t.jsxs("div",{children:[t.jsx("h4",{className:"text-sm font-medium text-red-600 mb-2",children:"STDERR"}),t.jsx("pre",{className:"bg-gray-900 text-red-300 p-4 rounded-lg text-xs overflow-auto max-h-60 font-mono",children:n.err_logs.join(`
`)})]}),!((d=n==null?void 0:n.out_logs)!=null&&d.length)&&!((u=n==null?void 0:n.err_logs)!=null&&u.length)&&t.jsx("div",{className:"text-center py-8 text-gray-500",children:"No logs available"})]})})]})})}function De({children:e,adminOnly:s=!1}){const{user:r,loading:a,isAdmin:n}=Os();return a?t.jsx("div",{className:"min-h-screen flex items-center justify-center",children:t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?s&&!n?t.jsx(zc,{to:"/",replace:!0}):e:t.jsx(zc,{to:"/login",replace:!0})}function X1(){return t.jsxs($b,{children:[t.jsx(re,{path:"/login",element:t.jsx(Lk,{})}),t.jsxs(re,{path:"/",element:t.jsx(De,{children:t.jsx(Ok,{})}),children:[t.jsx(re,{index:!0,element:t.jsx(_k,{})}),t.jsx(re,{path:"users",element:t.jsx(De,{adminOnly:!0,children:t.jsx(Ik,{})})}),t.jsx(re,{path:"users/add",element:t.jsx(De,{adminOnly:!0,children:t.jsx(Uk,{})})}),t.jsx(re,{path:"users/:username/edit",element:t.jsx($k,{})}),t.jsx(re,{path:"users/:username/ssh-keys",element:t.jsx(Bk,{})}),t.jsx(re,{path:"users/:username/logs",element:t.jsx(zk,{})}),t.jsx(re,{path:"web",element:t.jsx(qk,{})}),t.jsx(re,{path:"web/add",element:t.jsx(Hk,{})}),t.jsx(re,{path:"web/:domain/edit",element:t.jsx(Qk,{})}),t.jsx(re,{path:"web/:domain/logs",element:t.jsx(Kk,{})}),t.jsx(re,{path:"web/:domain/quick-install",element:t.jsx(f1,{})}),t.jsx(re,{path:"dns",element:t.jsx(Wk,{})}),t.jsx(re,{path:"dns/add",element:t.jsx(Vk,{})}),t.jsx(re,{path:"dns/:domain",element:t.jsx(Gk,{})}),t.jsx(re,{path:"dns/:domain/edit",element:t.jsx(Xk,{})}),t.jsx(re,{path:"dns/:domain/add-record",element:t.jsx(Yk,{})}),t.jsx(re,{path:"mail",element:t.jsx(Zk,{})}),t.jsx(re,{path:"mail/add",element:t.jsx(e1,{})}),t.jsx(re,{path:"databases",element:t.jsx(t1,{})}),t.jsx(re,{path:"databases/add",element:t.jsx(s1,{})}),t.jsx(re,{path:"databases/mongodb/add",element:t.jsx(r1,{})}),t.jsx(re,{path:"admin/database-settings",element:t.jsx(De,{adminOnly:!0,children:t.jsx(a1,{})})}),t.jsx(re,{path:"cron",element:t.jsx(c1,{})}),t.jsx(re,{path:"cron/add",element:t.jsx(d1,{})}),t.jsx(re,{path:"cron/:id/edit",element:t.jsx(u1,{})}),t.jsx(re,{path:"backups",element:t.jsx(m1,{})}),t.jsx(re,{path:"packages",element:t.jsx(De,{adminOnly:!0,children:t.jsx(h1,{})})}),t.jsx(re,{path:"packages/add",element:t.jsx(De,{adminOnly:!0,children:t.jsx(p1,{})})}),t.jsx(re,{path:"packages/:name/edit",element:t.jsx(De,{adminOnly:!0,children:t.jsx(x1,{})})}),t.jsx(re,{path:"server-services",element:t.jsx(De,{adminOnly:!0,children:t.jsx(w1,{})})}),t.jsx(re,{path:"server-services/:name/edit",element:t.jsx(De,{adminOnly:!0,children:t.jsx(C1,{})})}),t.jsx(re,{path:"applications",element:t.jsx(De,{adminOnly:!0,children:t.jsx(g1,{})})}),t.jsx(re,{path:"file-manager",element:t.jsx(De,{adminOnly:!0,children:t.jsx(y1,{})})}),t.jsx(re,{path:"firewall",element:t.jsx(De,{adminOnly:!0,children:t.jsx(P1,{})})}),t.jsx(re,{path:"firewall/add",element:t.jsx(De,{adminOnly:!0,children:t.jsx(M1,{})})}),t.jsx(re,{path:"firewall/:id/edit",element:t.jsx(De,{adminOnly:!0,children:t.jsx(F1,{})})}),t.jsx(re,{path:"firewall/banlist",element:t.jsx(De,{adminOnly:!0,children:t.jsx(T1,{})})}),t.jsx(re,{path:"haproxy",element:t.jsx(De,{adminOnly:!0,children:t.jsx(A1,{})})}),t.jsx(re,{path:"haproxy/visualize",element:t.jsx(De,{adminOnly:!0,children:t.jsx(O1,{})})}),t.jsx(re,{path:"haproxy/config",element:t.jsx(De,{adminOnly:!0,children:t.jsx(L1,{})})}),t.jsx(re,{path:"haproxy/frontend/add",element:t.jsx(De,{adminOnly:!0,children:t.jsx(_1,{})})}),t.jsx(re,{path:"haproxy/backend/add",element:t.jsx(De,{adminOnly:!0,children:t.jsx(I1,{})})}),t.jsx(re,{path:"admin/rclone",element:t.jsx(De,{adminOnly:!0,children:t.jsx(U1,{})})}),t.jsx(re,{path:"stats",element:t.jsx(z1,{})}),t.jsx(re,{path:"statistics",element:t.jsx(De,{adminOnly:!0,children:t.jsx(K1,{})})}),t.jsx(re,{path:"pm2",element:t.jsx(J1,{})})]}),t.jsx(re,{path:"*",element:t.jsx(zc,{to:"/",replace:!0})})]})}const Z1=new jv({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Vo.createRoot(document.getElementById("root")).render(t.jsx(ep.StrictMode,{children:t.jsx(Nv,{client:Z1,children:t.jsx(Vb,{children:t.jsx(XN,{children:t.jsxs(YN,{children:[t.jsx(X1,{}),t.jsx(jj,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#333",color:"#fff"}}})]})})})})}));
