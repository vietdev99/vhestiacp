var pu=e=>{throw TypeError(e)};var Gi=(e,t,r)=>t.has(e)||pu("Cannot "+r);var C=(e,t,r)=>(Gi(e,t,"read from private field"),r?r.call(e):t.get(e)),K=(e,t,r)=>t.has(e)?pu("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,r),B=(e,t,r,n)=>(Gi(e,t,"write to private field"),n?n.call(e,r):t.set(e,r),r),X=(e,t,r)=>(Gi(e,t,"access private method"),r);var nl=(e,t,r,n)=>({set _(a){B(e,t,a,r)},get _(){return C(e,t,n)}});function n0(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in e)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(e,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=r(a);fetch(a.href,l)}})();function a0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var jh={exports:{}},ki={},kh={exports:{}},ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ka=Symbol.for("react.element"),l0=Symbol.for("react.portal"),i0=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),c0=Symbol.for("react.profiler"),d0=Symbol.for("react.provider"),u0=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),h0=Symbol.for("react.suspense"),p0=Symbol.for("react.memo"),x0=Symbol.for("react.lazy"),xu=Symbol.iterator;function f0(e){return e===null||typeof e!="object"?null:(e=xu&&e[xu]||e["@@iterator"],typeof e=="function"?e:null)}var Nh={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},wh=Object.assign,Sh={};function _n(e,t,r){this.props=e,this.context=t,this.refs=Sh,this.updater=r||Nh}_n.prototype.isReactComponent={};_n.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Ch(){}Ch.prototype=_n.prototype;function Xc(e,t,r){this.props=e,this.context=t,this.refs=Sh,this.updater=r||Nh}var Zc=Xc.prototype=new Ch;Zc.constructor=Xc;wh(Zc,_n.prototype);Zc.isPureReactComponent=!0;var fu=Array.isArray,Eh=Object.prototype.hasOwnProperty,ed={current:null},Ph={key:!0,ref:!0,__self:!0,__source:!0};function Dh(e,t,r){var n,a={},l=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(l=""+t.key),t)Eh.call(t,n)&&!Ph.hasOwnProperty(n)&&(a[n]=t[n]);var o=arguments.length-2;if(o===1)a.children=r;else if(1<o){for(var c=Array(o),d=0;d<o;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(n in o=e.defaultProps,o)a[n]===void 0&&(a[n]=o[n]);return{$$typeof:Ka,type:e,key:l,ref:i,props:a,_owner:ed.current}}function g0(e,t){return{$$typeof:Ka,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function td(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ka}function y0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var gu=/\/+/g;function Ji(e,t){return typeof e=="object"&&e!==null&&e.key!=null?y0(""+e.key):t.toString(36)}function Sl(e,t,r,n,a){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Ka:case l0:i=!0}}if(i)return i=e,a=a(i),e=n===""?"."+Ji(i,0):n,fu(a)?(r="",e!=null&&(r=e.replace(gu,"$&/")+"/"),Sl(a,t,r,"",function(d){return d})):a!=null&&(td(a)&&(a=g0(a,r+(!a.key||i&&i.key===a.key?"":(""+a.key).replace(gu,"$&/")+"/")+e)),t.push(a)),1;if(i=0,n=n===""?".":n+":",fu(e))for(var o=0;o<e.length;o++){l=e[o];var c=n+Ji(l,o);i+=Sl(l,t,r,c,a)}else if(c=f0(e),typeof c=="function")for(e=c.call(e),o=0;!(l=e.next()).done;)l=l.value,c=n+Ji(l,o++),i+=Sl(l,t,r,c,a);else if(l==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function al(e,t,r){if(e==null)return e;var n=[],a=0;return Sl(e,n,"","",function(l){return t.call(r,l,a++)}),n}function b0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var nt={current:null},Cl={transition:null},v0={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:Cl,ReactCurrentOwner:ed};function Th(){throw Error("act(...) is not supported in production builds of React.")}ee.Children={map:al,forEach:function(e,t,r){al(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return al(e,function(){t++}),t},toArray:function(e){return al(e,function(t){return t})||[]},only:function(e){if(!td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ee.Component=_n;ee.Fragment=i0;ee.Profiler=c0;ee.PureComponent=Xc;ee.StrictMode=o0;ee.Suspense=h0;ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=v0;ee.act=Th;ee.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=wh({},e.props),a=e.key,l=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(l=t.ref,i=ed.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)Eh.call(t,c)&&!Ph.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){o=Array(c);for(var d=0;d<c;d++)o[d]=arguments[d+2];n.children=o}return{$$typeof:Ka,type:e.type,key:a,ref:l,props:n,_owner:i}};ee.createContext=function(e){return e={$$typeof:u0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:d0,_context:e},e.Consumer=e};ee.createElement=Dh;ee.createFactory=function(e){var t=Dh.bind(null,e);return t.type=e,t};ee.createRef=function(){return{current:null}};ee.forwardRef=function(e){return{$$typeof:m0,render:e}};ee.isValidElement=td;ee.lazy=function(e){return{$$typeof:x0,_payload:{_status:-1,_result:e},_init:b0}};ee.memo=function(e,t){return{$$typeof:p0,type:e,compare:t===void 0?null:t}};ee.startTransition=function(e){var t=Cl.transition;Cl.transition={};try{e()}finally{Cl.transition=t}};ee.unstable_act=Th;ee.useCallback=function(e,t){return nt.current.useCallback(e,t)};ee.useContext=function(e){return nt.current.useContext(e)};ee.useDebugValue=function(){};ee.useDeferredValue=function(e){return nt.current.useDeferredValue(e)};ee.useEffect=function(e,t){return nt.current.useEffect(e,t)};ee.useId=function(){return nt.current.useId()};ee.useImperativeHandle=function(e,t,r){return nt.current.useImperativeHandle(e,t,r)};ee.useInsertionEffect=function(e,t){return nt.current.useInsertionEffect(e,t)};ee.useLayoutEffect=function(e,t){return nt.current.useLayoutEffect(e,t)};ee.useMemo=function(e,t){return nt.current.useMemo(e,t)};ee.useReducer=function(e,t,r){return nt.current.useReducer(e,t,r)};ee.useRef=function(e){return nt.current.useRef(e)};ee.useState=function(e){return nt.current.useState(e)};ee.useSyncExternalStore=function(e,t,r){return nt.current.useSyncExternalStore(e,t,r)};ee.useTransition=function(){return nt.current.useTransition()};ee.version="18.3.1";kh.exports=ee;var N=kh.exports;const Rh=a0(N),j0=n0({__proto__:null,default:Rh},[N]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k0=N,N0=Symbol.for("react.element"),w0=Symbol.for("react.fragment"),S0=Object.prototype.hasOwnProperty,C0=k0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,E0={key:!0,ref:!0,__self:!0,__source:!0};function Ah(e,t,r){var n,a={},l=null,i=null;r!==void 0&&(l=""+r),t.key!==void 0&&(l=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)S0.call(t,n)&&!E0.hasOwnProperty(n)&&(a[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)a[n]===void 0&&(a[n]=t[n]);return{$$typeof:N0,type:e,key:l,ref:i,props:a,_owner:C0.current}}ki.Fragment=w0;ki.jsx=Ah;ki.jsxs=Ah;jh.exports=ki;var s=jh.exports,Po={},Fh={exports:{}},Nt={},Mh={exports:{}},Oh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(R,M){var Q=R.length;R.push(M);e:for(;0<Q;){var V=Q-1>>>1,L=R[V];if(0<a(L,M))R[V]=M,R[Q]=L,Q=V;else break e}}function r(R){return R.length===0?null:R[0]}function n(R){if(R.length===0)return null;var M=R[0],Q=R.pop();if(Q!==M){R[0]=Q;e:for(var V=0,L=R.length,ae=L>>>1;V<ae;){var G=2*(V+1)-1,ge=R[G],Re=G+1,Ae=R[Re];if(0>a(ge,Q))Re<L&&0>a(Ae,ge)?(R[V]=Ae,R[Re]=Q,V=Re):(R[V]=ge,R[G]=Q,V=G);else if(Re<L&&0>a(Ae,Q))R[V]=Ae,R[Re]=Q,V=Re;else break e}}return M}function a(R,M){var Q=R.sortIndex-M.sortIndex;return Q!==0?Q:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,o=i.now();e.unstable_now=function(){return i.now()-o}}var c=[],d=[],u=1,h=null,x=3,v=!1,m=!1,p=!1,g=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(R){for(var M=r(d);M!==null;){if(M.callback===null)n(d);else if(M.startTime<=R)n(d),M.sortIndex=M.expirationTime,t(c,M);else break;M=r(d)}}function b(R){if(p=!1,j(R),!m)if(r(c)!==null)m=!0,Z(S);else{var M=r(d);M!==null&&F(b,M.startTime-R)}}function S(R,M){m=!1,p&&(p=!1,y(D),D=-1),v=!0;var Q=x;try{for(j(M),h=r(c);h!==null&&(!(h.expirationTime>M)||R&&!E());){var V=h.callback;if(typeof V=="function"){h.callback=null,x=h.priorityLevel;var L=V(h.expirationTime<=M);M=e.unstable_now(),typeof L=="function"?h.callback=L:h===r(c)&&n(c),j(M)}else n(c);h=r(c)}if(h!==null)var ae=!0;else{var G=r(d);G!==null&&F(b,G.startTime-M),ae=!1}return ae}finally{h=null,x=Q,v=!1}}var w=!1,k=null,D=-1,_=5,P=-1;function E(){return!(e.unstable_now()-P<_)}function q(){if(k!==null){var R=e.unstable_now();P=R;var M=!0;try{M=k(!0,R)}finally{M?te():(w=!1,k=null)}}else w=!1}var te;if(typeof f=="function")te=function(){f(q)};else if(typeof MessageChannel<"u"){var ne=new MessageChannel,fe=ne.port2;ne.port1.onmessage=q,te=function(){fe.postMessage(null)}}else te=function(){g(q,0)};function Z(R){k=R,w||(w=!0,te())}function F(R,M){D=g(function(){R(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(R){R.callback=null},e.unstable_continueExecution=function(){m||v||(m=!0,Z(S))},e.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<R?Math.floor(1e3/R):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(R){switch(x){case 1:case 2:case 3:var M=3;break;default:M=x}var Q=x;x=M;try{return R()}finally{x=Q}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var Q=x;x=R;try{return M()}finally{x=Q}},e.unstable_scheduleCallback=function(R,M,Q){var V=e.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?V+Q:V):Q=V,R){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=Q+L,R={id:u++,callback:M,priorityLevel:R,startTime:Q,expirationTime:L,sortIndex:-1},Q>V?(R.sortIndex=Q,t(d,R),r(c)===null&&R===r(d)&&(p?(y(D),D=-1):p=!0,F(b,Q-V))):(R.sortIndex=L,t(c,R),m||v||(m=!0,Z(S))),R},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(R){var M=x;return function(){var Q=x;x=M;try{return R.apply(this,arguments)}finally{x=Q}}}})(Oh);Mh.exports=Oh;var P0=Mh.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D0=N,vt=P0;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _h=new Set,ba={};function zr(e,t){Cn(e,t),Cn(e+"Capture",t)}function Cn(e,t){for(ba[e]=t,e=0;e<t.length;e++)_h.add(t[e])}var ys=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Do=Object.prototype.hasOwnProperty,T0=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,yu={},bu={};function R0(e){return Do.call(bu,e)?!0:Do.call(yu,e)?!1:T0.test(e)?bu[e]=!0:(yu[e]=!0,!1)}function A0(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function F0(e,t,r,n){if(t===null||typeof t>"u"||A0(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,r,n,a,l,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=l,this.removeEmptyString=i}var qe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qe[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qe[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qe[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qe[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qe[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qe[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qe[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qe[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qe[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var sd=/[\-:]([a-z])/g;function rd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(sd,rd);qe[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(sd,rd);qe[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(sd,rd);qe[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qe[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});qe.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qe[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function nd(e,t,r,n){var a=qe.hasOwnProperty(t)?qe[t]:null;(a!==null?a.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(F0(t,r,a,n)&&(r=null),n||a===null?R0(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=r===null?a.type===3?!1:"":r:(t=a.attributeName,n=a.attributeNamespace,r===null?e.removeAttribute(t):(a=a.type,r=a===3||a===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var Ss=D0.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ll=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),Jr=Symbol.for("react.fragment"),ad=Symbol.for("react.strict_mode"),To=Symbol.for("react.profiler"),Lh=Symbol.for("react.provider"),Ih=Symbol.for("react.context"),ld=Symbol.for("react.forward_ref"),Ro=Symbol.for("react.suspense"),Ao=Symbol.for("react.suspense_list"),id=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),Uh=Symbol.for("react.offscreen"),vu=Symbol.iterator;function Vn(e){return e===null||typeof e!="object"?null:(e=vu&&e[vu]||e["@@iterator"],typeof e=="function"?e:null)}var ve=Object.assign,Yi;function ra(e){if(Yi===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||""}return`
`+Yi+e}var Xi=!1;function Zi(e,t){if(!e||Xi)return"";Xi=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var n=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){n=d}e.call(t.prototype)}else{try{throw Error()}catch(d){n=d}e()}}catch(d){if(d&&n&&typeof d.stack=="string"){for(var a=d.stack.split(`
`),l=n.stack.split(`
`),i=a.length-1,o=l.length-1;1<=i&&0<=o&&a[i]!==l[o];)o--;for(;1<=i&&0<=o;i--,o--)if(a[i]!==l[o]){if(i!==1||o!==1)do if(i--,o--,0>o||a[i]!==l[o]){var c=`
`+a[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=o);break}}}finally{Xi=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?ra(e):""}function M0(e){switch(e.tag){case 5:return ra(e.type);case 16:return ra("Lazy");case 13:return ra("Suspense");case 19:return ra("SuspenseList");case 0:case 2:case 15:return e=Zi(e.type,!1),e;case 11:return e=Zi(e.type.render,!1),e;case 1:return e=Zi(e.type,!0),e;default:return""}}function Fo(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Jr:return"Fragment";case Gr:return"Portal";case To:return"Profiler";case ad:return"StrictMode";case Ro:return"Suspense";case Ao:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Ih:return(e.displayName||"Context")+".Consumer";case Lh:return(e._context.displayName||"Context")+".Provider";case ld:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case id:return t=e.displayName||null,t!==null?t:Fo(e.type)||"Memo";case Rs:t=e._payload,e=e._init;try{return Fo(e(t))}catch{}}return null}function O0(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Fo(t);case 8:return t===ad?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function nr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function $h(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _0(e){var t=$h(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var a=r.get,l=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function il(e){e._valueTracker||(e._valueTracker=_0(e))}function Bh(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=$h(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function ql(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Mo(e,t){var r=t.checked;return ve({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function ju(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=nr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zh(e,t){t=t.checked,t!=null&&nd(e,"checked",t,!1)}function Oo(e,t){zh(e,t);var r=nr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?_o(e,t.type,r):t.hasOwnProperty("defaultValue")&&_o(e,t.type,nr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function ku(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function _o(e,t,r){(t!=="number"||ql(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var na=Array.isArray;function on(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+nr(r),t=null,a=0;a<e.length;a++){if(e[a].value===r){e[a].selected=!0,n&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Lo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ve({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Nu(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(O(92));if(na(r)){if(1<r.length)throw Error(O(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:nr(r)}}function qh(e,t){var r=nr(t.value),n=nr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function wu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Hh(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Hh(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var ol,Qh=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(ol=ol||document.createElement("div"),ol.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ol.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function va(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ca={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},L0=["Webkit","ms","Moz","O"];Object.keys(ca).forEach(function(e){L0.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ca[t]=ca[e]})});function Kh(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ca.hasOwnProperty(e)&&ca[e]?(""+t).trim():t+"px"}function Vh(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,a=Kh(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}var I0=ve({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Uo(e,t){if(t){if(I0[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function $o(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bo=null;function od(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var zo=null,cn=null,dn=null;function Su(e){if(e=Ga(e)){if(typeof zo!="function")throw Error(O(280));var t=e.stateNode;t&&(t=Ei(t),zo(e.stateNode,e.type,t))}}function Wh(e){cn?dn?dn.push(e):dn=[e]:cn=e}function Gh(){if(cn){var e=cn,t=dn;if(dn=cn=null,Su(e),t)for(e=0;e<t.length;e++)Su(t[e])}}function Jh(e,t){return e(t)}function Yh(){}var eo=!1;function Xh(e,t,r){if(eo)return e(t,r);eo=!0;try{return Jh(e,t,r)}finally{eo=!1,(cn!==null||dn!==null)&&(Yh(),Gh())}}function ja(e,t){var r=e.stateNode;if(r===null)return null;var n=Ei(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(O(231,t,typeof r));return r}var qo=!1;if(ys)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){qo=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{qo=!1}function U0(e,t,r,n,a,l,i,o,c){var d=Array.prototype.slice.call(arguments,3);try{t.apply(r,d)}catch(u){this.onError(u)}}var da=!1,Hl=null,Ql=!1,Ho=null,$0={onError:function(e){da=!0,Hl=e}};function B0(e,t,r,n,a,l,i,o,c){da=!1,Hl=null,U0.apply($0,arguments)}function z0(e,t,r,n,a,l,i,o,c){if(B0.apply(this,arguments),da){if(da){var d=Hl;da=!1,Hl=null}else throw Error(O(198));Ql||(Ql=!0,Ho=d)}}function qr(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function Zh(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Cu(e){if(qr(e)!==e)throw Error(O(188))}function q0(e){var t=e.alternate;if(!t){if(t=qr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(a===null)break;var l=a.alternate;if(l===null){if(n=a.return,n!==null){r=n;continue}break}if(a.child===l.child){for(l=a.child;l;){if(l===r)return Cu(a),e;if(l===n)return Cu(a),t;l=l.sibling}throw Error(O(188))}if(r.return!==n.return)r=a,n=l;else{for(var i=!1,o=a.child;o;){if(o===r){i=!0,r=a,n=l;break}if(o===n){i=!0,n=a,r=l;break}o=o.sibling}if(!i){for(o=l.child;o;){if(o===r){i=!0,r=l,n=a;break}if(o===n){i=!0,n=l,r=a;break}o=o.sibling}if(!i)throw Error(O(189))}}if(r.alternate!==n)throw Error(O(190))}if(r.tag!==3)throw Error(O(188));return r.stateNode.current===r?e:t}function ep(e){return e=q0(e),e!==null?tp(e):null}function tp(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=tp(e);if(t!==null)return t;e=e.sibling}return null}var sp=vt.unstable_scheduleCallback,Eu=vt.unstable_cancelCallback,H0=vt.unstable_shouldYield,Q0=vt.unstable_requestPaint,we=vt.unstable_now,K0=vt.unstable_getCurrentPriorityLevel,cd=vt.unstable_ImmediatePriority,rp=vt.unstable_UserBlockingPriority,Kl=vt.unstable_NormalPriority,V0=vt.unstable_LowPriority,np=vt.unstable_IdlePriority,Ni=null,rs=null;function W0(e){if(rs&&typeof rs.onCommitFiberRoot=="function")try{rs.onCommitFiberRoot(Ni,e,void 0,(e.current.flags&128)===128)}catch{}}var zt=Math.clz32?Math.clz32:Y0,G0=Math.log,J0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(G0(e)/J0|0)|0}var cl=64,dl=4194304;function aa(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Vl(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,a=e.suspendedLanes,l=e.pingedLanes,i=r&268435455;if(i!==0){var o=i&~a;o!==0?n=aa(o):(l&=i,l!==0&&(n=aa(l)))}else i=r&~a,i!==0?n=aa(i):l!==0&&(n=aa(l));if(n===0)return 0;if(t!==0&&t!==n&&!(t&a)&&(a=n&-n,l=t&-t,a>=l||a===16&&(l&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-zt(t),a=1<<r,n|=e[r],t&=~a;return n}function X0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Z0(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,l=e.pendingLanes;0<l;){var i=31-zt(l),o=1<<i,c=a[i];c===-1?(!(o&r)||o&n)&&(a[i]=X0(o,t)):c<=t&&(e.expiredLanes|=o),l&=~o}}function Qo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function ap(){var e=cl;return cl<<=1,!(cl&4194240)&&(cl=64),e}function to(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Va(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-zt(t),e[t]=r}function eg(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-zt(r),l=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~l}}function dd(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-zt(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var ie=0;function lp(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var ip,ud,op,cp,dp,Ko=!1,ul=[],Ws=null,Gs=null,Js=null,ka=new Map,Na=new Map,Fs=[],tg="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pu(e,t){switch(e){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Js=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Na.delete(t.pointerId)}}function Gn(e,t,r,n,a,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:l,targetContainers:[a]},t!==null&&(t=Ga(t),t!==null&&ud(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function sg(e,t,r,n,a){switch(t){case"focusin":return Ws=Gn(Ws,e,t,r,n,a),!0;case"dragenter":return Gs=Gn(Gs,e,t,r,n,a),!0;case"mouseover":return Js=Gn(Js,e,t,r,n,a),!0;case"pointerover":var l=a.pointerId;return ka.set(l,Gn(ka.get(l)||null,e,t,r,n,a)),!0;case"gotpointercapture":return l=a.pointerId,Na.set(l,Gn(Na.get(l)||null,e,t,r,n,a)),!0}return!1}function up(e){var t=xr(e.target);if(t!==null){var r=qr(t);if(r!==null){if(t=r.tag,t===13){if(t=Zh(r),t!==null){e.blockedOn=t,dp(e.priority,function(){op(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function El(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=Vo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);Bo=n,r.target.dispatchEvent(n),Bo=null}else return t=Ga(r),t!==null&&ud(t),e.blockedOn=r,!1;t.shift()}return!0}function Du(e,t,r){El(e)&&r.delete(t)}function rg(){Ko=!1,Ws!==null&&El(Ws)&&(Ws=null),Gs!==null&&El(Gs)&&(Gs=null),Js!==null&&El(Js)&&(Js=null),ka.forEach(Du),Na.forEach(Du)}function Jn(e,t){e.blockedOn===t&&(e.blockedOn=null,Ko||(Ko=!0,vt.unstable_scheduleCallback(vt.unstable_NormalPriority,rg)))}function wa(e){function t(a){return Jn(a,e)}if(0<ul.length){Jn(ul[0],e);for(var r=1;r<ul.length;r++){var n=ul[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ws!==null&&Jn(Ws,e),Gs!==null&&Jn(Gs,e),Js!==null&&Jn(Js,e),ka.forEach(t),Na.forEach(t),r=0;r<Fs.length;r++)n=Fs[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Fs.length&&(r=Fs[0],r.blockedOn===null);)up(r),r.blockedOn===null&&Fs.shift()}var un=Ss.ReactCurrentBatchConfig,Wl=!0;function ng(e,t,r,n){var a=ie,l=un.transition;un.transition=null;try{ie=1,md(e,t,r,n)}finally{ie=a,un.transition=l}}function ag(e,t,r,n){var a=ie,l=un.transition;un.transition=null;try{ie=4,md(e,t,r,n)}finally{ie=a,un.transition=l}}function md(e,t,r,n){if(Wl){var a=Vo(e,t,r,n);if(a===null)mo(e,t,n,Gl,r),Pu(e,n);else if(sg(a,e,t,r,n))n.stopPropagation();else if(Pu(e,n),t&4&&-1<tg.indexOf(e)){for(;a!==null;){var l=Ga(a);if(l!==null&&ip(l),l=Vo(e,t,r,n),l===null&&mo(e,t,n,Gl,r),l===a)break;a=l}a!==null&&n.stopPropagation()}else mo(e,t,n,null,r)}}var Gl=null;function Vo(e,t,r,n){if(Gl=null,e=od(n),e=xr(e),e!==null)if(t=qr(e),t===null)e=null;else if(r=t.tag,r===13){if(e=Zh(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function mp(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(K0()){case cd:return 1;case rp:return 4;case Kl:case V0:return 16;case np:return 536870912;default:return 16}default:return 16}}var Qs=null,hd=null,Pl=null;function hp(){if(Pl)return Pl;var e,t=hd,r=t.length,n,a="value"in Qs?Qs.value:Qs.textContent,l=a.length;for(e=0;e<r&&t[e]===a[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===a[l-n];n++);return Pl=a.slice(e,1<n?1-n:void 0)}function Dl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ml(){return!0}function Tu(){return!1}function wt(e){function t(r,n,a,l,i){this._reactName=r,this._targetInst=a,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(r=e[o],this[o]=r?r(l):l[o]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ml:Tu,this.isPropagationStopped=Tu,this}return ve(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=ml)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=ml)},persist:function(){},isPersistent:ml}),t}var Ln={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pd=wt(Ln),Wa=ve({},Ln,{view:0,detail:0}),lg=wt(Wa),so,ro,Yn,wi=ve({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Yn&&(Yn&&e.type==="mousemove"?(so=e.screenX-Yn.screenX,ro=e.screenY-Yn.screenY):ro=so=0,Yn=e),so)},movementY:function(e){return"movementY"in e?e.movementY:ro}}),Ru=wt(wi),ig=ve({},wi,{dataTransfer:0}),og=wt(ig),cg=ve({},Wa,{relatedTarget:0}),no=wt(cg),dg=ve({},Ln,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=wt(dg),mg=ve({},Ln,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),hg=wt(mg),pg=ve({},Ln,{data:0}),Au=wt(pg),xg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},fg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},gg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=gg[e])?!!t[e]:!1}function xd(){return yg}var bg=ve({},Wa,{key:function(e){if(e.key){var t=xg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?fg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xd,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vg=wt(bg),jg=ve({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fu=wt(jg),kg=ve({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xd}),Ng=wt(kg),wg=ve({},Ln,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=wt(wg),Cg=ve({},wi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Eg=wt(Cg),Pg=[9,13,27,32],fd=ys&&"CompositionEvent"in window,ua=null;ys&&"documentMode"in document&&(ua=document.documentMode);var Dg=ys&&"TextEvent"in window&&!ua,pp=ys&&(!fd||ua&&8<ua&&11>=ua),Mu=" ",Ou=!1;function xp(e,t){switch(e){case"keyup":return Pg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Yr=!1;function Tg(e,t){switch(e){case"compositionend":return fp(t);case"keypress":return t.which!==32?null:(Ou=!0,Mu);case"textInput":return e=t.data,e===Mu&&Ou?null:e;default:return null}}function Rg(e,t){if(Yr)return e==="compositionend"||!fd&&xp(e,t)?(e=hp(),Pl=hd=Qs=null,Yr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return pp&&t.locale!=="ko"?null:t.data;default:return null}}var Ag={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _u(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Ag[e.type]:t==="textarea"}function gp(e,t,r,n){Wh(n),t=Jl(t,"onChange"),0<t.length&&(r=new pd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ma=null,Sa=null;function Fg(e){Pp(e,0)}function Si(e){var t=en(e);if(Bh(t))return e}function Mg(e,t){if(e==="change")return t}var yp=!1;if(ys){var ao;if(ys){var lo="oninput"in document;if(!lo){var Lu=document.createElement("div");Lu.setAttribute("oninput","return;"),lo=typeof Lu.oninput=="function"}ao=lo}else ao=!1;yp=ao&&(!document.documentMode||9<document.documentMode)}function Iu(){ma&&(ma.detachEvent("onpropertychange",bp),Sa=ma=null)}function bp(e){if(e.propertyName==="value"&&Si(Sa)){var t=[];gp(t,Sa,e,od(e)),Xh(Fg,t)}}function Og(e,t,r){e==="focusin"?(Iu(),ma=t,Sa=r,ma.attachEvent("onpropertychange",bp)):e==="focusout"&&Iu()}function _g(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Si(Sa)}function Lg(e,t){if(e==="click")return Si(t)}function Ig(e,t){if(e==="input"||e==="change")return Si(t)}function Ug(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ht=typeof Object.is=="function"?Object.is:Ug;function Ca(e,t){if(Ht(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!Do.call(t,a)||!Ht(e[a],t[a]))return!1}return!0}function Uu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var r=Uu(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Uu(r)}}function vp(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?vp(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jp(){for(var e=window,t=ql();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=ql(e.document)}return t}function gd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $g(e){var t=jp(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&vp(r.ownerDocument.documentElement,r)){if(n!==null&&gd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=r.textContent.length,l=Math.min(n.start,a);n=n.end===void 0?l:Math.min(n.end,a),!e.extend&&l>n&&(a=n,n=l,l=a),a=$u(r,l);var i=$u(r,n);a&&i&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),l>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Bg=ys&&"documentMode"in document&&11>=document.documentMode,Xr=null,Wo=null,ha=null,Go=!1;function Bu(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Go||Xr==null||Xr!==ql(n)||(n=Xr,"selectionStart"in n&&gd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),ha&&Ca(ha,n)||(ha=n,n=Jl(Wo,"onSelect"),0<n.length&&(t=new pd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=Xr)))}function hl(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Zr={animationend:hl("Animation","AnimationEnd"),animationiteration:hl("Animation","AnimationIteration"),animationstart:hl("Animation","AnimationStart"),transitionend:hl("Transition","TransitionEnd")},io={},kp={};ys&&(kp=document.createElement("div").style,"AnimationEvent"in window||(delete Zr.animationend.animation,delete Zr.animationiteration.animation,delete Zr.animationstart.animation),"TransitionEvent"in window||delete Zr.transitionend.transition);function Ci(e){if(io[e])return io[e];if(!Zr[e])return e;var t=Zr[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in kp)return io[e]=t[r];return e}var Np=Ci("animationend"),wp=Ci("animationiteration"),Sp=Ci("animationstart"),Cp=Ci("transitionend"),Ep=new Map,zu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(e,t){Ep.set(e,t),zr(t,[e])}for(var oo=0;oo<zu.length;oo++){var co=zu[oo],zg=co.toLowerCase(),qg=co[0].toUpperCase()+co.slice(1);or(zg,"on"+qg)}or(Np,"onAnimationEnd");or(wp,"onAnimationIteration");or(Sp,"onAnimationStart");or("dblclick","onDoubleClick");or("focusin","onFocus");or("focusout","onBlur");or(Cp,"onTransitionEnd");Cn("onMouseEnter",["mouseout","mouseover"]);Cn("onMouseLeave",["mouseout","mouseover"]);Cn("onPointerEnter",["pointerout","pointerover"]);Cn("onPointerLeave",["pointerout","pointerover"]);zr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zr("onBeforeInput",["compositionend","keypress","textInput","paste"]);zr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var la="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Hg=new Set("cancel close invalid load scroll toggle".split(" ").concat(la));function qu(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,z0(n,t,void 0,e),e.currentTarget=null}function Pp(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var o=n[i],c=o.instance,d=o.currentTarget;if(o=o.listener,c!==l&&a.isPropagationStopped())break e;qu(a,o,d),l=c}else for(i=0;i<n.length;i++){if(o=n[i],c=o.instance,d=o.currentTarget,o=o.listener,c!==l&&a.isPropagationStopped())break e;qu(a,o,d),l=c}}}if(Ql)throw e=Ho,Ql=!1,Ho=null,e}function he(e,t){var r=t[ec];r===void 0&&(r=t[ec]=new Set);var n=e+"__bubble";r.has(n)||(Dp(t,e,2,!1),r.add(n))}function uo(e,t,r){var n=0;t&&(n|=4),Dp(r,e,n,t)}var pl="_reactListening"+Math.random().toString(36).slice(2);function Ea(e){if(!e[pl]){e[pl]=!0,_h.forEach(function(r){r!=="selectionchange"&&(Hg.has(r)||uo(r,!1,e),uo(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pl]||(t[pl]=!0,uo("selectionchange",!1,t))}}function Dp(e,t,r,n){switch(mp(t)){case 1:var a=ng;break;case 4:a=ag;break;default:a=md}r=a.bind(null,t,r,e),a=void 0,!qo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),n?a!==void 0?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):a!==void 0?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function mo(e,t,r,n,a){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var o=n.stateNode.containerInfo;if(o===a||o.nodeType===8&&o.parentNode===a)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;i=i.return}for(;o!==null;){if(i=xr(o),i===null)return;if(c=i.tag,c===5||c===6){n=l=i;continue e}o=o.parentNode}}n=n.return}Xh(function(){var d=l,u=od(r),h=[];e:{var x=Ep.get(e);if(x!==void 0){var v=pd,m=e;switch(e){case"keypress":if(Dl(r)===0)break e;case"keydown":case"keyup":v=vg;break;case"focusin":m="focus",v=no;break;case"focusout":m="blur",v=no;break;case"beforeblur":case"afterblur":v=no;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=Ru;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=og;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Ng;break;case Np:case wp:case Sp:v=ug;break;case Cp:v=Sg;break;case"scroll":v=lg;break;case"wheel":v=Eg;break;case"copy":case"cut":case"paste":v=hg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=Fu}var p=(t&4)!==0,g=!p&&e==="scroll",y=p?x!==null?x+"Capture":null:x;p=[];for(var f=d,j;f!==null;){j=f;var b=j.stateNode;if(j.tag===5&&b!==null&&(j=b,y!==null&&(b=ja(f,y),b!=null&&p.push(Pa(f,b,j)))),g)break;f=f.return}0<p.length&&(x=new v(x,m,null,r,u),h.push({event:x,listeners:p}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",v=e==="mouseout"||e==="pointerout",x&&r!==Bo&&(m=r.relatedTarget||r.fromElement)&&(xr(m)||m[bs]))break e;if((v||x)&&(x=u.window===u?u:(x=u.ownerDocument)?x.defaultView||x.parentWindow:window,v?(m=r.relatedTarget||r.toElement,v=d,m=m?xr(m):null,m!==null&&(g=qr(m),m!==g||m.tag!==5&&m.tag!==6)&&(m=null)):(v=null,m=d),v!==m)){if(p=Ru,b="onMouseLeave",y="onMouseEnter",f="mouse",(e==="pointerout"||e==="pointerover")&&(p=Fu,b="onPointerLeave",y="onPointerEnter",f="pointer"),g=v==null?x:en(v),j=m==null?x:en(m),x=new p(b,f+"leave",v,r,u),x.target=g,x.relatedTarget=j,b=null,xr(u)===d&&(p=new p(y,f+"enter",m,r,u),p.target=j,p.relatedTarget=g,b=p),g=b,v&&m)t:{for(p=v,y=m,f=0,j=p;j;j=Wr(j))f++;for(j=0,b=y;b;b=Wr(b))j++;for(;0<f-j;)p=Wr(p),f--;for(;0<j-f;)y=Wr(y),j--;for(;f--;){if(p===y||y!==null&&p===y.alternate)break t;p=Wr(p),y=Wr(y)}p=null}else p=null;v!==null&&Hu(h,x,v,p,!1),m!==null&&g!==null&&Hu(h,g,m,p,!0)}}e:{if(x=d?en(d):window,v=x.nodeName&&x.nodeName.toLowerCase(),v==="select"||v==="input"&&x.type==="file")var S=Mg;else if(_u(x))if(yp)S=Ig;else{S=_g;var w=Og}else(v=x.nodeName)&&v.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(S=Lg);if(S&&(S=S(e,d))){gp(h,S,r,u);break e}w&&w(e,x,d),e==="focusout"&&(w=x._wrapperState)&&w.controlled&&x.type==="number"&&_o(x,"number",x.value)}switch(w=d?en(d):window,e){case"focusin":(_u(w)||w.contentEditable==="true")&&(Xr=w,Wo=d,ha=null);break;case"focusout":ha=Wo=Xr=null;break;case"mousedown":Go=!0;break;case"contextmenu":case"mouseup":case"dragend":Go=!1,Bu(h,r,u);break;case"selectionchange":if(Bg)break;case"keydown":case"keyup":Bu(h,r,u)}var k;if(fd)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else Yr?xp(e,r)&&(D="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(D="onCompositionStart");D&&(pp&&r.locale!=="ko"&&(Yr||D!=="onCompositionStart"?D==="onCompositionEnd"&&Yr&&(k=hp()):(Qs=u,hd="value"in Qs?Qs.value:Qs.textContent,Yr=!0)),w=Jl(d,D),0<w.length&&(D=new Au(D,e,null,r,u),h.push({event:D,listeners:w}),k?D.data=k:(k=fp(r),k!==null&&(D.data=k)))),(k=Dg?Tg(e,r):Rg(e,r))&&(d=Jl(d,"onBeforeInput"),0<d.length&&(u=new Au("onBeforeInput","beforeinput",null,r,u),h.push({event:u,listeners:d}),u.data=k))}Pp(h,t)})}function Pa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Jl(e,t){for(var r=t+"Capture",n=[];e!==null;){var a=e,l=a.stateNode;a.tag===5&&l!==null&&(a=l,l=ja(e,r),l!=null&&n.unshift(Pa(e,l,a)),l=ja(e,t),l!=null&&n.push(Pa(e,l,a))),e=e.return}return n}function Wr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Hu(e,t,r,n,a){for(var l=t._reactName,i=[];r!==null&&r!==n;){var o=r,c=o.alternate,d=o.stateNode;if(c!==null&&c===n)break;o.tag===5&&d!==null&&(o=d,a?(c=ja(r,l),c!=null&&i.unshift(Pa(r,c,o))):a||(c=ja(r,l),c!=null&&i.push(Pa(r,c,o)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var Qg=/\r\n?/g,Kg=/\u0000|\uFFFD/g;function Qu(e){return(typeof e=="string"?e:""+e).replace(Qg,`
`).replace(Kg,"")}function xl(e,t,r){if(t=Qu(t),Qu(e)!==t&&r)throw Error(O(425))}function Yl(){}var Jo=null,Yo=null;function Xo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Zo=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,Ku=typeof Promise=="function"?Promise:void 0,Wg=typeof queueMicrotask=="function"?queueMicrotask:typeof Ku<"u"?function(e){return Ku.resolve(null).then(e).catch(Gg)}:Zo;function Gg(e){setTimeout(function(){throw e})}function ho(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&a.nodeType===8)if(r=a.data,r==="/$"){if(n===0){e.removeChild(a),wa(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=a}while(r);wa(t)}function Ys(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Vu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var In=Math.random().toString(36).slice(2),ts="__reactFiber$"+In,Da="__reactProps$"+In,bs="__reactContainer$"+In,ec="__reactEvents$"+In,Jg="__reactListeners$"+In,Yg="__reactHandles$"+In;function xr(e){var t=e[ts];if(t)return t;for(var r=e.parentNode;r;){if(t=r[bs]||r[ts]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=Vu(e);e!==null;){if(r=e[ts])return r;e=Vu(e)}return t}e=r,r=e.parentNode}return null}function Ga(e){return e=e[ts]||e[bs],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function en(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function Ei(e){return e[Da]||null}var tc=[],tn=-1;function cr(e){return{current:e}}function pe(e){0>tn||(e.current=tc[tn],tc[tn]=null,tn--)}function ue(e,t){tn++,tc[tn]=e.current,e.current=t}var ar={},Je=cr(ar),ut=cr(!1),Fr=ar;function En(e,t){var r=e.type.contextTypes;if(!r)return ar;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a={},l;for(l in r)a[l]=t[l];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mt(e){return e=e.childContextTypes,e!=null}function Xl(){pe(ut),pe(Je)}function Wu(e,t,r){if(Je.current!==ar)throw Error(O(168));ue(Je,t),ue(ut,r)}function Tp(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var a in n)if(!(a in t))throw Error(O(108,O0(e)||"Unknown",a));return ve({},r,n)}function Zl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ar,Fr=Je.current,ue(Je,e),ue(ut,ut.current),!0}function Gu(e,t,r){var n=e.stateNode;if(!n)throw Error(O(169));r?(e=Tp(e,t,Fr),n.__reactInternalMemoizedMergedChildContext=e,pe(ut),pe(Je),ue(Je,e)):pe(ut),ue(ut,r)}var cs=null,Pi=!1,po=!1;function Rp(e){cs===null?cs=[e]:cs.push(e)}function Xg(e){Pi=!0,Rp(e)}function dr(){if(!po&&cs!==null){po=!0;var e=0,t=ie;try{var r=cs;for(ie=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}cs=null,Pi=!1}catch(a){throw cs!==null&&(cs=cs.slice(e+1)),sp(cd,dr),a}finally{ie=t,po=!1}}return null}var sn=[],rn=0,ei=null,ti=0,Dt=[],Tt=0,Mr=null,ps=1,xs="";function hr(e,t){sn[rn++]=ti,sn[rn++]=ei,ei=e,ti=t}function Ap(e,t,r){Dt[Tt++]=ps,Dt[Tt++]=xs,Dt[Tt++]=Mr,Mr=e;var n=ps;e=xs;var a=32-zt(n)-1;n&=~(1<<a),r+=1;var l=32-zt(t)+a;if(30<l){var i=a-a%5;l=(n&(1<<i)-1).toString(32),n>>=i,a-=i,ps=1<<32-zt(t)+a|r<<a|n,xs=l+e}else ps=1<<l|r<<a|n,xs=e}function yd(e){e.return!==null&&(hr(e,1),Ap(e,1,0))}function bd(e){for(;e===ei;)ei=sn[--rn],sn[rn]=null,ti=sn[--rn],sn[rn]=null;for(;e===Mr;)Mr=Dt[--Tt],Dt[Tt]=null,xs=Dt[--Tt],Dt[Tt]=null,ps=Dt[--Tt],Dt[Tt]=null}var yt=null,gt=null,xe=!1,Bt=null;function Fp(e,t){var r=Rt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function Ju(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,yt=e,gt=Ys(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,yt=e,gt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Mr!==null?{id:ps,overflow:xs}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Rt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,yt=e,gt=null,!0):!1;default:return!1}}function sc(e){return(e.mode&1)!==0&&(e.flags&128)===0}function rc(e){if(xe){var t=gt;if(t){var r=t;if(!Ju(e,t)){if(sc(e))throw Error(O(418));t=Ys(r.nextSibling);var n=yt;t&&Ju(e,t)?Fp(n,r):(e.flags=e.flags&-4097|2,xe=!1,yt=e)}}else{if(sc(e))throw Error(O(418));e.flags=e.flags&-4097|2,xe=!1,yt=e}}}function Yu(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;yt=e}function fl(e){if(e!==yt)return!1;if(!xe)return Yu(e),xe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Xo(e.type,e.memoizedProps)),t&&(t=gt)){if(sc(e))throw Mp(),Error(O(418));for(;t;)Fp(e,t),t=Ys(t.nextSibling)}if(Yu(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){gt=Ys(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}gt=null}}else gt=yt?Ys(e.stateNode.nextSibling):null;return!0}function Mp(){for(var e=gt;e;)e=Ys(e.nextSibling)}function Pn(){gt=yt=null,xe=!1}function vd(e){Bt===null?Bt=[e]:Bt.push(e)}var Zg=Ss.ReactCurrentBatchConfig;function Xn(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(O(309));var n=r.stateNode}if(!n)throw Error(O(147,e));var a=n,l=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===l?t.ref:(t=function(i){var o=a.refs;i===null?delete o[l]:o[l]=i},t._stringRef=l,t)}if(typeof e!="string")throw Error(O(284));if(!r._owner)throw Error(O(290,e))}return e}function gl(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Xu(e){var t=e._init;return t(e._payload)}function Op(e){function t(y,f){if(e){var j=y.deletions;j===null?(y.deletions=[f],y.flags|=16):j.push(f)}}function r(y,f){if(!e)return null;for(;f!==null;)t(y,f),f=f.sibling;return null}function n(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function a(y,f){return y=tr(y,f),y.index=0,y.sibling=null,y}function l(y,f,j){return y.index=j,e?(j=y.alternate,j!==null?(j=j.index,j<f?(y.flags|=2,f):j):(y.flags|=2,f)):(y.flags|=1048576,f)}function i(y){return e&&y.alternate===null&&(y.flags|=2),y}function o(y,f,j,b){return f===null||f.tag!==6?(f=jo(j,y.mode,b),f.return=y,f):(f=a(f,j),f.return=y,f)}function c(y,f,j,b){var S=j.type;return S===Jr?u(y,f,j.props.children,b,j.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rs&&Xu(S)===f.type)?(b=a(f,j.props),b.ref=Xn(y,f,j),b.return=y,b):(b=_l(j.type,j.key,j.props,null,y.mode,b),b.ref=Xn(y,f,j),b.return=y,b)}function d(y,f,j,b){return f===null||f.tag!==4||f.stateNode.containerInfo!==j.containerInfo||f.stateNode.implementation!==j.implementation?(f=ko(j,y.mode,b),f.return=y,f):(f=a(f,j.children||[]),f.return=y,f)}function u(y,f,j,b,S){return f===null||f.tag!==7?(f=Rr(j,y.mode,b,S),f.return=y,f):(f=a(f,j),f.return=y,f)}function h(y,f,j){if(typeof f=="string"&&f!==""||typeof f=="number")return f=jo(""+f,y.mode,j),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case ll:return j=_l(f.type,f.key,f.props,null,y.mode,j),j.ref=Xn(y,null,f),j.return=y,j;case Gr:return f=ko(f,y.mode,j),f.return=y,f;case Rs:var b=f._init;return h(y,b(f._payload),j)}if(na(f)||Vn(f))return f=Rr(f,y.mode,j,null),f.return=y,f;gl(y,f)}return null}function x(y,f,j,b){var S=f!==null?f.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return S!==null?null:o(y,f,""+j,b);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case ll:return j.key===S?c(y,f,j,b):null;case Gr:return j.key===S?d(y,f,j,b):null;case Rs:return S=j._init,x(y,f,S(j._payload),b)}if(na(j)||Vn(j))return S!==null?null:u(y,f,j,b,null);gl(y,j)}return null}function v(y,f,j,b,S){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(j)||null,o(f,y,""+b,S);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ll:return y=y.get(b.key===null?j:b.key)||null,c(f,y,b,S);case Gr:return y=y.get(b.key===null?j:b.key)||null,d(f,y,b,S);case Rs:var w=b._init;return v(y,f,j,w(b._payload),S)}if(na(b)||Vn(b))return y=y.get(j)||null,u(f,y,b,S,null);gl(f,b)}return null}function m(y,f,j,b){for(var S=null,w=null,k=f,D=f=0,_=null;k!==null&&D<j.length;D++){k.index>D?(_=k,k=null):_=k.sibling;var P=x(y,k,j[D],b);if(P===null){k===null&&(k=_);break}e&&k&&P.alternate===null&&t(y,k),f=l(P,f,D),w===null?S=P:w.sibling=P,w=P,k=_}if(D===j.length)return r(y,k),xe&&hr(y,D),S;if(k===null){for(;D<j.length;D++)k=h(y,j[D],b),k!==null&&(f=l(k,f,D),w===null?S=k:w.sibling=k,w=k);return xe&&hr(y,D),S}for(k=n(y,k);D<j.length;D++)_=v(k,y,D,j[D],b),_!==null&&(e&&_.alternate!==null&&k.delete(_.key===null?D:_.key),f=l(_,f,D),w===null?S=_:w.sibling=_,w=_);return e&&k.forEach(function(E){return t(y,E)}),xe&&hr(y,D),S}function p(y,f,j,b){var S=Vn(j);if(typeof S!="function")throw Error(O(150));if(j=S.call(j),j==null)throw Error(O(151));for(var w=S=null,k=f,D=f=0,_=null,P=j.next();k!==null&&!P.done;D++,P=j.next()){k.index>D?(_=k,k=null):_=k.sibling;var E=x(y,k,P.value,b);if(E===null){k===null&&(k=_);break}e&&k&&E.alternate===null&&t(y,k),f=l(E,f,D),w===null?S=E:w.sibling=E,w=E,k=_}if(P.done)return r(y,k),xe&&hr(y,D),S;if(k===null){for(;!P.done;D++,P=j.next())P=h(y,P.value,b),P!==null&&(f=l(P,f,D),w===null?S=P:w.sibling=P,w=P);return xe&&hr(y,D),S}for(k=n(y,k);!P.done;D++,P=j.next())P=v(k,y,D,P.value,b),P!==null&&(e&&P.alternate!==null&&k.delete(P.key===null?D:P.key),f=l(P,f,D),w===null?S=P:w.sibling=P,w=P);return e&&k.forEach(function(q){return t(y,q)}),xe&&hr(y,D),S}function g(y,f,j,b){if(typeof j=="object"&&j!==null&&j.type===Jr&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case ll:e:{for(var S=j.key,w=f;w!==null;){if(w.key===S){if(S=j.type,S===Jr){if(w.tag===7){r(y,w.sibling),f=a(w,j.props.children),f.return=y,y=f;break e}}else if(w.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Rs&&Xu(S)===w.type){r(y,w.sibling),f=a(w,j.props),f.ref=Xn(y,w,j),f.return=y,y=f;break e}r(y,w);break}else t(y,w);w=w.sibling}j.type===Jr?(f=Rr(j.props.children,y.mode,b,j.key),f.return=y,y=f):(b=_l(j.type,j.key,j.props,null,y.mode,b),b.ref=Xn(y,f,j),b.return=y,y=b)}return i(y);case Gr:e:{for(w=j.key;f!==null;){if(f.key===w)if(f.tag===4&&f.stateNode.containerInfo===j.containerInfo&&f.stateNode.implementation===j.implementation){r(y,f.sibling),f=a(f,j.children||[]),f.return=y,y=f;break e}else{r(y,f);break}else t(y,f);f=f.sibling}f=ko(j,y.mode,b),f.return=y,y=f}return i(y);case Rs:return w=j._init,g(y,f,w(j._payload),b)}if(na(j))return m(y,f,j,b);if(Vn(j))return p(y,f,j,b);gl(y,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,f!==null&&f.tag===6?(r(y,f.sibling),f=a(f,j),f.return=y,y=f):(r(y,f),f=jo(j,y.mode,b),f.return=y,y=f),i(y)):r(y,f)}return g}var Dn=Op(!0),_p=Op(!1),si=cr(null),ri=null,nn=null,jd=null;function kd(){jd=nn=ri=null}function Nd(e){var t=si.current;pe(si),e._currentValue=t}function nc(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function mn(e,t){ri=e,jd=nn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(dt=!0),e.firstContext=null)}function Mt(e){var t=e._currentValue;if(jd!==e)if(e={context:e,memoizedValue:t,next:null},nn===null){if(ri===null)throw Error(O(308));nn=e,ri.dependencies={lanes:0,firstContext:e}}else nn=nn.next=e;return t}var fr=null;function wd(e){fr===null?fr=[e]:fr.push(e)}function Lp(e,t,r,n){var a=t.interleaved;return a===null?(r.next=r,wd(t)):(r.next=a.next,a.next=r),t.interleaved=r,vs(e,n)}function vs(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var As=!1;function Sd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ip(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Xs(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,re&2){var a=n.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),n.pending=t,vs(e,r)}return a=n.interleaved,a===null?(t.next=t,wd(n)):(t.next=a.next,a.next=t),n.interleaved=t,vs(e,r)}function Tl(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}function Zu(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var a=null,l=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};l===null?a=l=i:l=l.next=i,r=r.next}while(r!==null);l===null?a=l=t:l=l.next=t}else a=l=t;r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:l,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function ni(e,t,r,n){var a=e.updateQueue;As=!1;var l=a.firstBaseUpdate,i=a.lastBaseUpdate,o=a.shared.pending;if(o!==null){a.shared.pending=null;var c=o,d=c.next;c.next=null,i===null?l=d:i.next=d,i=c;var u=e.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==i&&(o===null?u.firstBaseUpdate=d:o.next=d,u.lastBaseUpdate=c))}if(l!==null){var h=a.baseState;i=0,u=d=c=null,o=l;do{var x=o.lane,v=o.eventTime;if((n&x)===x){u!==null&&(u=u.next={eventTime:v,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=e,p=o;switch(x=t,v=r,p.tag){case 1:if(m=p.payload,typeof m=="function"){h=m.call(v,h,x);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=p.payload,x=typeof m=="function"?m.call(v,h,x):m,x==null)break e;h=ve({},h,x);break e;case 2:As=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[o]:x.push(o))}else v={eventTime:v,lane:x,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(d=u=v,c=h):u=u.next=v,i|=x;if(o=o.next,o===null){if(o=a.shared.pending,o===null)break;x=o,o=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(u===null&&(c=h),a.baseState=c,a.firstBaseUpdate=d,a.lastBaseUpdate=u,t=a.shared.interleaved,t!==null){a=t;do i|=a.lane,a=a.next;while(a!==t)}else l===null&&(a.shared.lanes=0);_r|=i,e.lanes=i,e.memoizedState=h}}function em(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(a!==null){if(n.callback=null,n=r,typeof a!="function")throw Error(O(191,a));a.call(n)}}}var Ja={},ns=cr(Ja),Ta=cr(Ja),Ra=cr(Ja);function gr(e){if(e===Ja)throw Error(O(174));return e}function Cd(e,t){switch(ue(Ra,t),ue(Ta,e),ue(ns,Ja),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Io(t,e)}pe(ns),ue(ns,t)}function Tn(){pe(ns),pe(Ta),pe(Ra)}function Up(e){gr(Ra.current);var t=gr(ns.current),r=Io(t,e.type);t!==r&&(ue(Ta,e),ue(ns,r))}function Ed(e){Ta.current===e&&(pe(ns),pe(Ta))}var ye=cr(0);function ai(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var xo=[];function Pd(){for(var e=0;e<xo.length;e++)xo[e]._workInProgressVersionPrimary=null;xo.length=0}var Rl=Ss.ReactCurrentDispatcher,fo=Ss.ReactCurrentBatchConfig,Or=0,be=null,Me=null,Ue=null,li=!1,pa=!1,Aa=0,ey=0;function Qe(){throw Error(O(321))}function Dd(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!Ht(e[r],t[r]))return!1;return!0}function Td(e,t,r,n,a,l){if(Or=l,be=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rl.current=e===null||e.memoizedState===null?ny:ay,e=r(n,a),pa){l=0;do{if(pa=!1,Aa=0,25<=l)throw Error(O(301));l+=1,Ue=Me=null,t.updateQueue=null,Rl.current=ly,e=r(n,a)}while(pa)}if(Rl.current=ii,t=Me!==null&&Me.next!==null,Or=0,Ue=Me=be=null,li=!1,t)throw Error(O(300));return e}function Rd(){var e=Aa!==0;return Aa=0,e}function Yt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ue===null?be.memoizedState=Ue=e:Ue=Ue.next=e,Ue}function Ot(){if(Me===null){var e=be.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ue===null?be.memoizedState:Ue.next;if(t!==null)Ue=t,Me=e;else{if(e===null)throw Error(O(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ue===null?be.memoizedState=Ue=e:Ue=Ue.next=e}return Ue}function Fa(e,t){return typeof t=="function"?t(e):t}function go(e){var t=Ot(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=Me,a=n.baseQueue,l=r.pending;if(l!==null){if(a!==null){var i=a.next;a.next=l.next,l.next=i}n.baseQueue=a=l,r.pending=null}if(a!==null){l=a.next,n=n.baseState;var o=i=null,c=null,d=l;do{var u=d.lane;if((Or&u)===u)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),n=d.hasEagerState?d.eagerState:e(n,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(o=c=h,i=n):c=c.next=h,be.lanes|=u,_r|=u}d=d.next}while(d!==null&&d!==l);c===null?i=n:c.next=o,Ht(n,t.memoizedState)||(dt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){a=e;do l=a.lane,be.lanes|=l,_r|=l,a=a.next;while(a!==e)}else a===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function yo(e){var t=Ot(),r=t.queue;if(r===null)throw Error(O(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,l=t.memoizedState;if(a!==null){r.pending=null;var i=a=a.next;do l=e(l,i.action),i=i.next;while(i!==a);Ht(l,t.memoizedState)||(dt=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),r.lastRenderedState=l}return[l,n]}function $p(){}function Bp(e,t){var r=be,n=Ot(),a=t(),l=!Ht(n.memoizedState,a);if(l&&(n.memoizedState=a,dt=!0),n=n.queue,Ad(Hp.bind(null,r,n,e),[e]),n.getSnapshot!==t||l||Ue!==null&&Ue.memoizedState.tag&1){if(r.flags|=2048,Ma(9,qp.bind(null,r,n,a,t),void 0,null),$e===null)throw Error(O(349));Or&30||zp(r,t,a)}return a}function zp(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function qp(e,t,r,n){t.value=r,t.getSnapshot=n,Qp(t)&&Kp(e)}function Hp(e,t,r){return r(function(){Qp(t)&&Kp(e)})}function Qp(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!Ht(e,r)}catch{return!0}}function Kp(e){var t=vs(e,1);t!==null&&qt(t,e,1,-1)}function tm(e){var t=Yt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fa,lastRenderedState:e},t.queue=e,e=e.dispatch=ry.bind(null,be,e),[t.memoizedState,e]}function Ma(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=be.updateQueue,t===null?(t={lastEffect:null,stores:null},be.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function Vp(){return Ot().memoizedState}function Al(e,t,r,n){var a=Yt();be.flags|=e,a.memoizedState=Ma(1|t,r,void 0,n===void 0?null:n)}function Di(e,t,r,n){var a=Ot();n=n===void 0?null:n;var l=void 0;if(Me!==null){var i=Me.memoizedState;if(l=i.destroy,n!==null&&Dd(n,i.deps)){a.memoizedState=Ma(t,r,l,n);return}}be.flags|=e,a.memoizedState=Ma(1|t,r,l,n)}function sm(e,t){return Al(8390656,8,e,t)}function Ad(e,t){return Di(2048,8,e,t)}function Wp(e,t){return Di(4,2,e,t)}function Gp(e,t){return Di(4,4,e,t)}function Jp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Yp(e,t,r){return r=r!=null?r.concat([e]):null,Di(4,4,Jp.bind(null,t,e),r)}function Fd(){}function Xp(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Zp(e,t){var r=Ot();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&Dd(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ex(e,t,r){return Or&21?(Ht(r,t)||(r=ap(),be.lanes|=r,_r|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,dt=!0),e.memoizedState=r)}function ty(e,t){var r=ie;ie=r!==0&&4>r?r:4,e(!0);var n=fo.transition;fo.transition={};try{e(!1),t()}finally{ie=r,fo.transition=n}}function tx(){return Ot().memoizedState}function sy(e,t,r){var n=er(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},sx(e))rx(t,r);else if(r=Lp(e,t,r,n),r!==null){var a=st();qt(r,e,n,a),nx(r,t,n)}}function ry(e,t,r){var n=er(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(sx(e))rx(t,a);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,o=l(i,r);if(a.hasEagerState=!0,a.eagerState=o,Ht(o,i)){var c=t.interleaved;c===null?(a.next=a,wd(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}r=Lp(e,t,a,n),r!==null&&(a=st(),qt(r,e,n,a),nx(r,t,n))}}function sx(e){var t=e.alternate;return e===be||t!==null&&t===be}function rx(e,t){pa=li=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function nx(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,dd(e,r)}}var ii={readContext:Mt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},ny={readContext:Mt,useCallback:function(e,t){return Yt().memoizedState=[e,t===void 0?null:t],e},useContext:Mt,useEffect:sm,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,Al(4194308,4,Jp.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){return Al(4,2,e,t)},useMemo:function(e,t){var r=Yt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Yt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=sy.bind(null,be,e),[n.memoizedState,e]},useRef:function(e){var t=Yt();return e={current:e},t.memoizedState=e},useState:tm,useDebugValue:Fd,useDeferredValue:function(e){return Yt().memoizedState=e},useTransition:function(){var e=tm(!1),t=e[0];return e=ty.bind(null,e[1]),Yt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=be,a=Yt();if(xe){if(r===void 0)throw Error(O(407));r=r()}else{if(r=t(),$e===null)throw Error(O(349));Or&30||zp(n,t,r)}a.memoizedState=r;var l={value:r,getSnapshot:t};return a.queue=l,sm(Hp.bind(null,n,l,e),[e]),n.flags|=2048,Ma(9,qp.bind(null,n,l,r,t),void 0,null),r},useId:function(){var e=Yt(),t=$e.identifierPrefix;if(xe){var r=xs,n=ps;r=(n&~(1<<32-zt(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Aa++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=ey++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ay={readContext:Mt,useCallback:Xp,useContext:Mt,useEffect:Ad,useImperativeHandle:Yp,useInsertionEffect:Wp,useLayoutEffect:Gp,useMemo:Zp,useReducer:go,useRef:Vp,useState:function(){return go(Fa)},useDebugValue:Fd,useDeferredValue:function(e){var t=Ot();return ex(t,Me.memoizedState,e)},useTransition:function(){var e=go(Fa)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Bp,useId:tx,unstable_isNewReconciler:!1},ly={readContext:Mt,useCallback:Xp,useContext:Mt,useEffect:Ad,useImperativeHandle:Yp,useInsertionEffect:Wp,useLayoutEffect:Gp,useMemo:Zp,useReducer:yo,useRef:Vp,useState:function(){return yo(Fa)},useDebugValue:Fd,useDeferredValue:function(e){var t=Ot();return Me===null?t.memoizedState=e:ex(t,Me.memoizedState,e)},useTransition:function(){var e=yo(Fa)[0],t=Ot().memoizedState;return[e,t]},useMutableSource:$p,useSyncExternalStore:Bp,useId:tx,unstable_isNewReconciler:!1};function Lt(e,t){if(e&&e.defaultProps){t=ve({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function ac(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:ve({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ti={isMounted:function(e){return(e=e._reactInternals)?qr(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=st(),a=er(e),l=fs(n,a);l.payload=t,r!=null&&(l.callback=r),t=Xs(e,l,a),t!==null&&(qt(t,e,a,n),Tl(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=st(),a=er(e),l=fs(n,a);l.tag=1,l.payload=t,r!=null&&(l.callback=r),t=Xs(e,l,a),t!==null&&(qt(t,e,a,n),Tl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=st(),n=er(e),a=fs(r,n);a.tag=2,t!=null&&(a.callback=t),t=Xs(e,a,n),t!==null&&(qt(t,e,n,r),Tl(t,e,n))}};function rm(e,t,r,n,a,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ca(r,n)||!Ca(a,l):!0}function ax(e,t,r){var n=!1,a=ar,l=t.contextType;return typeof l=="object"&&l!==null?l=Mt(l):(a=mt(t)?Fr:Je.current,n=t.contextTypes,l=(n=n!=null)?En(e,a):ar),t=new t(r,l),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Ti,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=l),t}function nm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Ti.enqueueReplaceState(t,t.state,null)}function lc(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Sd(e);var l=t.contextType;typeof l=="object"&&l!==null?a.context=Mt(l):(l=mt(t)?Fr:Je.current,a.context=En(e,l)),a.state=e.memoizedState,l=t.getDerivedStateFromProps,typeof l=="function"&&(ac(e,t,l,r),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Ti.enqueueReplaceState(a,a.state,null),ni(e,r,a,n),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Rn(e,t){try{var r="",n=t;do r+=M0(n),n=n.return;while(n);var a=r}catch(l){a=`
Error generating stack: `+l.message+`
`+l.stack}return{value:e,source:t,stack:a,digest:null}}function bo(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function ic(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var iy=typeof WeakMap=="function"?WeakMap:Map;function lx(e,t,r){r=fs(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){ci||(ci=!0,gc=n),ic(e,t)},r}function ix(e,t,r){r=fs(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ic(e,t)}}var l=e.stateNode;return l!==null&&typeof l.componentDidCatch=="function"&&(r.callback=function(){ic(e,t),typeof n!="function"&&(Zs===null?Zs=new Set([this]):Zs.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function am(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new iy;var a=new Set;n.set(t,a)}else a=n.get(t),a===void 0&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=jy.bind(null,e,t,r),t.then(e,e))}function lm(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function im(e,t,r,n,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=fs(-1,1),t.tag=2,Xs(r,t,1))),r.lanes|=1),e)}var oy=Ss.ReactCurrentOwner,dt=!1;function et(e,t,r,n){t.child=e===null?_p(t,null,r,n):Dn(t,e.child,r,n)}function om(e,t,r,n,a){r=r.render;var l=t.ref;return mn(t,a),n=Td(e,t,r,n,l,a),r=Rd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a)):(xe&&r&&yd(t),t.flags|=1,et(e,t,n,a),t.child)}function cm(e,t,r,n,a){if(e===null){var l=r.type;return typeof l=="function"&&!Bd(l)&&l.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=l,ox(e,t,l,n,a)):(e=_l(r.type,null,n,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!(e.lanes&a)){var i=l.memoizedProps;if(r=r.compare,r=r!==null?r:Ca,r(i,n)&&e.ref===t.ref)return js(e,t,a)}return t.flags|=1,e=tr(l,n),e.ref=t.ref,e.return=t,t.child=e}function ox(e,t,r,n,a){if(e!==null){var l=e.memoizedProps;if(Ca(l,n)&&e.ref===t.ref)if(dt=!1,t.pendingProps=n=l,(e.lanes&a)!==0)e.flags&131072&&(dt=!0);else return t.lanes=e.lanes,js(e,t,a)}return oc(e,t,r,n,a)}function cx(e,t,r){var n=t.pendingProps,a=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(ln,ft),ft|=r;else{if(!(r&1073741824))return e=l!==null?l.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(ln,ft),ft|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=l!==null?l.baseLanes:r,ue(ln,ft),ft|=n}else l!==null?(n=l.baseLanes|r,t.memoizedState=null):n=r,ue(ln,ft),ft|=n;return et(e,t,a,r),t.child}function dx(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function oc(e,t,r,n,a){var l=mt(r)?Fr:Je.current;return l=En(t,l),mn(t,a),r=Td(e,t,r,n,l,a),n=Rd(),e!==null&&!dt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,js(e,t,a)):(xe&&n&&yd(t),t.flags|=1,et(e,t,r,a),t.child)}function dm(e,t,r,n,a){if(mt(r)){var l=!0;Zl(t)}else l=!1;if(mn(t,a),t.stateNode===null)Fl(e,t),ax(t,r,n),lc(t,r,n,a),n=!0;else if(e===null){var i=t.stateNode,o=t.memoizedProps;i.props=o;var c=i.context,d=r.contextType;typeof d=="object"&&d!==null?d=Mt(d):(d=mt(r)?Fr:Je.current,d=En(t,d));var u=r.getDerivedStateFromProps,h=typeof u=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==n||c!==d)&&nm(t,i,n,d),As=!1;var x=t.memoizedState;i.state=x,ni(t,n,i,a),c=t.memoizedState,o!==n||x!==c||ut.current||As?(typeof u=="function"&&(ac(t,r,u,n),c=t.memoizedState),(o=As||rm(t,r,o,n,x,c,d))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=d,n=o):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,Ip(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:Lt(t.type,o),i.props=d,h=t.pendingProps,x=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Mt(c):(c=mt(r)?Fr:Je.current,c=En(t,c));var v=r.getDerivedStateFromProps;(u=typeof v=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(o!==h||x!==c)&&nm(t,i,n,c),As=!1,x=t.memoizedState,i.state=x,ni(t,n,i,a);var m=t.memoizedState;o!==h||x!==m||ut.current||As?(typeof v=="function"&&(ac(t,r,v,n),m=t.memoizedState),(d=As||rm(t,r,d,n,x,m,c)||!1)?(u||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,m,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,m,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=m),i.props=n,i.state=m,i.context=c,n=d):(typeof i.componentDidUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),n=!1)}return cc(e,t,r,n,l,a)}function cc(e,t,r,n,a,l){dx(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return a&&Gu(t,r,!1),js(e,t,l);n=t.stateNode,oy.current=t;var o=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=Dn(t,e.child,null,l),t.child=Dn(t,null,o,l)):et(e,t,o,l),t.memoizedState=n.state,a&&Gu(t,r,!0),t.child}function ux(e){var t=e.stateNode;t.pendingContext?Wu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Wu(e,t.context,!1),Cd(e,t.containerInfo)}function um(e,t,r,n,a){return Pn(),vd(a),t.flags|=256,et(e,t,r,n),t.child}var dc={dehydrated:null,treeContext:null,retryLane:0};function uc(e){return{baseLanes:e,cachePool:null,transitions:null}}function mx(e,t,r){var n=t.pendingProps,a=ye.current,l=!1,i=(t.flags&128)!==0,o;if((o=i)||(o=e!==null&&e.memoizedState===null?!1:(a&2)!==0),o?(l=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),ue(ye,a&1),e===null)return rc(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,l?(n=t.mode,l=t.child,i={mode:"hidden",children:i},!(n&1)&&l!==null?(l.childLanes=0,l.pendingProps=i):l=Fi(i,n,0,null),e=Rr(e,n,r,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=uc(r),t.memoizedState=dc,e):Md(t,i));if(a=e.memoizedState,a!==null&&(o=a.dehydrated,o!==null))return cy(e,t,i,n,o,a,r);if(l){l=n.fallback,i=t.mode,a=e.child,o=a.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==a?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=tr(a,c),n.subtreeFlags=a.subtreeFlags&14680064),o!==null?l=tr(o,l):(l=Rr(l,i,r,null),l.flags|=2),l.return=t,n.return=t,n.sibling=l,t.child=n,n=l,l=t.child,i=e.child.memoizedState,i=i===null?uc(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},l.memoizedState=i,l.childLanes=e.childLanes&~r,t.memoizedState=dc,n}return l=e.child,e=l.sibling,n=tr(l,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function Md(e,t){return t=Fi({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yl(e,t,r,n){return n!==null&&vd(n),Dn(t,e.child,null,r),e=Md(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function cy(e,t,r,n,a,l,i){if(r)return t.flags&256?(t.flags&=-257,n=bo(Error(O(422))),yl(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(l=n.fallback,a=t.mode,n=Fi({mode:"visible",children:n.children},a,0,null),l=Rr(l,a,i,null),l.flags|=2,n.return=t,l.return=t,n.sibling=l,t.child=n,t.mode&1&&Dn(t,e.child,null,i),t.child.memoizedState=uc(i),t.memoizedState=dc,l);if(!(t.mode&1))return yl(e,t,i,null);if(a.data==="$!"){if(n=a.nextSibling&&a.nextSibling.dataset,n)var o=n.dgst;return n=o,l=Error(O(419)),n=bo(l,n,void 0),yl(e,t,i,n)}if(o=(i&e.childLanes)!==0,dt||o){if(n=$e,n!==null){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(n.suspendedLanes|i)?0:a,a!==0&&a!==l.retryLane&&(l.retryLane=a,vs(e,a),qt(n,e,a,-1))}return $d(),n=bo(Error(O(421))),yl(e,t,i,n)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=ky.bind(null,e),a._reactRetry=t,null):(e=l.treeContext,gt=Ys(a.nextSibling),yt=t,xe=!0,Bt=null,e!==null&&(Dt[Tt++]=ps,Dt[Tt++]=xs,Dt[Tt++]=Mr,ps=e.id,xs=e.overflow,Mr=t),t=Md(t,n.children),t.flags|=4096,t)}function mm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),nc(e.return,t,r)}function vo(e,t,r,n,a){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=r,l.tailMode=a)}function hx(e,t,r){var n=t.pendingProps,a=n.revealOrder,l=n.tail;if(et(e,t,n.children,r),n=ye.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&mm(e,r,t);else if(e.tag===19)mm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ye,n),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;r!==null;)e=r.alternate,e!==null&&ai(e)===null&&(a=r),r=r.sibling;r=a,r===null?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),vo(t,!1,a,r,l);break;case"backwards":for(r=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&ai(e)===null){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}vo(t,!0,r,null,l);break;case"together":vo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Fl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function js(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),_r|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,r=tr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=tr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function dy(e,t,r){switch(t.tag){case 3:ux(t),Pn();break;case 5:Up(t);break;case 1:mt(t.type)&&Zl(t);break;case 4:Cd(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;ue(si,n._currentValue),n._currentValue=a;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ye,ye.current&1),t.flags|=128,null):r&t.child.childLanes?mx(e,t,r):(ue(ye,ye.current&1),e=js(e,t,r),e!==null?e.sibling:null);ue(ye,ye.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return hx(e,t,r);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),ue(ye,ye.current),n)break;return null;case 22:case 23:return t.lanes=0,cx(e,t,r)}return js(e,t,r)}var px,mc,xx,fx;px=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};mc=function(){};xx=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,gr(ns.current);var l=null;switch(r){case"input":a=Mo(e,a),n=Mo(e,n),l=[];break;case"select":a=ve({},a,{value:void 0}),n=ve({},n,{value:void 0}),l=[];break;case"textarea":a=Lo(e,a),n=Lo(e,n),l=[];break;default:typeof a.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=Yl)}Uo(r,n);var i;r=null;for(d in a)if(!n.hasOwnProperty(d)&&a.hasOwnProperty(d)&&a[d]!=null)if(d==="style"){var o=a[d];for(i in o)o.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(ba.hasOwnProperty(d)?l||(l=[]):(l=l||[]).push(d,null));for(d in n){var c=n[d];if(o=a!=null?a[d]:void 0,n.hasOwnProperty(d)&&c!==o&&(c!=null||o!=null))if(d==="style")if(o){for(i in o)!o.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&o[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(l||(l=[]),l.push(d,r)),r=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(l=l||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(l=l||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(ba.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&he("scroll",e),l||o===c||(l=[])):(l=l||[]).push(d,c))}r&&(l=l||[]).push("style",r);var d=l;(t.updateQueue=d)&&(t.flags|=4)}};fx=function(e,t,r,n){r!==n&&(t.flags|=4)};function Zn(e,t){if(!xe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ke(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags&14680064,n|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function uy(e,t,r){var n=t.pendingProps;switch(bd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ke(t),null;case 1:return mt(t.type)&&Xl(),Ke(t),null;case 3:return n=t.stateNode,Tn(),pe(ut),pe(Je),Pd(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(fl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Bt!==null&&(vc(Bt),Bt=null))),mc(e,t),Ke(t),null;case 5:Ed(t);var a=gr(Ra.current);if(r=t.type,e!==null&&t.stateNode!=null)xx(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(O(166));return Ke(t),null}if(e=gr(ns.current),fl(t)){n=t.stateNode,r=t.type;var l=t.memoizedProps;switch(n[ts]=t,n[Da]=l,e=(t.mode&1)!==0,r){case"dialog":he("cancel",n),he("close",n);break;case"iframe":case"object":case"embed":he("load",n);break;case"video":case"audio":for(a=0;a<la.length;a++)he(la[a],n);break;case"source":he("error",n);break;case"img":case"image":case"link":he("error",n),he("load",n);break;case"details":he("toggle",n);break;case"input":ju(n,l),he("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!l.multiple},he("invalid",n);break;case"textarea":Nu(n,l),he("invalid",n)}Uo(r,l),a=null;for(var i in l)if(l.hasOwnProperty(i)){var o=l[i];i==="children"?typeof o=="string"?n.textContent!==o&&(l.suppressHydrationWarning!==!0&&xl(n.textContent,o,e),a=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(l.suppressHydrationWarning!==!0&&xl(n.textContent,o,e),a=["children",""+o]):ba.hasOwnProperty(i)&&o!=null&&i==="onScroll"&&he("scroll",n)}switch(r){case"input":il(n),ku(n,l,!0);break;case"textarea":il(n),wu(n);break;case"select":case"option":break;default:typeof l.onClick=="function"&&(n.onclick=Yl)}n=a,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Hh(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[ts]=t,e[Da]=n,px(e,t,!1,!1),t.stateNode=e;e:{switch(i=$o(r,n),r){case"dialog":he("cancel",e),he("close",e),a=n;break;case"iframe":case"object":case"embed":he("load",e),a=n;break;case"video":case"audio":for(a=0;a<la.length;a++)he(la[a],e);a=n;break;case"source":he("error",e),a=n;break;case"img":case"image":case"link":he("error",e),he("load",e),a=n;break;case"details":he("toggle",e),a=n;break;case"input":ju(e,n),a=Mo(e,n),he("invalid",e);break;case"option":a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=ve({},n,{value:void 0}),he("invalid",e);break;case"textarea":Nu(e,n),a=Lo(e,n),he("invalid",e);break;default:a=n}Uo(r,a),o=a;for(l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="style"?Vh(e,c):l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&Qh(e,c)):l==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&va(e,c):typeof c=="number"&&va(e,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(ba.hasOwnProperty(l)?c!=null&&l==="onScroll"&&he("scroll",e):c!=null&&nd(e,l,c,i))}switch(r){case"input":il(e),ku(e,n,!1);break;case"textarea":il(e),wu(e);break;case"option":n.value!=null&&e.setAttribute("value",""+nr(n.value));break;case"select":e.multiple=!!n.multiple,l=n.value,l!=null?on(e,!!n.multiple,l,!1):n.defaultValue!=null&&on(e,!!n.multiple,n.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Yl)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ke(t),null;case 6:if(e&&t.stateNode!=null)fx(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(O(166));if(r=gr(Ra.current),gr(ns.current),fl(t)){if(n=t.stateNode,r=t.memoizedProps,n[ts]=t,(l=n.nodeValue!==r)&&(e=yt,e!==null))switch(e.tag){case 3:xl(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&xl(n.nodeValue,r,(e.mode&1)!==0)}l&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ts]=t,t.stateNode=n}return Ke(t),null;case 13:if(pe(ye),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(xe&&gt!==null&&t.mode&1&&!(t.flags&128))Mp(),Pn(),t.flags|=98560,l=!1;else if(l=fl(t),n!==null&&n.dehydrated!==null){if(e===null){if(!l)throw Error(O(318));if(l=t.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(O(317));l[ts]=t}else Pn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ke(t),l=!1}else Bt!==null&&(vc(Bt),Bt=null),l=!0;if(!l)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ye.current&1?Le===0&&(Le=3):$d())),t.updateQueue!==null&&(t.flags|=4),Ke(t),null);case 4:return Tn(),mc(e,t),e===null&&Ea(t.stateNode.containerInfo),Ke(t),null;case 10:return Nd(t.type._context),Ke(t),null;case 17:return mt(t.type)&&Xl(),Ke(t),null;case 19:if(pe(ye),l=t.memoizedState,l===null)return Ke(t),null;if(n=(t.flags&128)!==0,i=l.rendering,i===null)if(n)Zn(l,!1);else{if(Le!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=ai(e),i!==null){for(t.flags|=128,Zn(l,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)l=r,e=n,l.flags&=14680066,i=l.alternate,i===null?(l.childLanes=0,l.lanes=e,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,l.type=i.type,e=i.dependencies,l.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ye,ye.current&1|2),t.child}e=e.sibling}l.tail!==null&&we()>An&&(t.flags|=128,n=!0,Zn(l,!1),t.lanes=4194304)}else{if(!n)if(e=ai(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),Zn(l,!0),l.tail===null&&l.tailMode==="hidden"&&!i.alternate&&!xe)return Ke(t),null}else 2*we()-l.renderingStartTime>An&&r!==1073741824&&(t.flags|=128,n=!0,Zn(l,!1),t.lanes=4194304);l.isBackwards?(i.sibling=t.child,t.child=i):(r=l.last,r!==null?r.sibling=i:t.child=i,l.last=i)}return l.tail!==null?(t=l.tail,l.rendering=t,l.tail=t.sibling,l.renderingStartTime=we(),t.sibling=null,r=ye.current,ue(ye,n?r&1|2:r&1),t):(Ke(t),null);case 22:case 23:return Ud(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?ft&1073741824&&(Ke(t),t.subtreeFlags&6&&(t.flags|=8192)):Ke(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function my(e,t){switch(bd(t),t.tag){case 1:return mt(t.type)&&Xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Tn(),pe(ut),pe(Je),Pd(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ed(t),null;case 13:if(pe(ye),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Pn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return pe(ye),null;case 4:return Tn(),null;case 10:return Nd(t.type._context),null;case 22:case 23:return Ud(),null;case 24:return null;default:return null}}var bl=!1,Ve=!1,hy=typeof WeakSet=="function"?WeakSet:Set,z=null;function an(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){ke(e,t,n)}else r.current=null}function hc(e,t,r){try{r()}catch(n){ke(e,t,n)}}var hm=!1;function py(e,t){if(Jo=Wl,e=jp(),gd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var a=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{r.nodeType,l.nodeType}catch{r=null;break e}var i=0,o=-1,c=-1,d=0,u=0,h=e,x=null;t:for(;;){for(var v;h!==r||a!==0&&h.nodeType!==3||(o=i+a),h!==l||n!==0&&h.nodeType!==3||(c=i+n),h.nodeType===3&&(i+=h.nodeValue.length),(v=h.firstChild)!==null;)x=h,h=v;for(;;){if(h===e)break t;if(x===r&&++d===a&&(o=i),x===l&&++u===n&&(c=i),(v=h.nextSibling)!==null)break;h=x,x=h.parentNode}h=v}r=o===-1||c===-1?null:{start:o,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Yo={focusedElem:e,selectionRange:r},Wl=!1,z=t;z!==null;)if(t=z,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,z=e;else for(;z!==null;){t=z;try{var m=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var p=m.memoizedProps,g=m.memoizedState,y=t.stateNode,f=y.getSnapshotBeforeUpdate(t.elementType===t.type?p:Lt(t.type,p),g);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var j=t.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){ke(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,z=e;break}z=t.return}return m=hm,hm=!1,m}function xa(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var l=a.destroy;a.destroy=void 0,l!==void 0&&hc(t,r,l)}a=a.next}while(a!==n)}}function Ri(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function pc(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function gx(e){var t=e.alternate;t!==null&&(e.alternate=null,gx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[ts],delete t[Da],delete t[ec],delete t[Jg],delete t[Yg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function yx(e){return e.tag===5||e.tag===3||e.tag===4}function pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||yx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=Yl));else if(n!==4&&(e=e.child,e!==null))for(xc(e,t,r),e=e.sibling;e!==null;)xc(e,t,r),e=e.sibling}function fc(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(fc(e,t,r),e=e.sibling;e!==null;)fc(e,t,r),e=e.sibling}var Be=null,$t=!1;function Ds(e,t,r){for(r=r.child;r!==null;)bx(e,t,r),r=r.sibling}function bx(e,t,r){if(rs&&typeof rs.onCommitFiberUnmount=="function")try{rs.onCommitFiberUnmount(Ni,r)}catch{}switch(r.tag){case 5:Ve||an(r,t);case 6:var n=Be,a=$t;Be=null,Ds(e,t,r),Be=n,$t=a,Be!==null&&($t?(e=Be,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Be.removeChild(r.stateNode));break;case 18:Be!==null&&($t?(e=Be,r=r.stateNode,e.nodeType===8?ho(e.parentNode,r):e.nodeType===1&&ho(e,r),wa(e)):ho(Be,r.stateNode));break;case 4:n=Be,a=$t,Be=r.stateNode.containerInfo,$t=!0,Ds(e,t,r),Be=n,$t=a;break;case 0:case 11:case 14:case 15:if(!Ve&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){a=n=n.next;do{var l=a,i=l.destroy;l=l.tag,i!==void 0&&(l&2||l&4)&&hc(r,t,i),a=a.next}while(a!==n)}Ds(e,t,r);break;case 1:if(!Ve&&(an(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){ke(r,t,o)}Ds(e,t,r);break;case 21:Ds(e,t,r);break;case 22:r.mode&1?(Ve=(n=Ve)||r.memoizedState!==null,Ds(e,t,r),Ve=n):Ds(e,t,r);break;default:Ds(e,t,r)}}function xm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new hy),t.forEach(function(n){var a=Ny.bind(null,e,n);r.has(n)||(r.add(n),n.then(a,a))})}}function _t(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var a=r[n];try{var l=e,i=t,o=i;e:for(;o!==null;){switch(o.tag){case 5:Be=o.stateNode,$t=!1;break e;case 3:Be=o.stateNode.containerInfo,$t=!0;break e;case 4:Be=o.stateNode.containerInfo,$t=!0;break e}o=o.return}if(Be===null)throw Error(O(160));bx(l,i,a),Be=null,$t=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(d){ke(a,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)vx(t,e),t=t.sibling}function vx(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(_t(t,e),Vt(e),n&4){try{xa(3,e,e.return),Ri(3,e)}catch(p){ke(e,e.return,p)}try{xa(5,e,e.return)}catch(p){ke(e,e.return,p)}}break;case 1:_t(t,e),Vt(e),n&512&&r!==null&&an(r,r.return);break;case 5:if(_t(t,e),Vt(e),n&512&&r!==null&&an(r,r.return),e.flags&32){var a=e.stateNode;try{va(a,"")}catch(p){ke(e,e.return,p)}}if(n&4&&(a=e.stateNode,a!=null)){var l=e.memoizedProps,i=r!==null?r.memoizedProps:l,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&l.type==="radio"&&l.name!=null&&zh(a,l),$o(o,i);var d=$o(o,l);for(i=0;i<c.length;i+=2){var u=c[i],h=c[i+1];u==="style"?Vh(a,h):u==="dangerouslySetInnerHTML"?Qh(a,h):u==="children"?va(a,h):nd(a,u,h,d)}switch(o){case"input":Oo(a,l);break;case"textarea":qh(a,l);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!l.multiple;var v=l.value;v!=null?on(a,!!l.multiple,v,!1):x!==!!l.multiple&&(l.defaultValue!=null?on(a,!!l.multiple,l.defaultValue,!0):on(a,!!l.multiple,l.multiple?[]:"",!1))}a[Da]=l}catch(p){ke(e,e.return,p)}}break;case 6:if(_t(t,e),Vt(e),n&4){if(e.stateNode===null)throw Error(O(162));a=e.stateNode,l=e.memoizedProps;try{a.nodeValue=l}catch(p){ke(e,e.return,p)}}break;case 3:if(_t(t,e),Vt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{wa(t.containerInfo)}catch(p){ke(e,e.return,p)}break;case 4:_t(t,e),Vt(e);break;case 13:_t(t,e),Vt(e),a=e.child,a.flags&8192&&(l=a.memoizedState!==null,a.stateNode.isHidden=l,!l||a.alternate!==null&&a.alternate.memoizedState!==null||(Ld=we())),n&4&&xm(e);break;case 22:if(u=r!==null&&r.memoizedState!==null,e.mode&1?(Ve=(d=Ve)||u,_t(t,e),Ve=d):_t(t,e),Vt(e),n&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!u&&e.mode&1)for(z=e,u=e.child;u!==null;){for(h=z=u;z!==null;){switch(x=z,v=x.child,x.tag){case 0:case 11:case 14:case 15:xa(4,x,x.return);break;case 1:an(x,x.return);var m=x.stateNode;if(typeof m.componentWillUnmount=="function"){n=x,r=x.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){ke(n,r,p)}}break;case 5:an(x,x.return);break;case 22:if(x.memoizedState!==null){gm(h);continue}}v!==null?(v.return=x,z=v):gm(h)}u=u.sibling}e:for(u=null,h=e;;){if(h.tag===5){if(u===null){u=h;try{a=h.stateNode,d?(l=a.style,typeof l.setProperty=="function"?l.setProperty("display","none","important"):l.display="none"):(o=h.stateNode,c=h.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=Kh("display",i))}catch(p){ke(e,e.return,p)}}}else if(h.tag===6){if(u===null)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){ke(e,e.return,p)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:_t(t,e),Vt(e),n&4&&xm(e);break;case 21:break;default:_t(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(yx(r)){var n=r;break e}r=r.return}throw Error(O(160))}switch(n.tag){case 5:var a=n.stateNode;n.flags&32&&(va(a,""),n.flags&=-33);var l=pm(e);fc(e,l,a);break;case 3:case 4:var i=n.stateNode.containerInfo,o=pm(e);xc(e,o,i);break;default:throw Error(O(161))}}catch(c){ke(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xy(e,t,r){z=e,jx(e)}function jx(e,t,r){for(var n=(e.mode&1)!==0;z!==null;){var a=z,l=a.child;if(a.tag===22&&n){var i=a.memoizedState!==null||bl;if(!i){var o=a.alternate,c=o!==null&&o.memoizedState!==null||Ve;o=bl;var d=Ve;if(bl=i,(Ve=c)&&!d)for(z=a;z!==null;)i=z,c=i.child,i.tag===22&&i.memoizedState!==null?ym(a):c!==null?(c.return=i,z=c):ym(a);for(;l!==null;)z=l,jx(l),l=l.sibling;z=a,bl=o,Ve=d}fm(e)}else a.subtreeFlags&8772&&l!==null?(l.return=a,z=l):fm(e)}}function fm(e){for(;z!==null;){var t=z;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ve||Ri(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ve)if(r===null)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:Lt(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var l=t.updateQueue;l!==null&&em(t,l,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}em(t,i,r)}break;case 5:var o=t.stateNode;if(r===null&&t.flags&4){r=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var u=d.memoizedState;if(u!==null){var h=u.dehydrated;h!==null&&wa(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Ve||t.flags&512&&pc(t)}catch(x){ke(t,t.return,x)}}if(t===e){z=null;break}if(r=t.sibling,r!==null){r.return=t.return,z=r;break}z=t.return}}function gm(e){for(;z!==null;){var t=z;if(t===e){z=null;break}var r=t.sibling;if(r!==null){r.return=t.return,z=r;break}z=t.return}}function ym(e){for(;z!==null;){var t=z;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Ri(4,t)}catch(c){ke(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var a=t.return;try{n.componentDidMount()}catch(c){ke(t,a,c)}}var l=t.return;try{pc(t)}catch(c){ke(t,l,c)}break;case 5:var i=t.return;try{pc(t)}catch(c){ke(t,i,c)}}}catch(c){ke(t,t.return,c)}if(t===e){z=null;break}var o=t.sibling;if(o!==null){o.return=t.return,z=o;break}z=t.return}}var fy=Math.ceil,oi=Ss.ReactCurrentDispatcher,Od=Ss.ReactCurrentOwner,Ft=Ss.ReactCurrentBatchConfig,re=0,$e=null,De=null,ze=0,ft=0,ln=cr(0),Le=0,Oa=null,_r=0,Ai=0,_d=0,fa=null,ot=null,Ld=0,An=1/0,os=null,ci=!1,gc=null,Zs=null,vl=!1,Ks=null,di=0,ga=0,yc=null,Ml=-1,Ol=0;function st(){return re&6?we():Ml!==-1?Ml:Ml=we()}function er(e){return e.mode&1?re&2&&ze!==0?ze&-ze:Zg.transition!==null?(Ol===0&&(Ol=ap()),Ol):(e=ie,e!==0||(e=window.event,e=e===void 0?16:mp(e.type)),e):1}function qt(e,t,r,n){if(50<ga)throw ga=0,yc=null,Error(O(185));Va(e,r,n),(!(re&2)||e!==$e)&&(e===$e&&(!(re&2)&&(Ai|=r),Le===4&&Ms(e,ze)),ht(e,n),r===1&&re===0&&!(t.mode&1)&&(An=we()+500,Pi&&dr()))}function ht(e,t){var r=e.callbackNode;Z0(e,t);var n=Vl(e,e===$e?ze:0);if(n===0)r!==null&&Eu(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Eu(r),t===1)e.tag===0?Xg(bm.bind(null,e)):Rp(bm.bind(null,e)),Wg(function(){!(re&6)&&dr()}),r=null;else{switch(lp(n)){case 1:r=cd;break;case 4:r=rp;break;case 16:r=Kl;break;case 536870912:r=np;break;default:r=Kl}r=Dx(r,kx.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function kx(e,t){if(Ml=-1,Ol=0,re&6)throw Error(O(327));var r=e.callbackNode;if(hn()&&e.callbackNode!==r)return null;var n=Vl(e,e===$e?ze:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=ui(e,n);else{t=n;var a=re;re|=2;var l=wx();($e!==e||ze!==t)&&(os=null,An=we()+500,Tr(e,t));do try{by();break}catch(o){Nx(e,o)}while(!0);kd(),oi.current=l,re=a,De!==null?t=0:($e=null,ze=0,t=Le)}if(t!==0){if(t===2&&(a=Qo(e),a!==0&&(n=a,t=bc(e,a))),t===1)throw r=Oa,Tr(e,0),Ms(e,n),ht(e,we()),r;if(t===6)Ms(e,n);else{if(a=e.current.alternate,!(n&30)&&!gy(a)&&(t=ui(e,n),t===2&&(l=Qo(e),l!==0&&(n=l,t=bc(e,l))),t===1))throw r=Oa,Tr(e,0),Ms(e,n),ht(e,we()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(O(345));case 2:pr(e,ot,os);break;case 3:if(Ms(e,n),(n&130023424)===n&&(t=Ld+500-we(),10<t)){if(Vl(e,0)!==0)break;if(a=e.suspendedLanes,(a&n)!==n){st(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Zo(pr.bind(null,e,ot,os),t);break}pr(e,ot,os);break;case 4:if(Ms(e,n),(n&4194240)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-zt(n);l=1<<i,i=t[i],i>a&&(a=i),n&=~l}if(n=a,n=we()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*fy(n/1960))-n,10<n){e.timeoutHandle=Zo(pr.bind(null,e,ot,os),n);break}pr(e,ot,os);break;case 5:pr(e,ot,os);break;default:throw Error(O(329))}}}return ht(e,we()),e.callbackNode===r?kx.bind(null,e):null}function bc(e,t){var r=fa;return e.current.memoizedState.isDehydrated&&(Tr(e,t).flags|=256),e=ui(e,t),e!==2&&(t=ot,ot=r,t!==null&&vc(t)),e}function vc(e){ot===null?ot=e:ot.push.apply(ot,e)}function gy(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var a=r[n],l=a.getSnapshot;a=a.value;try{if(!Ht(l(),a))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ms(e,t){for(t&=~_d,t&=~Ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-zt(t),n=1<<r;e[r]=-1,t&=~n}}function bm(e){if(re&6)throw Error(O(327));hn();var t=Vl(e,0);if(!(t&1))return ht(e,we()),null;var r=ui(e,t);if(e.tag!==0&&r===2){var n=Qo(e);n!==0&&(t=n,r=bc(e,n))}if(r===1)throw r=Oa,Tr(e,0),Ms(e,t),ht(e,we()),r;if(r===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,ot,os),ht(e,we()),null}function Id(e,t){var r=re;re|=1;try{return e(t)}finally{re=r,re===0&&(An=we()+500,Pi&&dr())}}function Lr(e){Ks!==null&&Ks.tag===0&&!(re&6)&&hn();var t=re;re|=1;var r=Ft.transition,n=ie;try{if(Ft.transition=null,ie=1,e)return e()}finally{ie=n,Ft.transition=r,re=t,!(re&6)&&dr()}}function Ud(){ft=ln.current,pe(ln)}function Tr(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,Vg(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(bd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Xl();break;case 3:Tn(),pe(ut),pe(Je),Pd();break;case 5:Ed(n);break;case 4:Tn();break;case 13:pe(ye);break;case 19:pe(ye);break;case 10:Nd(n.type._context);break;case 22:case 23:Ud()}r=r.return}if($e=e,De=e=tr(e.current,null),ze=ft=t,Le=0,Oa=null,_d=Ai=_r=0,ot=fa=null,fr!==null){for(t=0;t<fr.length;t++)if(r=fr[t],n=r.interleaved,n!==null){r.interleaved=null;var a=n.next,l=r.pending;if(l!==null){var i=l.next;l.next=a,n.next=i}r.pending=n}fr=null}return e}function Nx(e,t){do{var r=De;try{if(kd(),Rl.current=ii,li){for(var n=be.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}li=!1}if(Or=0,Ue=Me=be=null,pa=!1,Aa=0,Od.current=null,r===null||r.return===null){Le=1,Oa=t,De=null;break}e:{var l=e,i=r.return,o=r,c=t;if(t=ze,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,u=o,h=u.tag;if(!(u.mode&1)&&(h===0||h===11||h===15)){var x=u.alternate;x?(u.updateQueue=x.updateQueue,u.memoizedState=x.memoizedState,u.lanes=x.lanes):(u.updateQueue=null,u.memoizedState=null)}var v=lm(i);if(v!==null){v.flags&=-257,im(v,i,o,l,t),v.mode&1&&am(l,d,t),t=v,c=d;var m=t.updateQueue;if(m===null){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}else{if(!(t&1)){am(l,d,t),$d();break e}c=Error(O(426))}}else if(xe&&o.mode&1){var g=lm(i);if(g!==null){!(g.flags&65536)&&(g.flags|=256),im(g,i,o,l,t),vd(Rn(c,o));break e}}l=c=Rn(c,o),Le!==4&&(Le=2),fa===null?fa=[l]:fa.push(l),l=i;do{switch(l.tag){case 3:l.flags|=65536,t&=-t,l.lanes|=t;var y=lx(l,c,t);Zu(l,y);break e;case 1:o=c;var f=l.type,j=l.stateNode;if(!(l.flags&128)&&(typeof f.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(Zs===null||!Zs.has(j)))){l.flags|=65536,t&=-t,l.lanes|=t;var b=ix(l,o,t);Zu(l,b);break e}}l=l.return}while(l!==null)}Cx(r)}catch(S){t=S,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function wx(){var e=oi.current;return oi.current=ii,e===null?ii:e}function $d(){(Le===0||Le===3||Le===2)&&(Le=4),$e===null||!(_r&268435455)&&!(Ai&268435455)||Ms($e,ze)}function ui(e,t){var r=re;re|=2;var n=wx();($e!==e||ze!==t)&&(os=null,Tr(e,t));do try{yy();break}catch(a){Nx(e,a)}while(!0);if(kd(),re=r,oi.current=n,De!==null)throw Error(O(261));return $e=null,ze=0,Le}function yy(){for(;De!==null;)Sx(De)}function by(){for(;De!==null&&!H0();)Sx(De)}function Sx(e){var t=Px(e.alternate,e,ft);e.memoizedProps=e.pendingProps,t===null?Cx(e):De=t,Od.current=null}function Cx(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=my(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Le=6,De=null;return}}else if(r=uy(r,t,ft),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Le===0&&(Le=5)}function pr(e,t,r){var n=ie,a=Ft.transition;try{Ft.transition=null,ie=1,vy(e,t,r,n)}finally{Ft.transition=a,ie=n}return null}function vy(e,t,r,n){do hn();while(Ks!==null);if(re&6)throw Error(O(327));r=e.finishedWork;var a=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var l=r.lanes|r.childLanes;if(eg(e,l),e===$e&&(De=$e=null,ze=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||vl||(vl=!0,Dx(Kl,function(){return hn(),null})),l=(r.flags&15990)!==0,r.subtreeFlags&15990||l){l=Ft.transition,Ft.transition=null;var i=ie;ie=1;var o=re;re|=4,Od.current=null,py(e,r),vx(r,e),$g(Yo),Wl=!!Jo,Yo=Jo=null,e.current=r,xy(r),Q0(),re=o,ie=i,Ft.transition=l}else e.current=r;if(vl&&(vl=!1,Ks=e,di=a),l=e.pendingLanes,l===0&&(Zs=null),W0(r.stateNode),ht(e,we()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(ci)throw ci=!1,e=gc,gc=null,e;return di&1&&e.tag!==0&&hn(),l=e.pendingLanes,l&1?e===yc?ga++:(ga=0,yc=e):ga=0,dr(),null}function hn(){if(Ks!==null){var e=lp(di),t=Ft.transition,r=ie;try{if(Ft.transition=null,ie=16>e?16:e,Ks===null)var n=!1;else{if(e=Ks,Ks=null,di=0,re&6)throw Error(O(331));var a=re;for(re|=4,z=e.current;z!==null;){var l=z,i=l.child;if(z.flags&16){var o=l.deletions;if(o!==null){for(var c=0;c<o.length;c++){var d=o[c];for(z=d;z!==null;){var u=z;switch(u.tag){case 0:case 11:case 15:xa(8,u,l)}var h=u.child;if(h!==null)h.return=u,z=h;else for(;z!==null;){u=z;var x=u.sibling,v=u.return;if(gx(u),u===d){z=null;break}if(x!==null){x.return=v,z=x;break}z=v}}}var m=l.alternate;if(m!==null){var p=m.child;if(p!==null){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(p!==null)}}z=l}}if(l.subtreeFlags&2064&&i!==null)i.return=l,z=i;else e:for(;z!==null;){if(l=z,l.flags&2048)switch(l.tag){case 0:case 11:case 15:xa(9,l,l.return)}var y=l.sibling;if(y!==null){y.return=l.return,z=y;break e}z=l.return}}var f=e.current;for(z=f;z!==null;){i=z;var j=i.child;if(i.subtreeFlags&2064&&j!==null)j.return=i,z=j;else e:for(i=f;z!==null;){if(o=z,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Ri(9,o)}}catch(S){ke(o,o.return,S)}if(o===i){z=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,z=b;break e}z=o.return}}if(re=a,dr(),rs&&typeof rs.onPostCommitFiberRoot=="function")try{rs.onPostCommitFiberRoot(Ni,e)}catch{}n=!0}return n}finally{ie=r,Ft.transition=t}}return!1}function vm(e,t,r){t=Rn(r,t),t=lx(e,t,1),e=Xs(e,t,1),t=st(),e!==null&&(Va(e,1,t),ht(e,t))}function ke(e,t,r){if(e.tag===3)vm(e,e,r);else for(;t!==null;){if(t.tag===3){vm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Zs===null||!Zs.has(n))){e=Rn(r,e),e=ix(t,e,1),t=Xs(t,e,1),e=st(),t!==null&&(Va(t,1,e),ht(t,e));break}}t=t.return}}function jy(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=st(),e.pingedLanes|=e.suspendedLanes&r,$e===e&&(ze&r)===r&&(Le===4||Le===3&&(ze&130023424)===ze&&500>we()-Ld?Tr(e,0):_d|=r),ht(e,t)}function Ex(e,t){t===0&&(e.mode&1?(t=dl,dl<<=1,!(dl&130023424)&&(dl=4194304)):t=1);var r=st();e=vs(e,t),e!==null&&(Va(e,t,r),ht(e,r))}function ky(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Ex(e,r)}function Ny(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;a!==null&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(O(314))}n!==null&&n.delete(t),Ex(e,r)}var Px;Px=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ut.current)dt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return dt=!1,dy(e,t,r);dt=!!(e.flags&131072)}else dt=!1,xe&&t.flags&1048576&&Ap(t,ti,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Fl(e,t),e=t.pendingProps;var a=En(t,Je.current);mn(t,r),a=Td(null,t,n,e,a,r);var l=Rd();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,mt(n)?(l=!0,Zl(t)):l=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Sd(t),a.updater=Ti,t.stateNode=a,a._reactInternals=t,lc(t,n,e,r),t=cc(null,t,n,!0,l,r)):(t.tag=0,xe&&l&&yd(t),et(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Fl(e,t),e=t.pendingProps,a=n._init,n=a(n._payload),t.type=n,a=t.tag=Sy(n),e=Lt(n,e),a){case 0:t=oc(null,t,n,e,r);break e;case 1:t=dm(null,t,n,e,r);break e;case 11:t=om(null,t,n,e,r);break e;case 14:t=cm(null,t,n,Lt(n.type,e),r);break e}throw Error(O(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),oc(e,t,n,a,r);case 1:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),dm(e,t,n,a,r);case 3:e:{if(ux(t),e===null)throw Error(O(387));n=t.pendingProps,l=t.memoizedState,a=l.element,Ip(e,t),ni(t,n,null,r);var i=t.memoizedState;if(n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){a=Rn(Error(O(423)),t),t=um(e,t,n,r,a);break e}else if(n!==a){a=Rn(Error(O(424)),t),t=um(e,t,n,r,a);break e}else for(gt=Ys(t.stateNode.containerInfo.firstChild),yt=t,xe=!0,Bt=null,r=_p(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Pn(),n===a){t=js(e,t,r);break e}et(e,t,n,r)}t=t.child}return t;case 5:return Up(t),e===null&&rc(t),n=t.type,a=t.pendingProps,l=e!==null?e.memoizedProps:null,i=a.children,Xo(n,a)?i=null:l!==null&&Xo(n,l)&&(t.flags|=32),dx(e,t),et(e,t,i,r),t.child;case 6:return e===null&&rc(t),null;case 13:return mx(e,t,r);case 4:return Cd(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=Dn(t,null,n,r):et(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),om(e,t,n,a,r);case 7:return et(e,t,t.pendingProps,r),t.child;case 8:return et(e,t,t.pendingProps.children,r),t.child;case 12:return et(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,l=t.memoizedProps,i=a.value,ue(si,n._currentValue),n._currentValue=i,l!==null)if(Ht(l.value,i)){if(l.children===a.children&&!ut.current){t=js(e,t,r);break e}}else for(l=t.child,l!==null&&(l.return=t);l!==null;){var o=l.dependencies;if(o!==null){i=l.child;for(var c=o.firstContext;c!==null;){if(c.context===n){if(l.tag===1){c=fs(-1,r&-r),c.tag=2;var d=l.updateQueue;if(d!==null){d=d.shared;var u=d.pending;u===null?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}l.lanes|=r,c=l.alternate,c!==null&&(c.lanes|=r),nc(l.return,r,t),o.lanes|=r;break}c=c.next}}else if(l.tag===10)i=l.type===t.type?null:l.child;else if(l.tag===18){if(i=l.return,i===null)throw Error(O(341));i.lanes|=r,o=i.alternate,o!==null&&(o.lanes|=r),nc(i,r,t),i=l.sibling}else i=l.child;if(i!==null)i.return=l;else for(i=l;i!==null;){if(i===t){i=null;break}if(l=i.sibling,l!==null){l.return=i.return,i=l;break}i=i.return}l=i}et(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,mn(t,r),a=Mt(a),n=n(a),t.flags|=1,et(e,t,n,r),t.child;case 14:return n=t.type,a=Lt(n,t.pendingProps),a=Lt(n.type,a),cm(e,t,n,a,r);case 15:return ox(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:Lt(n,a),Fl(e,t),t.tag=1,mt(n)?(e=!0,Zl(t)):e=!1,mn(t,r),ax(t,n,a),lc(t,n,a,r),cc(null,t,n,!0,e,r);case 19:return hx(e,t,r);case 22:return cx(e,t,r)}throw Error(O(156,t.tag))};function Dx(e,t){return sp(e,t)}function wy(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rt(e,t,r,n){return new wy(e,t,r,n)}function Bd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Sy(e){if(typeof e=="function")return Bd(e)?1:0;if(e!=null){if(e=e.$$typeof,e===ld)return 11;if(e===id)return 14}return 2}function tr(e,t){var r=e.alternate;return r===null?(r=Rt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function _l(e,t,r,n,a,l){var i=2;if(n=e,typeof e=="function")Bd(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Jr:return Rr(r.children,a,l,t);case ad:i=8,a|=8;break;case To:return e=Rt(12,r,t,a|2),e.elementType=To,e.lanes=l,e;case Ro:return e=Rt(13,r,t,a),e.elementType=Ro,e.lanes=l,e;case Ao:return e=Rt(19,r,t,a),e.elementType=Ao,e.lanes=l,e;case Uh:return Fi(r,a,l,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Lh:i=10;break e;case Ih:i=9;break e;case ld:i=11;break e;case id:i=14;break e;case Rs:i=16,n=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=Rt(i,r,t,a),t.elementType=e,t.type=n,t.lanes=l,t}function Rr(e,t,r,n){return e=Rt(7,e,n,t),e.lanes=r,e}function Fi(e,t,r,n){return e=Rt(22,e,n,t),e.elementType=Uh,e.lanes=r,e.stateNode={isHidden:!1},e}function jo(e,t,r){return e=Rt(6,e,null,t),e.lanes=r,e}function ko(e,t,r){return t=Rt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Cy(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=to(0),this.expirationTimes=to(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=to(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function zd(e,t,r,n,a,l,i,o,c){return e=new Cy(e,t,r,o,c),t===1?(t=1,l===!0&&(t|=8)):t=0,l=Rt(3,null,null,t),e.current=l,l.stateNode=e,l.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sd(l),e}function Ey(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Tx(e){if(!e)return ar;e=e._reactInternals;e:{if(qr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(mt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var r=e.type;if(mt(r))return Tp(e,r,t)}return t}function Rx(e,t,r,n,a,l,i,o,c){return e=zd(r,n,!0,e,a,l,i,o,c),e.context=Tx(null),r=e.current,n=st(),a=er(r),l=fs(n,a),l.callback=t??null,Xs(r,l,a),e.current.lanes=a,Va(e,a,n),ht(e,n),e}function Mi(e,t,r,n){var a=t.current,l=st(),i=er(a);return r=Tx(r),t.context===null?t.context=r:t.pendingContext=r,t=fs(l,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=Xs(a,t,i),e!==null&&(qt(e,a,i,l),Tl(e,a,i)),i}function mi(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jm(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function qd(e,t){jm(e,t),(e=e.alternate)&&jm(e,t)}function Py(){return null}var Ax=typeof reportError=="function"?reportError:function(e){console.error(e)};function Hd(e){this._internalRoot=e}Oi.prototype.render=Hd.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));Mi(e,t,null,null)};Oi.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Lr(function(){Mi(null,e,null,null)}),t[bs]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=cp();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Fs.length&&t!==0&&t<Fs[r].priority;r++);Fs.splice(r,0,e),r===0&&up(e)}};function Qd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function _i(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function km(){}function Dy(e,t,r,n,a){if(a){if(typeof n=="function"){var l=n;n=function(){var d=mi(i);l.call(d)}}var i=Rx(t,n,e,0,null,!1,!1,"",km);return e._reactRootContainer=i,e[bs]=i.current,Ea(e.nodeType===8?e.parentNode:e),Lr(),i}for(;a=e.lastChild;)e.removeChild(a);if(typeof n=="function"){var o=n;n=function(){var d=mi(c);o.call(d)}}var c=zd(e,0,!1,null,null,!1,!1,"",km);return e._reactRootContainer=c,e[bs]=c.current,Ea(e.nodeType===8?e.parentNode:e),Lr(function(){Mi(t,c,r,n)}),c}function Li(e,t,r,n,a){var l=r._reactRootContainer;if(l){var i=l;if(typeof a=="function"){var o=a;a=function(){var c=mi(i);o.call(c)}}Mi(t,i,e,a)}else i=Dy(r,t,e,a,n);return mi(i)}ip=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=aa(t.pendingLanes);r!==0&&(dd(t,r|1),ht(t,we()),!(re&6)&&(An=we()+500,dr()))}break;case 13:Lr(function(){var n=vs(e,1);if(n!==null){var a=st();qt(n,e,1,a)}}),qd(e,1)}};ud=function(e){if(e.tag===13){var t=vs(e,134217728);if(t!==null){var r=st();qt(t,e,134217728,r)}qd(e,134217728)}};op=function(e){if(e.tag===13){var t=er(e),r=vs(e,t);if(r!==null){var n=st();qt(r,e,t,n)}qd(e,t)}};cp=function(){return ie};dp=function(e,t){var r=ie;try{return ie=e,t()}finally{ie=r}};zo=function(e,t,r){switch(t){case"input":if(Oo(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ei(n);if(!a)throw Error(O(90));Bh(n),Oo(n,a)}}}break;case"textarea":qh(e,r);break;case"select":t=r.value,t!=null&&on(e,!!r.multiple,t,!1)}};Jh=Id;Yh=Lr;var Ty={usingClientEntryPoint:!1,Events:[Ga,en,Ei,Wh,Gh,Id]},ea={findFiberByHostInstance:xr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ry={bundleType:ea.bundleType,version:ea.version,rendererPackageName:ea.rendererPackageName,rendererConfig:ea.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ss.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=ep(e),e===null?null:e.stateNode},findFiberByHostInstance:ea.findFiberByHostInstance||Py,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jl.isDisabled&&jl.supportsFiber)try{Ni=jl.inject(Ry),rs=jl}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ty;Nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(t))throw Error(O(200));return Ey(e,t,null,r)};Nt.createRoot=function(e,t){if(!Qd(e))throw Error(O(299));var r=!1,n="",a=Ax;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=zd(e,1,!1,null,null,r,!1,n,a),e[bs]=t.current,Ea(e.nodeType===8?e.parentNode:e),new Hd(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=ep(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return Lr(e)};Nt.hydrate=function(e,t,r){if(!_i(t))throw Error(O(200));return Li(null,e,t,!0,r)};Nt.hydrateRoot=function(e,t,r){if(!Qd(e))throw Error(O(405));var n=r!=null&&r.hydratedSources||null,a=!1,l="",i=Ax;if(r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Rx(t,null,e,1,r??null,a,!1,l,i),e[bs]=t.current,Ea(e),n)for(e=0;e<n.length;e++)r=n[e],a=r._getVersion,a=a(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new Oi(t)};Nt.render=function(e,t,r){if(!_i(t))throw Error(O(200));return Li(null,e,t,!1,r)};Nt.unmountComponentAtNode=function(e){if(!_i(e))throw Error(O(40));return e._reactRootContainer?(Lr(function(){Li(null,null,e,!1,function(){e._reactRootContainer=null,e[bs]=null})}),!0):!1};Nt.unstable_batchedUpdates=Id;Nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!_i(r))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return Li(e,t,r,!1,n)};Nt.version="18.3.1-next-f1338f8080-20240426";function Fx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fx)}catch(e){console.error(e)}}Fx(),Fh.exports=Nt;var Ii=Fh.exports,Nm=Ii;Po.createRoot=Nm.createRoot,Po.hydrateRoot=Nm.hydrateRoot;/**
 * @remix-run/router v1.23.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(this,arguments)}var Vs;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Vs||(Vs={}));const wm="popstate";function Ay(e){e===void 0&&(e={});function t(n,a){let{pathname:l,search:i,hash:o}=n.location;return jc("",{pathname:l,search:i,hash:o},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:hi(a)}return My(t,r,null,e)}function Se(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Kd(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Fy(){return Math.random().toString(36).substr(2,8)}function Sm(e,t){return{usr:e.state,key:e.key,idx:t}}function jc(e,t,r,n){return r===void 0&&(r=null),_a({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?Un(t):t,{state:r,key:t&&t.key||n||Fy()})}function hi(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Un(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function My(e,t,r,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,i=a.history,o=Vs.Pop,c=null,d=u();d==null&&(d=0,i.replaceState(_a({},i.state,{idx:d}),""));function u(){return(i.state||{idx:null}).idx}function h(){o=Vs.Pop;let g=u(),y=g==null?null:g-d;d=g,c&&c({action:o,location:p.location,delta:y})}function x(g,y){o=Vs.Push;let f=jc(p.location,g,y);d=u()+1;let j=Sm(f,d),b=p.createHref(f);try{i.pushState(j,"",b)}catch(S){if(S instanceof DOMException&&S.name==="DataCloneError")throw S;a.location.assign(b)}l&&c&&c({action:o,location:p.location,delta:1})}function v(g,y){o=Vs.Replace;let f=jc(p.location,g,y);d=u();let j=Sm(f,d),b=p.createHref(f);i.replaceState(j,"",b),l&&c&&c({action:o,location:p.location,delta:0})}function m(g){let y=a.location.origin!=="null"?a.location.origin:a.location.href,f=typeof g=="string"?g:hi(g);return f=f.replace(/ $/,"%20"),Se(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let p={get action(){return o},get location(){return e(a,i)},listen(g){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(wm,h),c=g,()=>{a.removeEventListener(wm,h),c=null}},createHref(g){return t(a,g)},createURL:m,encodeLocation(g){let y=m(g);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:x,replace:v,go(g){return i.go(g)}};return p}var Cm;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Cm||(Cm={}));function Oy(e,t,r){return r===void 0&&(r="/"),_y(e,t,r)}function _y(e,t,r,n){let a=typeof t=="string"?Un(t):t,l=Vd(a.pathname||"/",r);if(l==null)return null;let i=Mx(e);Ly(i);let o=null;for(let c=0;o==null&&c<i.length;++c){let d=Gy(l);o=Ky(i[c],d)}return o}function Mx(e,t,r,n){t===void 0&&(t=[]),r===void 0&&(r=[]),n===void 0&&(n="");let a=(l,i,o)=>{let c={relativePath:o===void 0?l.path||"":o,caseSensitive:l.caseSensitive===!0,childrenIndex:i,route:l};c.relativePath.startsWith("/")&&(Se(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let d=sr([n,c.relativePath]),u=r.concat(c);l.children&&l.children.length>0&&(Se(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),Mx(l.children,t,u,d)),!(l.path==null&&!l.index)&&t.push({path:d,score:Hy(d,l.index),routesMeta:u})};return e.forEach((l,i)=>{var o;if(l.path===""||!((o=l.path)!=null&&o.includes("?")))a(l,i);else for(let c of Ox(l.path))a(l,i,c)}),t}function Ox(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,a=r.endsWith("?"),l=r.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let i=Ox(n.join("/")),o=[];return o.push(...i.map(c=>c===""?l:[l,c].join("/"))),a&&o.push(...i),o.map(c=>e.startsWith("/")&&c===""?"/":c)}function Ly(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:Qy(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const Iy=/^:[\w-]+$/,Uy=3,$y=2,By=1,zy=10,qy=-2,Em=e=>e==="*";function Hy(e,t){let r=e.split("/"),n=r.length;return r.some(Em)&&(n+=qy),t&&(n+=$y),r.filter(a=>!Em(a)).reduce((a,l)=>a+(Iy.test(l)?Uy:l===""?By:zy),n)}function Qy(e,t){return e.length===t.length&&e.slice(0,-1).every((n,a)=>n===t[a])?e[e.length-1]-t[t.length-1]:0}function Ky(e,t,r){let{routesMeta:n}=e,a={},l="/",i=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,u=l==="/"?t:t.slice(l.length)||"/",h=Vy({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},u),x=c.route;if(!h)return null;Object.assign(a,h.params),i.push({params:a,pathname:sr([l,h.pathname]),pathnameBase:eb(sr([l,h.pathnameBase])),route:x}),h.pathnameBase!=="/"&&(l=sr([l,h.pathnameBase]))}return i}function Vy(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=Wy(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let l=a[0],i=l.replace(/(.)\/+$/,"$1"),o=a.slice(1);return{params:n.reduce((d,u,h)=>{let{paramName:x,isOptional:v}=u;if(x==="*"){let p=o[h]||"";i=l.slice(0,l.length-p.length).replace(/(.)\/+$/,"$1")}const m=o[h];return v&&!m?d[x]=void 0:d[x]=(m||"").replace(/%2F/g,"/"),d},{}),pathname:l,pathnameBase:i,pattern:e}}function Wy(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),Kd(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(i,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(n.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),n]}function Gy(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Kd(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Vd(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}const Jy=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Yy=e=>Jy.test(e);function Xy(e,t){t===void 0&&(t="/");let{pathname:r,search:n="",hash:a=""}=typeof e=="string"?Un(e):e,l;if(r)if(Yy(r))l=r;else{if(r.includes("//")){let i=r;r=r.replace(/\/\/+/g,"/"),Kd(!1,"Pathnames cannot have embedded double slashes - normalizing "+(i+" -> "+r))}r.startsWith("/")?l=Pm(r.substring(1),"/"):l=Pm(r,t)}else l=t;return{pathname:l,search:tb(n),hash:sb(a)}}function Pm(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function No(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Zy(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function Wd(e,t){let r=Zy(e);return t?r.map((n,a)=>a===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Gd(e,t,r,n){n===void 0&&(n=!1);let a;typeof e=="string"?a=Un(e):(a=_a({},e),Se(!a.pathname||!a.pathname.includes("?"),No("?","pathname","search",a)),Se(!a.pathname||!a.pathname.includes("#"),No("#","pathname","hash",a)),Se(!a.search||!a.search.includes("#"),No("#","search","hash",a)));let l=e===""||a.pathname==="",i=l?"/":a.pathname,o;if(i==null)o=r;else{let h=t.length-1;if(!n&&i.startsWith("..")){let x=i.split("/");for(;x[0]==="..";)x.shift(),h-=1;a.pathname=x.join("/")}o=h>=0?t[h]:"/"}let c=Xy(a,o),d=i&&i!=="/"&&i.endsWith("/"),u=(l||i===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||u)&&(c.pathname+="/"),c}const sr=e=>e.join("/").replace(/\/\/+/g,"/"),eb=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),tb=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,sb=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function rb(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const _x=["post","put","patch","delete"];new Set(_x);const nb=["get",..._x];new Set(nb);/**
 * React Router v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function La(){return La=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},La.apply(this,arguments)}const Jd=N.createContext(null),ab=N.createContext(null),ur=N.createContext(null),Ui=N.createContext(null),as=N.createContext({outlet:null,matches:[],isDataRoute:!1}),Lx=N.createContext(null);function lb(e,t){let{relative:r}=t===void 0?{}:t;$n()||Se(!1);let{basename:n,navigator:a}=N.useContext(ur),{hash:l,pathname:i,search:o}=Ux(e,{relative:r}),c=i;return n!=="/"&&(c=i==="/"?n:sr([n,i])),a.createHref({pathname:c,search:o,hash:l})}function $n(){return N.useContext(Ui)!=null}function Hr(){return $n()||Se(!1),N.useContext(Ui).location}function Ix(e){N.useContext(ur).static||N.useLayoutEffect(e)}function oe(){let{isDataRoute:e}=N.useContext(as);return e?jb():ib()}function ib(){$n()||Se(!1);let e=N.useContext(Jd),{basename:t,future:r,navigator:n}=N.useContext(ur),{matches:a}=N.useContext(as),{pathname:l}=Hr(),i=JSON.stringify(Wd(a,r.v7_relativeSplatPath)),o=N.useRef(!1);return Ix(()=>{o.current=!0}),N.useCallback(function(d,u){if(u===void 0&&(u={}),!o.current)return;if(typeof d=="number"){n.go(d);return}let h=Gd(d,JSON.parse(i),l,u.relative==="path");e==null&&t!=="/"&&(h.pathname=h.pathname==="/"?t:sr([t,h.pathname])),(u.replace?n.replace:n.push)(h,u.state,u)},[t,n,i,l,e])}const ob=N.createContext(null);function cb(e){let t=N.useContext(as).outlet;return t&&N.createElement(ob.Provider,{value:e},t)}function St(){let{matches:e}=N.useContext(as),t=e[e.length-1];return t?t.params:{}}function Ux(e,t){let{relative:r}=t===void 0?{}:t,{future:n}=N.useContext(ur),{matches:a}=N.useContext(as),{pathname:l}=Hr(),i=JSON.stringify(Wd(a,n.v7_relativeSplatPath));return N.useMemo(()=>Gd(e,JSON.parse(i),l,r==="path"),[e,i,l,r])}function db(e,t){return ub(e,t)}function ub(e,t,r,n){$n()||Se(!1);let{navigator:a}=N.useContext(ur),{matches:l}=N.useContext(as),i=l[l.length-1],o=i?i.params:{};i&&i.pathname;let c=i?i.pathnameBase:"/";i&&i.route;let d=Hr(),u;if(t){var h;let g=typeof t=="string"?Un(t):t;c==="/"||(h=g.pathname)!=null&&h.startsWith(c)||Se(!1),u=g}else u=d;let x=u.pathname||"/",v=x;if(c!=="/"){let g=c.replace(/^\//,"").split("/");v="/"+x.replace(/^\//,"").split("/").slice(g.length).join("/")}let m=Oy(e,{pathname:v}),p=fb(m&&m.map(g=>Object.assign({},g,{params:Object.assign({},o,g.params),pathname:sr([c,a.encodeLocation?a.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?c:sr([c,a.encodeLocation?a.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),l,r,n);return t&&p?N.createElement(Ui.Provider,{value:{location:La({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Vs.Pop}},p):p}function mb(){let e=vb(),t=rb(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return N.createElement(N.Fragment,null,N.createElement("h2",null,"Unexpected Application Error!"),N.createElement("h3",{style:{fontStyle:"italic"}},t),r?N.createElement("pre",{style:a},r):null,null)}const hb=N.createElement(mb,null);class pb extends N.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error!==void 0?N.createElement(as.Provider,{value:this.props.routeContext},N.createElement(Lx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xb(e){let{routeContext:t,match:r,children:n}=e,a=N.useContext(Jd);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),N.createElement(as.Provider,{value:t},n)}function fb(e,t,r,n){var a;if(t===void 0&&(t=[]),r===void 0&&(r=null),n===void 0&&(n=null),e==null){var l;if(!r)return null;if(r.errors)e=r.matches;else if((l=n)!=null&&l.v7_partialHydration&&t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let i=e,o=(a=r)==null?void 0:a.errors;if(o!=null){let u=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);u>=0||Se(!1),i=i.slice(0,Math.min(i.length,u+1))}let c=!1,d=-1;if(r&&n&&n.v7_partialHydration)for(let u=0;u<i.length;u++){let h=i[u];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(d=u),h.route.id){let{loaderData:x,errors:v}=r,m=h.route.loader&&x[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||m){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}return i.reduceRight((u,h,x)=>{let v,m=!1,p=null,g=null;r&&(v=o&&h.route.id?o[h.route.id]:void 0,p=h.route.errorElement||hb,c&&(d<0&&x===0?(kb("route-fallback"),m=!0,g=null):d===x&&(m=!0,g=h.route.hydrateFallbackElement||null)));let y=t.concat(i.slice(0,x+1)),f=()=>{let j;return v?j=p:m?j=g:h.route.Component?j=N.createElement(h.route.Component,null):h.route.element?j=h.route.element:j=u,N.createElement(xb,{match:h,routeContext:{outlet:u,matches:y,isDataRoute:r!=null},children:j})};return r&&(h.route.ErrorBoundary||h.route.errorElement||x===0)?N.createElement(pb,{location:r.location,revalidation:r.revalidation,component:p,error:v,children:f(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):f()},null)}var $x=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}($x||{}),Bx=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Bx||{});function gb(e){let t=N.useContext(Jd);return t||Se(!1),t}function yb(e){let t=N.useContext(ab);return t||Se(!1),t}function bb(e){let t=N.useContext(as);return t||Se(!1),t}function zx(e){let t=bb(),r=t.matches[t.matches.length-1];return r.route.id||Se(!1),r.route.id}function vb(){var e;let t=N.useContext(Lx),r=yb(),n=zx();return t!==void 0?t:(e=r.errors)==null?void 0:e[n]}function jb(){let{router:e}=gb($x.UseNavigateStable),t=zx(Bx.UseNavigateStable),r=N.useRef(!1);return Ix(()=>{r.current=!0}),N.useCallback(function(a,l){l===void 0&&(l={}),r.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,La({fromRouteId:t},l)))},[e,t])}const Dm={};function kb(e,t,r){Dm[e]||(Dm[e]=!0)}function Nb(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function kc(e){let{to:t,replace:r,state:n,relative:a}=e;$n()||Se(!1);let{future:l,static:i}=N.useContext(ur),{matches:o}=N.useContext(as),{pathname:c}=Hr(),d=oe(),u=Gd(t,Wd(o,l.v7_relativeSplatPath),c,a==="path"),h=JSON.stringify(u);return N.useEffect(()=>d(JSON.parse(h),{replace:r,state:n,relative:a}),[d,h,a,r,n]),null}function wb(e){return cb(e.context)}function J(e){Se(!1)}function Sb(e){let{basename:t="/",children:r=null,location:n,navigationType:a=Vs.Pop,navigator:l,static:i=!1,future:o}=e;$n()&&Se(!1);let c=t.replace(/^\/*/,"/"),d=N.useMemo(()=>({basename:c,navigator:l,static:i,future:La({v7_relativeSplatPath:!1},o)}),[c,o,l,i]);typeof n=="string"&&(n=Un(n));let{pathname:u="/",search:h="",hash:x="",state:v=null,key:m="default"}=n,p=N.useMemo(()=>{let g=Vd(u,c);return g==null?null:{location:{pathname:g,search:h,hash:x,state:v,key:m},navigationType:a}},[c,u,h,x,v,m,a]);return p==null?null:N.createElement(ur.Provider,{value:d},N.createElement(Ui.Provider,{children:r,value:p}))}function Cb(e){let{children:t,location:r}=e;return db(Nc(t),r)}new Promise(()=>{});function Nc(e,t){t===void 0&&(t=[]);let r=[];return N.Children.forEach(e,(n,a)=>{if(!N.isValidElement(n))return;let l=[...t,a];if(n.type===N.Fragment){r.push.apply(r,Nc(n.props.children,l));return}n.type!==J&&Se(!1),!n.props.index||!n.props.children||Se(!1);let i={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(i.children=Nc(n.props.children,l)),r.push(i)}),r}/**
 * React Router DOM v6.30.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function wc(){return wc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},wc.apply(this,arguments)}function Eb(e,t){if(e==null)return{};var r={},n=Object.keys(e),a,l;for(l=0;l<n.length;l++)a=n[l],!(t.indexOf(a)>=0)&&(r[a]=e[a]);return r}function Pb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Db(e,t){return e.button===0&&(!t||t==="_self")&&!Pb(e)}function Sc(e){return e===void 0&&(e=""),new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function Tb(e,t){let r=Sc(e);return t&&t.forEach((n,a)=>{r.has(a)||t.getAll(a).forEach(l=>{r.append(a,l)})}),r}const Rb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Ab="6";try{window.__reactRouterVersion=Ab}catch{}const Fb="startTransition",Tm=j0[Fb];function Mb(e){let{basename:t,children:r,future:n,window:a}=e,l=N.useRef();l.current==null&&(l.current=Ay({window:a,v5Compat:!0}));let i=l.current,[o,c]=N.useState({action:i.action,location:i.location}),{v7_startTransition:d}=n||{},u=N.useCallback(h=>{d&&Tm?Tm(()=>c(h)):c(h)},[c,d]);return N.useLayoutEffect(()=>i.listen(u),[i,u]),N.useEffect(()=>Nb(n),[n]),N.createElement(Sb,{basename:t,children:r,location:o.location,navigationType:o.action,navigator:i,future:n})}const Ob=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_b=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,I=N.forwardRef(function(t,r){let{onClick:n,relative:a,reloadDocument:l,replace:i,state:o,target:c,to:d,preventScrollReset:u,viewTransition:h}=t,x=Eb(t,Rb),{basename:v}=N.useContext(ur),m,p=!1;if(typeof d=="string"&&_b.test(d)&&(m=d,Ob))try{let j=new URL(window.location.href),b=d.startsWith("//")?new URL(j.protocol+d):new URL(d),S=Vd(b.pathname,v);b.origin===j.origin&&S!=null?d=S+b.search+b.hash:p=!0}catch{}let g=lb(d,{relative:a}),y=Lb(d,{replace:i,state:o,target:c,preventScrollReset:u,relative:a,viewTransition:h});function f(j){n&&n(j),j.defaultPrevented||y(j)}return N.createElement("a",wc({},x,{href:m||g,onClick:p||l?n:f,ref:r,target:c}))});var Rm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Rm||(Rm={}));var Am;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Am||(Am={}));function Lb(e,t){let{target:r,replace:n,state:a,preventScrollReset:l,relative:i,viewTransition:o}=t===void 0?{}:t,c=oe(),d=Hr(),u=Ux(e,{relative:i});return N.useCallback(h=>{if(Db(h,r)){h.preventDefault();let x=n!==void 0?n:hi(d)===hi(u);c(e,{replace:x,state:a,preventScrollReset:l,relative:i,viewTransition:o})}},[d,c,u,n,a,r,e,l,i,o])}function qx(e){let t=N.useRef(Sc(e)),r=N.useRef(!1),n=Hr(),a=N.useMemo(()=>Tb(n.search,r.current?null:t.current),[n.search]),l=oe(),i=N.useCallback((o,c)=>{const d=Sc(typeof o=="function"?o(a):o);r.current=!0,l("?"+d,c)},[l,a]);return[a,i]}var Bn=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Ib={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},_s,Yc,dh,Ub=(dh=class{constructor(){K(this,_s,Ib);K(this,Yc,!1)}setTimeoutProvider(e){B(this,_s,e)}setTimeout(e,t){return C(this,_s).setTimeout(e,t)}clearTimeout(e){C(this,_s).clearTimeout(e)}setInterval(e,t){return C(this,_s).setInterval(e,t)}clearInterval(e){C(this,_s).clearInterval(e)}},_s=new WeakMap,Yc=new WeakMap,dh),yr=new Ub;function $b(e){setTimeout(e,0)}var Ir=typeof window>"u"||"Deno"in globalThis;function tt(){}function Bb(e,t){return typeof e=="function"?e(t):e}function Cc(e){return typeof e=="number"&&e>=0&&e!==1/0}function Hx(e,t){return Math.max(e+(t||0)-Date.now(),0)}function rr(e,t){return typeof e=="function"?e(t):e}function Pt(e,t){return typeof e=="function"?e(t):e}function Fm(e,t){const{type:r="all",exact:n,fetchStatus:a,predicate:l,queryKey:i,stale:o}=e;if(i){if(n){if(t.queryHash!==Yd(i,t.options))return!1}else if(!Ia(t.queryKey,i))return!1}if(r!=="all"){const c=t.isActive();if(r==="active"&&!c||r==="inactive"&&c)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||a&&a!==t.state.fetchStatus||l&&!l(t))}function Mm(e,t){const{exact:r,status:n,predicate:a,mutationKey:l}=e;if(l){if(!t.options.mutationKey)return!1;if(r){if(Ur(t.options.mutationKey)!==Ur(l))return!1}else if(!Ia(t.options.mutationKey,l))return!1}return!(n&&t.state.status!==n||a&&!a(t))}function Yd(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ur)(e)}function Ur(e){return JSON.stringify(e,(t,r)=>Ec(r)?Object.keys(r).sort().reduce((n,a)=>(n[a]=r[a],n),{}):r)}function Ia(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(t).every(r=>Ia(e[r],t[r])):!1}var zb=Object.prototype.hasOwnProperty;function Qx(e,t){if(e===t)return e;const r=Om(e)&&Om(t);if(!r&&!(Ec(e)&&Ec(t)))return t;const a=(r?e:Object.keys(e)).length,l=r?t:Object.keys(t),i=l.length,o=r?new Array(i):{};let c=0;for(let d=0;d<i;d++){const u=r?d:l[d],h=e[u],x=t[u];if(h===x){o[u]=h,(r?d<a:zb.call(e,u))&&c++;continue}if(h===null||x===null||typeof h!="object"||typeof x!="object"){o[u]=x;continue}const v=Qx(h,x);o[u]=v,v===h&&c++}return a===i&&c===a?e:o}function pi(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function Om(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ec(e){if(!_m(e))return!1;const t=e.constructor;if(t===void 0)return!0;const r=t.prototype;return!(!_m(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _m(e){return Object.prototype.toString.call(e)==="[object Object]"}function qb(e){return new Promise(t=>{yr.setTimeout(t,e)})}function Pc(e,t,r){return typeof r.structuralSharing=="function"?r.structuralSharing(e,t):r.structuralSharing!==!1?Qx(e,t):t}function Hb(e,t,r=0){const n=[...e,t];return r&&n.length>r?n.slice(1):n}function Qb(e,t,r=0){const n=[t,...e];return r&&n.length>r?n.slice(0,-1):n}var Xd=Symbol();function Kx(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Xd?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}function Zd(e,t){return typeof e=="function"?e(...t):!!e}function Kb(e,t,r){let n=!1,a;return Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(a??(a=t()),n||(n=!0,a.aborted?r():a.addEventListener("abort",r,{once:!0})),a)}),e}var jr,Ls,pn,uh,Vb=(uh=class extends Bn{constructor(){super();K(this,jr);K(this,Ls);K(this,pn);B(this,pn,t=>{if(!Ir&&window.addEventListener){const r=()=>t();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){C(this,Ls)||this.setEventListener(C(this,pn))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Ls))==null||t.call(this),B(this,Ls,void 0))}setEventListener(t){var r;B(this,pn,t),(r=C(this,Ls))==null||r.call(this),B(this,Ls,t(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(t){C(this,jr)!==t&&(B(this,jr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(r=>{r(t)})}isFocused(){var t;return typeof C(this,jr)=="boolean"?C(this,jr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},jr=new WeakMap,Ls=new WeakMap,pn=new WeakMap,uh),eu=new Vb;function Dc(){let e,t;const r=new Promise((a,l)=>{e=a,t=l});r.status="pending",r.catch(()=>{});function n(a){Object.assign(r,a),delete r.resolve,delete r.reject}return r.resolve=a=>{n({status:"fulfilled",value:a}),e(a)},r.reject=a=>{n({status:"rejected",reason:a}),t(a)},r}var Wb=$b;function Gb(){let e=[],t=0,r=o=>{o()},n=o=>{o()},a=Wb;const l=o=>{t?e.push(o):a(()=>{r(o)})},i=()=>{const o=e;e=[],o.length&&a(()=>{n(()=>{o.forEach(c=>{r(c)})})})};return{batch:o=>{let c;t++;try{c=o()}finally{t--,t||i()}return c},batchCalls:o=>(...c)=>{l(()=>{o(...c)})},schedule:l,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{a=o}}}var Oe=Gb(),xn,Is,fn,mh,Jb=(mh=class extends Bn{constructor(){super();K(this,xn,!0);K(this,Is);K(this,fn);B(this,fn,t=>{if(!Ir&&window.addEventListener){const r=()=>t(!0),n=()=>t(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){C(this,Is)||this.setEventListener(C(this,fn))}onUnsubscribe(){var t;this.hasListeners()||((t=C(this,Is))==null||t.call(this),B(this,Is,void 0))}setEventListener(t){var r;B(this,fn,t),(r=C(this,Is))==null||r.call(this),B(this,Is,t(this.setOnline.bind(this)))}setOnline(t){C(this,xn)!==t&&(B(this,xn,t),this.listeners.forEach(n=>{n(t)}))}isOnline(){return C(this,xn)}},xn=new WeakMap,Is=new WeakMap,fn=new WeakMap,mh),xi=new Jb;function Yb(e){return Math.min(1e3*2**e,3e4)}function Vx(e){return(e??"online")==="online"?xi.isOnline():!0}var Tc=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Wx(e){let t=!1,r=0,n;const a=Dc(),l=()=>a.status!=="pending",i=p=>{var g;if(!l()){const y=new Tc(p);x(y),(g=e.onCancel)==null||g.call(e,y)}},o=()=>{t=!0},c=()=>{t=!1},d=()=>eu.isFocused()&&(e.networkMode==="always"||xi.isOnline())&&e.canRun(),u=()=>Vx(e.networkMode)&&e.canRun(),h=p=>{l()||(n==null||n(),a.resolve(p))},x=p=>{l()||(n==null||n(),a.reject(p))},v=()=>new Promise(p=>{var g;n=y=>{(l()||d())&&p(y)},(g=e.onPause)==null||g.call(e)}).then(()=>{var p;n=void 0,l()||(p=e.onContinue)==null||p.call(e)}),m=()=>{if(l())return;let p;const g=r===0?e.initialPromise:void 0;try{p=g??e.fn()}catch(y){p=Promise.reject(y)}Promise.resolve(p).then(h).catch(y=>{var w;if(l())return;const f=e.retry??(Ir?0:3),j=e.retryDelay??Yb,b=typeof j=="function"?j(r,y):j,S=f===!0||typeof f=="number"&&r<f||typeof f=="function"&&f(r,y);if(t||!S){x(y);return}r++,(w=e.onFail)==null||w.call(e,r,y),qb(b).then(()=>d()?void 0:v()).then(()=>{t?x(y):m()})})};return{promise:a,status:()=>a.status,cancel:i,continue:()=>(n==null||n(),a),cancelRetry:o,continueRetry:c,canStart:u,start:()=>(u()?m():v().then(m),a)}}var kr,hh,Gx=(hh=class{constructor(){K(this,kr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Cc(this.gcTime)&&B(this,kr,yr.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Ir?1/0:5*60*1e3))}clearGcTimeout(){C(this,kr)&&(yr.clearTimeout(C(this,kr)),B(this,kr,void 0))}},kr=new WeakMap,hh),Nr,gn,Et,wr,Ie,Ba,Sr,It,is,ph,Xb=(ph=class extends Gx{constructor(t){super();K(this,It);K(this,Nr);K(this,gn);K(this,Et);K(this,wr);K(this,Ie);K(this,Ba);K(this,Sr);B(this,Sr,!1),B(this,Ba,t.defaultOptions),this.setOptions(t.options),this.observers=[],B(this,wr,t.client),B(this,Et,C(this,wr).getQueryCache()),this.queryKey=t.queryKey,this.queryHash=t.queryHash,B(this,Nr,Im(this.options)),this.state=t.state??C(this,Nr),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=C(this,Ie))==null?void 0:t.promise}setOptions(t){if(this.options={...C(this,Ba),...t},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=Im(this.options);r.data!==void 0&&(this.setState(Lm(r.data,r.dataUpdatedAt)),B(this,Nr,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&C(this,Et).remove(this)}setData(t,r){const n=Pc(this.state.data,t,this.options);return X(this,It,is).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(t,r){X(this,It,is).call(this,{type:"setState",state:t,setStateOptions:r})}cancel(t){var n,a;const r=(n=C(this,Ie))==null?void 0:n.promise;return(a=C(this,Ie))==null||a.cancel(t),r?r.then(tt).catch(tt):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(C(this,Nr))}isActive(){return this.observers.some(t=>Pt(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Xd||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(t=>rr(t.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(t=0){return this.state.data===void 0?!0:t==="static"?!1:this.state.isInvalidated?!0:!Hx(this.state.dataUpdatedAt,t)}onFocus(){var r;const t=this.observers.find(n=>n.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Ie))==null||r.continue()}onOnline(){var r;const t=this.observers.find(n=>n.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(r=C(this,Ie))==null||r.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),C(this,Et).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(r=>r!==t),this.observers.length||(C(this,Ie)&&(C(this,Sr)?C(this,Ie).cancel({revert:!0}):C(this,Ie).cancelRetry()),this.scheduleGc()),C(this,Et).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||X(this,It,is).call(this,{type:"invalidate"})}async fetch(t,r){var c,d,u,h,x,v,m,p,g,y,f,j;if(this.state.fetchStatus!=="idle"&&((c=C(this,Ie))==null?void 0:c.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(C(this,Ie))return C(this,Ie).continueRetry(),C(this,Ie).promise}if(t&&this.setOptions(t),!this.options.queryFn){const b=this.observers.find(S=>S.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,a=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(B(this,Sr,!0),n.signal)})},l=()=>{const b=Kx(this.options,r),w=(()=>{const k={client:C(this,wr),queryKey:this.queryKey,meta:this.meta};return a(k),k})();return B(this,Sr,!1),this.options.persister?this.options.persister(b,w,this):b(w)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:C(this,wr),state:this.state,fetchFn:l};return a(b),b})();(d=this.options.behavior)==null||d.onFetch(o,this),B(this,gn,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&X(this,It,is).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),B(this,Ie,Wx({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof Tc&&b.revert&&this.setState({...C(this,gn),fetchStatus:"idle"}),n.abort()},onFail:(b,S)=>{X(this,It,is).call(this,{type:"failed",failureCount:b,error:S})},onPause:()=>{X(this,It,is).call(this,{type:"pause"})},onContinue:()=>{X(this,It,is).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await C(this,Ie).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(v=(x=C(this,Et).config).onSuccess)==null||v.call(x,b,this),(p=(m=C(this,Et).config).onSettled)==null||p.call(m,b,this.state.error,this),b}catch(b){if(b instanceof Tc){if(b.silent)return C(this,Ie).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw X(this,It,is).call(this,{type:"error",error:b}),(y=(g=C(this,Et).config).onError)==null||y.call(g,b,this),(j=(f=C(this,Et).config).onSettled)==null||j.call(f,this.state.data,b,this),b}finally{this.scheduleGc()}}},Nr=new WeakMap,gn=new WeakMap,Et=new WeakMap,wr=new WeakMap,Ie=new WeakMap,Ba=new WeakMap,Sr=new WeakMap,It=new WeakSet,is=function(t){const r=n=>{switch(t.type){case"failed":return{...n,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...Jx(n.data,this.options),fetchMeta:t.meta??null};case"success":const a={...n,...Lm(t.data,t.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return B(this,gn,t.manual?a:void 0),a;case"error":const l=t.error;return{...n,error:l,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:l,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...t.state}}};this.state=r(this.state),Oe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),C(this,Et).notify({query:this,type:"updated",action:t})})},ph);function Jx(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Vx(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Lm(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function Im(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,r=t!==void 0,n=r?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var lt,se,za,Xe,Cr,yn,ds,Us,qa,bn,vn,Er,Pr,$s,jn,le,ia,Rc,Ac,Fc,Mc,Oc,_c,Lc,Yx,xh,Zb=(xh=class extends Bn{constructor(t,r){super();K(this,le);K(this,lt);K(this,se);K(this,za);K(this,Xe);K(this,Cr);K(this,yn);K(this,ds);K(this,Us);K(this,qa);K(this,bn);K(this,vn);K(this,Er);K(this,Pr);K(this,$s);K(this,jn,new Set);this.options=r,B(this,lt,t),B(this,Us,null),B(this,ds,Dc()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(C(this,se).addObserver(this),Um(C(this,se),this.options)?X(this,le,ia).call(this):this.updateResult(),X(this,le,Mc).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Ic(C(this,se),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Ic(C(this,se),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,X(this,le,Oc).call(this),X(this,le,_c).call(this),C(this,se).removeObserver(this)}setOptions(t){const r=this.options,n=C(this,se);if(this.options=C(this,lt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Pt(this.options.enabled,C(this,se))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");X(this,le,Lc).call(this),C(this,se).setOptions(this.options),r._defaulted&&!pi(this.options,r)&&C(this,lt).getQueryCache().notify({type:"observerOptionsUpdated",query:C(this,se),observer:this});const a=this.hasListeners();a&&$m(C(this,se),n,this.options,r)&&X(this,le,ia).call(this),this.updateResult(),a&&(C(this,se)!==n||Pt(this.options.enabled,C(this,se))!==Pt(r.enabled,C(this,se))||rr(this.options.staleTime,C(this,se))!==rr(r.staleTime,C(this,se)))&&X(this,le,Rc).call(this);const l=X(this,le,Ac).call(this);a&&(C(this,se)!==n||Pt(this.options.enabled,C(this,se))!==Pt(r.enabled,C(this,se))||l!==C(this,$s))&&X(this,le,Fc).call(this,l)}getOptimisticResult(t){const r=C(this,lt).getQueryCache().build(C(this,lt),t),n=this.createResult(r,t);return tv(this,n)&&(B(this,Xe,n),B(this,yn,this.options),B(this,Cr,C(this,se).state)),n}getCurrentResult(){return C(this,Xe)}trackResult(t,r){return new Proxy(t,{get:(n,a)=>(this.trackProp(a),r==null||r(a),a==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&C(this,ds).status==="pending"&&C(this,ds).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,a))})}trackProp(t){C(this,jn).add(t)}getCurrentQuery(){return C(this,se)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const r=C(this,lt).defaultQueryOptions(t),n=C(this,lt).getQueryCache().build(C(this,lt),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(t){return X(this,le,ia).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),C(this,Xe)))}createResult(t,r){var _;const n=C(this,se),a=this.options,l=C(this,Xe),i=C(this,Cr),o=C(this,yn),d=t!==n?t.state:C(this,za),{state:u}=t;let h={...u},x=!1,v;if(r._optimisticResults){const P=this.hasListeners(),E=!P&&Um(t,r),q=P&&$m(t,n,r,a);(E||q)&&(h={...h,...Jx(u.data,t.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:p,status:g}=h;v=h.data;let y=!1;if(r.placeholderData!==void 0&&v===void 0&&g==="pending"){let P;l!=null&&l.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(P=l.data,y=!0):P=typeof r.placeholderData=="function"?r.placeholderData((_=C(this,vn))==null?void 0:_.state.data,C(this,vn)):r.placeholderData,P!==void 0&&(g="success",v=Pc(l==null?void 0:l.data,P,r),x=!0)}if(r.select&&v!==void 0&&!y)if(l&&v===(i==null?void 0:i.data)&&r.select===C(this,qa))v=C(this,bn);else try{B(this,qa,r.select),v=r.select(v),v=Pc(l==null?void 0:l.data,v,r),B(this,bn,v),B(this,Us,null)}catch(P){B(this,Us,P)}C(this,Us)&&(m=C(this,Us),v=C(this,bn),p=Date.now(),g="error");const f=h.fetchStatus==="fetching",j=g==="pending",b=g==="error",S=j&&f,w=v!==void 0,D={status:g,fetchStatus:h.fetchStatus,isPending:j,isSuccess:g==="success",isError:b,isInitialLoading:S,isLoading:S,data:v,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:p,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>d.dataUpdateCount||h.errorUpdateCount>d.errorUpdateCount,isFetching:f,isRefetching:f&&!j,isLoadingError:b&&!w,isPaused:h.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:b&&w,isStale:tu(t,r),refetch:this.refetch,promise:C(this,ds),isEnabled:Pt(r.enabled,t)!==!1};if(this.options.experimental_prefetchInRender){const P=te=>{D.status==="error"?te.reject(D.error):D.data!==void 0&&te.resolve(D.data)},E=()=>{const te=B(this,ds,D.promise=Dc());P(te)},q=C(this,ds);switch(q.status){case"pending":t.queryHash===n.queryHash&&P(q);break;case"fulfilled":(D.status==="error"||D.data!==q.value)&&E();break;case"rejected":(D.status!=="error"||D.error!==q.reason)&&E();break}}return D}updateResult(){const t=C(this,Xe),r=this.createResult(C(this,se),this.options);if(B(this,Cr,C(this,se).state),B(this,yn,this.options),C(this,Cr).data!==void 0&&B(this,vn,C(this,se)),pi(r,t))return;B(this,Xe,r);const n=()=>{if(!t)return!0;const{notifyOnChangeProps:a}=this.options,l=typeof a=="function"?a():a;if(l==="all"||!l&&!C(this,jn).size)return!0;const i=new Set(l??C(this,jn));return this.options.throwOnError&&i.add("error"),Object.keys(C(this,Xe)).some(o=>{const c=o;return C(this,Xe)[c]!==t[c]&&i.has(c)})};X(this,le,Yx).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&X(this,le,Mc).call(this)}},lt=new WeakMap,se=new WeakMap,za=new WeakMap,Xe=new WeakMap,Cr=new WeakMap,yn=new WeakMap,ds=new WeakMap,Us=new WeakMap,qa=new WeakMap,bn=new WeakMap,vn=new WeakMap,Er=new WeakMap,Pr=new WeakMap,$s=new WeakMap,jn=new WeakMap,le=new WeakSet,ia=function(t){X(this,le,Lc).call(this);let r=C(this,se).fetch(this.options,t);return t!=null&&t.throwOnError||(r=r.catch(tt)),r},Rc=function(){X(this,le,Oc).call(this);const t=rr(this.options.staleTime,C(this,se));if(Ir||C(this,Xe).isStale||!Cc(t))return;const n=Hx(C(this,Xe).dataUpdatedAt,t)+1;B(this,Er,yr.setTimeout(()=>{C(this,Xe).isStale||this.updateResult()},n))},Ac=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(C(this,se)):this.options.refetchInterval)??!1},Fc=function(t){X(this,le,_c).call(this),B(this,$s,t),!(Ir||Pt(this.options.enabled,C(this,se))===!1||!Cc(C(this,$s))||C(this,$s)===0)&&B(this,Pr,yr.setInterval(()=>{(this.options.refetchIntervalInBackground||eu.isFocused())&&X(this,le,ia).call(this)},C(this,$s)))},Mc=function(){X(this,le,Rc).call(this),X(this,le,Fc).call(this,X(this,le,Ac).call(this))},Oc=function(){C(this,Er)&&(yr.clearTimeout(C(this,Er)),B(this,Er,void 0))},_c=function(){C(this,Pr)&&(yr.clearInterval(C(this,Pr)),B(this,Pr,void 0))},Lc=function(){const t=C(this,lt).getQueryCache().build(C(this,lt),this.options);if(t===C(this,se))return;const r=C(this,se);B(this,se,t),B(this,za,t.state),this.hasListeners()&&(r==null||r.removeObserver(this),t.addObserver(this))},Yx=function(t){Oe.batch(()=>{t.listeners&&this.listeners.forEach(r=>{r(C(this,Xe))}),C(this,lt).getQueryCache().notify({query:C(this,se),type:"observerResultsUpdated"})})},xh);function ev(e,t){return Pt(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Um(e,t){return ev(e,t)||e.state.data!==void 0&&Ic(e,t,t.refetchOnMount)}function Ic(e,t,r){if(Pt(t.enabled,e)!==!1&&rr(t.staleTime,e)!=="static"){const n=typeof r=="function"?r(e):r;return n==="always"||n!==!1&&tu(e,t)}return!1}function $m(e,t,r,n){return(e!==t||Pt(n.enabled,e)===!1)&&(!r.suspense||e.state.status!=="error")&&tu(e,r)}function tu(e,t){return Pt(t.enabled,e)!==!1&&e.isStaleByTime(rr(t.staleTime,e))}function tv(e,t){return!pi(e.getCurrentResult(),t)}function Bm(e){return{onFetch:(t,r)=>{var u,h,x,v,m;const n=t.options,a=(x=(h=(u=t.fetchOptions)==null?void 0:u.meta)==null?void 0:h.fetchMore)==null?void 0:x.direction,l=((v=t.state.data)==null?void 0:v.pages)||[],i=((m=t.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},c=0;const d=async()=>{let p=!1;const g=j=>{Kb(j,()=>t.signal,()=>p=!0)},y=Kx(t.options,t.fetchOptions),f=async(j,b,S)=>{if(p)return Promise.reject();if(b==null&&j.pages.length)return Promise.resolve(j);const k=(()=>{const E={client:t.client,queryKey:t.queryKey,pageParam:b,direction:S?"backward":"forward",meta:t.options.meta};return g(E),E})(),D=await y(k),{maxPages:_}=t.options,P=S?Qb:Hb;return{pages:P(j.pages,D,_),pageParams:P(j.pageParams,b,_)}};if(a&&l.length){const j=a==="backward",b=j?sv:zm,S={pages:l,pageParams:i},w=b(n,S);o=await f(S,w,j)}else{const j=e??l.length;do{const b=c===0?i[0]??n.initialPageParam:zm(n,o);if(c>0&&b==null)break;o=await f(o,b),c++}while(c<j)}return o};t.options.persister?t.fetchFn=()=>{var p,g;return(g=(p=t.options).persister)==null?void 0:g.call(p,d,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=d}}}function zm(e,{pages:t,pageParams:r}){const n=t.length-1;return t.length>0?e.getNextPageParam(t[n],t,r[n],r):void 0}function sv(e,{pages:t,pageParams:r}){var n;return t.length>0?(n=e.getPreviousPageParam)==null?void 0:n.call(e,t[0],t,r[0],r):void 0}var Ha,Xt,Ze,Dr,Zt,Ts,fh,rv=(fh=class extends Gx{constructor(t){super();K(this,Zt);K(this,Ha);K(this,Xt);K(this,Ze);K(this,Dr);B(this,Ha,t.client),this.mutationId=t.mutationId,B(this,Ze,t.mutationCache),B(this,Xt,[]),this.state=t.state||Xx(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){C(this,Xt).includes(t)||(C(this,Xt).push(t),this.clearGcTimeout(),C(this,Ze).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){B(this,Xt,C(this,Xt).filter(r=>r!==t)),this.scheduleGc(),C(this,Ze).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){C(this,Xt).length||(this.state.status==="pending"?this.scheduleGc():C(this,Ze).remove(this))}continue(){var t;return((t=C(this,Dr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,c,d,u,h,x,v,m,p,g,y,f,j,b,S,w,k,D,_;const r=()=>{X(this,Zt,Ts).call(this,{type:"continue"})},n={client:C(this,Ha),meta:this.options.meta,mutationKey:this.options.mutationKey};B(this,Dr,Wx({fn:()=>this.options.mutationFn?this.options.mutationFn(t,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,E)=>{X(this,Zt,Ts).call(this,{type:"failed",failureCount:P,error:E})},onPause:()=>{X(this,Zt,Ts).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>C(this,Ze).canRun(this)}));const a=this.state.status==="pending",l=!C(this,Dr).canStart();try{if(a)r();else{X(this,Zt,Ts).call(this,{type:"pending",variables:t,isPaused:l}),await((o=(i=C(this,Ze).config).onMutate)==null?void 0:o.call(i,t,this,n));const E=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,t,n));E!==this.state.context&&X(this,Zt,Ts).call(this,{type:"pending",context:E,variables:t,isPaused:l})}const P=await C(this,Dr).start();return await((h=(u=C(this,Ze).config).onSuccess)==null?void 0:h.call(u,P,t,this.state.context,this,n)),await((v=(x=this.options).onSuccess)==null?void 0:v.call(x,P,t,this.state.context,n)),await((p=(m=C(this,Ze).config).onSettled)==null?void 0:p.call(m,P,null,this.state.variables,this.state.context,this,n)),await((y=(g=this.options).onSettled)==null?void 0:y.call(g,P,null,t,this.state.context,n)),X(this,Zt,Ts).call(this,{type:"success",data:P}),P}catch(P){try{await((j=(f=C(this,Ze).config).onError)==null?void 0:j.call(f,P,t,this.state.context,this,n))}catch(E){Promise.reject(E)}try{await((S=(b=this.options).onError)==null?void 0:S.call(b,P,t,this.state.context,n))}catch(E){Promise.reject(E)}try{await((k=(w=C(this,Ze).config).onSettled)==null?void 0:k.call(w,void 0,P,this.state.variables,this.state.context,this,n))}catch(E){Promise.reject(E)}try{await((_=(D=this.options).onSettled)==null?void 0:_.call(D,void 0,P,t,this.state.context,n))}catch(E){Promise.reject(E)}throw X(this,Zt,Ts).call(this,{type:"error",error:P}),P}finally{C(this,Ze).runNext(this)}}},Ha=new WeakMap,Xt=new WeakMap,Ze=new WeakMap,Dr=new WeakMap,Zt=new WeakSet,Ts=function(t){const r=n=>{switch(t.type){case"failed":return{...n,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...n,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:t.error,failureCount:n.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Oe.batch(()=>{C(this,Xt).forEach(n=>{n.onMutationUpdate(t)}),C(this,Ze).notify({mutation:this,type:"updated",action:t})})},fh);function Xx(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var us,Ut,Qa,gh,nv=(gh=class extends Bn{constructor(t={}){super();K(this,us);K(this,Ut);K(this,Qa);this.config=t,B(this,us,new Set),B(this,Ut,new Map),B(this,Qa,0)}build(t,r,n){const a=new rv({client:t,mutationCache:this,mutationId:++nl(this,Qa)._,options:t.defaultMutationOptions(r),state:n});return this.add(a),a}add(t){C(this,us).add(t);const r=kl(t);if(typeof r=="string"){const n=C(this,Ut).get(r);n?n.push(t):C(this,Ut).set(r,[t])}this.notify({type:"added",mutation:t})}remove(t){if(C(this,us).delete(t)){const r=kl(t);if(typeof r=="string"){const n=C(this,Ut).get(r);if(n)if(n.length>1){const a=n.indexOf(t);a!==-1&&n.splice(a,1)}else n[0]===t&&C(this,Ut).delete(r)}}this.notify({type:"removed",mutation:t})}canRun(t){const r=kl(t);if(typeof r=="string"){const n=C(this,Ut).get(r),a=n==null?void 0:n.find(l=>l.state.status==="pending");return!a||a===t}else return!0}runNext(t){var n;const r=kl(t);if(typeof r=="string"){const a=(n=C(this,Ut).get(r))==null?void 0:n.find(l=>l!==t&&l.state.isPaused);return(a==null?void 0:a.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Oe.batch(()=>{C(this,us).forEach(t=>{this.notify({type:"removed",mutation:t})}),C(this,us).clear(),C(this,Ut).clear()})}getAll(){return Array.from(C(this,us))}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Mm(r,n))}findAll(t={}){return this.getAll().filter(r=>Mm(t,r))}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}resumePausedMutations(){const t=this.getAll().filter(r=>r.state.isPaused);return Oe.batch(()=>Promise.all(t.map(r=>r.continue().catch(tt))))}},us=new WeakMap,Ut=new WeakMap,Qa=new WeakMap,gh);function kl(e){var t;return(t=e.options.scope)==null?void 0:t.id}var ms,Bs,it,hs,gs,Ll,Uc,yh,av=(yh=class extends Bn{constructor(r,n){super();K(this,gs);K(this,ms);K(this,Bs);K(this,it);K(this,hs);B(this,ms,r),this.setOptions(n),this.bindMethods(),X(this,gs,Ll).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(r){var a;const n=this.options;this.options=C(this,ms).defaultMutationOptions(r),pi(this.options,n)||C(this,ms).getMutationCache().notify({type:"observerOptionsUpdated",mutation:C(this,it),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&Ur(n.mutationKey)!==Ur(this.options.mutationKey)?this.reset():((a=C(this,it))==null?void 0:a.state.status)==="pending"&&C(this,it).setOptions(this.options)}onUnsubscribe(){var r;this.hasListeners()||(r=C(this,it))==null||r.removeObserver(this)}onMutationUpdate(r){X(this,gs,Ll).call(this),X(this,gs,Uc).call(this,r)}getCurrentResult(){return C(this,Bs)}reset(){var r;(r=C(this,it))==null||r.removeObserver(this),B(this,it,void 0),X(this,gs,Ll).call(this),X(this,gs,Uc).call(this)}mutate(r,n){var a;return B(this,hs,n),(a=C(this,it))==null||a.removeObserver(this),B(this,it,C(this,ms).getMutationCache().build(C(this,ms),this.options)),C(this,it).addObserver(this),C(this,it).execute(r)}},ms=new WeakMap,Bs=new WeakMap,it=new WeakMap,hs=new WeakMap,gs=new WeakSet,Ll=function(){var n;const r=((n=C(this,it))==null?void 0:n.state)??Xx();B(this,Bs,{...r,isPending:r.status==="pending",isSuccess:r.status==="success",isError:r.status==="error",isIdle:r.status==="idle",mutate:this.mutate,reset:this.reset})},Uc=function(r){Oe.batch(()=>{var n,a,l,i,o,c,d,u;if(C(this,hs)&&this.hasListeners()){const h=C(this,Bs).variables,x=C(this,Bs).context,v={client:C(this,ms),meta:this.options.meta,mutationKey:this.options.mutationKey};if((r==null?void 0:r.type)==="success"){try{(a=(n=C(this,hs)).onSuccess)==null||a.call(n,r.data,h,x,v)}catch(m){Promise.reject(m)}try{(i=(l=C(this,hs)).onSettled)==null||i.call(l,r.data,null,h,x,v)}catch(m){Promise.reject(m)}}else if((r==null?void 0:r.type)==="error"){try{(c=(o=C(this,hs)).onError)==null||c.call(o,r.error,h,x,v)}catch(m){Promise.reject(m)}try{(u=(d=C(this,hs)).onSettled)==null||u.call(d,void 0,r.error,h,x,v)}catch(m){Promise.reject(m)}}}this.listeners.forEach(h=>{h(C(this,Bs))})})},yh),es,bh,lv=(bh=class extends Bn{constructor(t={}){super();K(this,es);this.config=t,B(this,es,new Map)}build(t,r,n){const a=r.queryKey,l=r.queryHash??Yd(a,r);let i=this.get(l);return i||(i=new Xb({client:t,queryKey:a,queryHash:l,options:t.defaultQueryOptions(r),state:n,defaultOptions:t.getQueryDefaults(a)}),this.add(i)),i}add(t){C(this,es).has(t.queryHash)||(C(this,es).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const r=C(this,es).get(t.queryHash);r&&(t.destroy(),r===t&&C(this,es).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Oe.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return C(this,es).get(t)}getAll(){return[...C(this,es).values()]}find(t){const r={exact:!0,...t};return this.getAll().find(n=>Fm(r,n))}findAll(t={}){const r=this.getAll();return Object.keys(t).length>0?r.filter(n=>Fm(t,n)):r}notify(t){Oe.batch(()=>{this.listeners.forEach(r=>{r(t)})})}onFocus(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Oe.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},es=new WeakMap,bh),je,zs,qs,kn,Nn,Hs,wn,Sn,vh,iv=(vh=class{constructor(e={}){K(this,je);K(this,zs);K(this,qs);K(this,kn);K(this,Nn);K(this,Hs);K(this,wn);K(this,Sn);B(this,je,e.queryCache||new lv),B(this,zs,e.mutationCache||new nv),B(this,qs,e.defaultOptions||{}),B(this,kn,new Map),B(this,Nn,new Map),B(this,Hs,0)}mount(){nl(this,Hs)._++,C(this,Hs)===1&&(B(this,wn,eu.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,je).onFocus())})),B(this,Sn,xi.subscribe(async e=>{e&&(await this.resumePausedMutations(),C(this,je).onOnline())})))}unmount(){var e,t;nl(this,Hs)._--,C(this,Hs)===0&&((e=C(this,wn))==null||e.call(this),B(this,wn,void 0),(t=C(this,Sn))==null||t.call(this),B(this,Sn,void 0))}isFetching(e){return C(this,je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return C(this,zs).findAll({...e,status:"pending"}).length}getQueryData(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,je).get(t.queryHash))==null?void 0:r.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),r=C(this,je).build(this,t),n=r.state.data;return n===void 0?this.fetchQuery(e):(e.revalidateIfStale&&r.isStaleByTime(rr(t.staleTime,r))&&this.prefetchQuery(t),Promise.resolve(n))}getQueriesData(e){return C(this,je).findAll(e).map(({queryKey:t,state:r})=>{const n=r.data;return[t,n]})}setQueryData(e,t,r){const n=this.defaultQueryOptions({queryKey:e}),a=C(this,je).get(n.queryHash),l=a==null?void 0:a.state.data,i=Bb(t,l);if(i!==void 0)return C(this,je).build(this,n).setData(i,{...r,manual:!0})}setQueriesData(e,t,r){return Oe.batch(()=>C(this,je).findAll(e).map(({queryKey:n})=>[n,this.setQueryData(n,t,r)]))}getQueryState(e){var r;const t=this.defaultQueryOptions({queryKey:e});return(r=C(this,je).get(t.queryHash))==null?void 0:r.state}removeQueries(e){const t=C(this,je);Oe.batch(()=>{t.findAll(e).forEach(r=>{t.remove(r)})})}resetQueries(e,t){const r=C(this,je);return Oe.batch(()=>(r.findAll(e).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const r={revert:!0,...t},n=Oe.batch(()=>C(this,je).findAll(e).map(a=>a.cancel(r)));return Promise.all(n).then(tt).catch(tt)}invalidateQueries(e,t={}){return Oe.batch(()=>(C(this,je).findAll(e).forEach(r=>{r.invalidate()}),(e==null?void 0:e.refetchType)==="none"?Promise.resolve():this.refetchQueries({...e,type:(e==null?void 0:e.refetchType)??(e==null?void 0:e.type)??"active"},t)))}refetchQueries(e,t={}){const r={...t,cancelRefetch:t.cancelRefetch??!0},n=Oe.batch(()=>C(this,je).findAll(e).filter(a=>!a.isDisabled()&&!a.isStatic()).map(a=>{let l=a.fetch(void 0,r);return r.throwOnError||(l=l.catch(tt)),a.state.fetchStatus==="paused"?Promise.resolve():l}));return Promise.all(n).then(tt)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const r=C(this,je).build(this,t);return r.isStaleByTime(rr(t.staleTime,r))?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(tt).catch(tt)}fetchInfiniteQuery(e){return e.behavior=Bm(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(tt).catch(tt)}ensureInfiniteQueryData(e){return e.behavior=Bm(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return xi.isOnline()?C(this,zs).resumePausedMutations():Promise.resolve()}getQueryCache(){return C(this,je)}getMutationCache(){return C(this,zs)}getDefaultOptions(){return C(this,qs)}setDefaultOptions(e){B(this,qs,e)}setQueryDefaults(e,t){C(this,kn).set(Ur(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...C(this,kn).values()],r={};return t.forEach(n=>{Ia(e,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(e,t){C(this,Nn).set(Ur(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...C(this,Nn).values()],r={};return t.forEach(n=>{Ia(e,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(e){if(e._defaulted)return e;const t={...C(this,qs).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Yd(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===Xd&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...C(this,qs).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){C(this,je).clear(),C(this,zs).clear()}},je=new WeakMap,zs=new WeakMap,qs=new WeakMap,kn=new WeakMap,Nn=new WeakMap,Hs=new WeakMap,wn=new WeakMap,Sn=new WeakMap,vh),Zx=N.createContext(void 0),ce=e=>{const t=N.useContext(Zx);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},ov=({client:e,children:t})=>(N.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Zx.Provider,{value:e,children:t})),ef=N.createContext(!1),cv=()=>N.useContext(ef);ef.Provider;function dv(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var uv=N.createContext(dv()),mv=()=>N.useContext(uv),hv=(e,t,r)=>{const n=r!=null&&r.state.error&&typeof e.throwOnError=="function"?Zd(e.throwOnError,[r.state.error,r]):e.throwOnError;(e.suspense||e.experimental_prefetchInRender||n)&&(t.isReset()||(e.retryOnMount=!1))},pv=e=>{N.useEffect(()=>{e.clearReset()},[e])},xv=({result:e,errorResetBoundary:t,throwOnError:r,query:n,suspense:a})=>e.isError&&!t.isReset()&&!e.isFetching&&n&&(a&&e.data===void 0||Zd(r,[e.error,n])),fv=e=>{if(e.suspense){const r=a=>a==="static"?a:Math.max(a??1e3,1e3),n=e.staleTime;e.staleTime=typeof n=="function"?(...a)=>r(n(...a)):r(n),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3))}},gv=(e,t)=>e.isLoading&&e.isFetching&&!t,yv=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,qm=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function bv(e,t,r){var x,v,m,p;const n=cv(),a=mv(),l=ce(),i=l.defaultQueryOptions(e);(v=(x=l.getDefaultOptions().queries)==null?void 0:x._experimental_beforeQuery)==null||v.call(x,i);const o=l.getQueryCache().get(i.queryHash);i._optimisticResults=n?"isRestoring":"optimistic",fv(i),hv(i,a,o),pv(a);const c=!l.getQueryCache().get(i.queryHash),[d]=N.useState(()=>new t(l,i)),u=d.getOptimisticResult(i),h=!n&&e.subscribed!==!1;if(N.useSyncExternalStore(N.useCallback(g=>{const y=h?d.subscribe(Oe.batchCalls(g)):tt;return d.updateResult(),y},[d,h]),()=>d.getCurrentResult(),()=>d.getCurrentResult()),N.useEffect(()=>{d.setOptions(i)},[i,d]),yv(i,u))throw qm(i,d,a);if(xv({result:u,errorResetBoundary:a,throwOnError:i.throwOnError,query:o,suspense:i.suspense}))throw u.error;if((p=(m=l.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||p.call(m,i,u),i.experimental_prefetchInRender&&!Ir&&gv(u,n)){const g=c?qm(i,d,a):o==null?void 0:o.promise;g==null||g.catch(tt).finally(()=>{d.updateResult()})}return i.notifyOnChangeProps?u:d.trackResult(u)}function W(e,t){return bv(e,Zb)}function H(e,t){const r=ce(),[n]=N.useState(()=>new av(r,e));N.useEffect(()=>{n.setOptions(e)},[n,e]);const a=N.useSyncExternalStore(N.useCallback(i=>n.subscribe(Oe.batchCalls(i)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),l=N.useCallback((i,o)=>{n.mutate(i,o).catch(tt)},[n]);if(a.error&&Zd(n.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:l,mutateAsync:a.mutate}}let vv={data:""},jv=e=>{if(typeof window=="object"){let t=(e?e.querySelector("#_goober"):window._goober)||Object.assign(document.createElement("style"),{innerHTML:" ",id:"_goober"});return t.nonce=window.__nonce__,t.parentNode||(e||document.head).appendChild(t),t.firstChild}return e||vv},kv=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,Nv=/\/\*[^]*?\*\/|  +/g,Hm=/\n+/g,Os=(e,t)=>{let r="",n="",a="";for(let l in e){let i=e[l];l[0]=="@"?l[1]=="i"?r=l+" "+i+";":n+=l[1]=="f"?Os(i,l):l+"{"+Os(i,l[1]=="k"?"":t)+"}":typeof i=="object"?n+=Os(i,t?t.replace(/([^,])+/g,o=>l.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,c=>/&/.test(c)?c.replace(/&/g,o):o?o+" "+c:c)):l):i!=null&&(l=/^--/.test(l)?l:l.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=Os.p?Os.p(l,i):l+":"+i+";")}return r+(t&&a?t+"{"+a+"}":a)+n},ls={},tf=e=>{if(typeof e=="object"){let t="";for(let r in e)t+=r+tf(e[r]);return t}return e},wv=(e,t,r,n,a)=>{let l=tf(e),i=ls[l]||(ls[l]=(c=>{let d=0,u=11;for(;d<c.length;)u=101*u+c.charCodeAt(d++)>>>0;return"go"+u})(l));if(!ls[i]){let c=l!==e?e:(d=>{let u,h,x=[{}];for(;u=kv.exec(d.replace(Nv,""));)u[4]?x.shift():u[3]?(h=u[3].replace(Hm," ").trim(),x.unshift(x[0][h]=x[0][h]||{})):x[0][u[1]]=u[2].replace(Hm," ").trim();return x[0]})(e);ls[i]=Os(a?{["@keyframes "+i]:c}:c,r?"":"."+i)}let o=r&&ls.g?ls.g:null;return r&&(ls.g=ls[i]),((c,d,u,h)=>{h?d.data=d.data.replace(h,c):d.data.indexOf(c)===-1&&(d.data=u?c+d.data:d.data+c)})(ls[i],t,n,o),i},Sv=(e,t,r)=>e.reduce((n,a,l)=>{let i=t[l];if(i&&i.call){let o=i(r),c=o&&o.props&&o.props.className||/^go/.test(o)&&o;i=c?"."+c:o&&typeof o=="object"?o.props?"":Os(o,""):o===!1?"":o}return n+a+(i??"")},"");function $i(e){let t=this||{},r=e.call?e(t.p):e;return wv(r.unshift?r.raw?Sv(r,[].slice.call(arguments,1),t.p):r.reduce((n,a)=>Object.assign(n,a&&a.call?a(t.p):a),{}):r,jv(t.target),t.g,t.o,t.k)}let sf,$c,Bc;$i.bind({g:1});let ks=$i.bind({k:1});function Cv(e,t,r,n){Os.p=t,sf=e,$c=r,Bc=n}function mr(e,t){let r=this||{};return function(){let n=arguments;function a(l,i){let o=Object.assign({},l),c=o.className||a.className;r.p=Object.assign({theme:$c&&$c()},o),r.o=/ *go\d+/.test(c),o.className=$i.apply(r,n)+(c?" "+c:"");let d=e;return e[0]&&(d=o.as||e,delete o.as),Bc&&d[0]&&Bc(o),sf(d,o)}return a}}var Ev=e=>typeof e=="function",fi=(e,t)=>Ev(e)?e(t):e,Pv=(()=>{let e=0;return()=>(++e).toString()})(),rf=(()=>{let e;return()=>{if(e===void 0&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Dv=20,su="default",nf=(e,t)=>{let{toastLimit:r}=e.settings;switch(t.type){case 0:return{...e,toasts:[t.toast,...e.toasts].slice(0,r)};case 1:return{...e,toasts:e.toasts.map(i=>i.id===t.toast.id?{...i,...t.toast}:i)};case 2:let{toast:n}=t;return nf(e,{type:e.toasts.find(i=>i.id===n.id)?1:0,toast:n});case 3:let{toastId:a}=t;return{...e,toasts:e.toasts.map(i=>i.id===a||a===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(i=>i.id!==t.toastId)};case 5:return{...e,pausedAt:t.time};case 6:let l=t.time-(e.pausedAt||0);return{...e,pausedAt:void 0,toasts:e.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+l}))}}},Il=[],af={toasts:[],pausedAt:void 0,settings:{toastLimit:Dv}},ss={},lf=(e,t=su)=>{ss[t]=nf(ss[t]||af,e),Il.forEach(([r,n])=>{r===t&&n(ss[t])})},of=e=>Object.keys(ss).forEach(t=>lf(e,t)),Tv=e=>Object.keys(ss).find(t=>ss[t].toasts.some(r=>r.id===e)),Bi=(e=su)=>t=>{lf(t,e)},Rv={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Av=(e={},t=su)=>{let[r,n]=N.useState(ss[t]||af),a=N.useRef(ss[t]);N.useEffect(()=>(a.current!==ss[t]&&n(ss[t]),Il.push([t,n]),()=>{let i=Il.findIndex(([o])=>o===t);i>-1&&Il.splice(i,1)}),[t]);let l=r.toasts.map(i=>{var o,c,d;return{...e,...e[i.type],...i,removeDelay:i.removeDelay||((o=e[i.type])==null?void 0:o.removeDelay)||(e==null?void 0:e.removeDelay),duration:i.duration||((c=e[i.type])==null?void 0:c.duration)||(e==null?void 0:e.duration)||Rv[i.type],style:{...e.style,...(d=e[i.type])==null?void 0:d.style,...i.style}}});return{...r,toasts:l}},Fv=(e,t="blank",r)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0,...r,id:(r==null?void 0:r.id)||Pv()}),Ya=e=>(t,r)=>{let n=Fv(t,e,r);return Bi(n.toasterId||Tv(n.id))({type:2,toast:n}),n.id},_e=(e,t)=>Ya("blank")(e,t);_e.error=Ya("error");_e.success=Ya("success");_e.loading=Ya("loading");_e.custom=Ya("custom");_e.dismiss=(e,t)=>{let r={type:3,toastId:e};t?Bi(t)(r):of(r)};_e.dismissAll=e=>_e.dismiss(void 0,e);_e.remove=(e,t)=>{let r={type:4,toastId:e};t?Bi(t)(r):of(r)};_e.removeAll=e=>_e.remove(void 0,e);_e.promise=(e,t,r)=>{let n=_e.loading(t.loading,{...r,...r==null?void 0:r.loading});return typeof e=="function"&&(e=e()),e.then(a=>{let l=t.success?fi(t.success,a):void 0;return l?_e.success(l,{id:n,...r,...r==null?void 0:r.success}):_e.dismiss(n),a}).catch(a=>{let l=t.error?fi(t.error,a):void 0;l?_e.error(l,{id:n,...r,...r==null?void 0:r.error}):_e.dismiss(n)}),e};var Mv=1e3,Ov=(e,t="default")=>{let{toasts:r,pausedAt:n}=Av(e,t),a=N.useRef(new Map).current,l=N.useCallback((h,x=Mv)=>{if(a.has(h))return;let v=setTimeout(()=>{a.delete(h),i({type:4,toastId:h})},x);a.set(h,v)},[]);N.useEffect(()=>{if(n)return;let h=Date.now(),x=r.map(v=>{if(v.duration===1/0)return;let m=(v.duration||0)+v.pauseDuration-(h-v.createdAt);if(m<0){v.visible&&_e.dismiss(v.id);return}return setTimeout(()=>_e.dismiss(v.id,t),m)});return()=>{x.forEach(v=>v&&clearTimeout(v))}},[r,n,t]);let i=N.useCallback(Bi(t),[t]),o=N.useCallback(()=>{i({type:5,time:Date.now()})},[i]),c=N.useCallback((h,x)=>{i({type:1,toast:{id:h,height:x}})},[i]),d=N.useCallback(()=>{n&&i({type:6,time:Date.now()})},[n,i]),u=N.useCallback((h,x)=>{let{reverseOrder:v=!1,gutter:m=8,defaultPosition:p}=x||{},g=r.filter(j=>(j.position||p)===(h.position||p)&&j.height),y=g.findIndex(j=>j.id===h.id),f=g.filter((j,b)=>b<y&&j.visible).length;return g.filter(j=>j.visible).slice(...v?[f+1]:[0,f]).reduce((j,b)=>j+(b.height||0)+m,0)},[r]);return N.useEffect(()=>{r.forEach(h=>{if(h.dismissed)l(h.id,h.removeDelay);else{let x=a.get(h.id);x&&(clearTimeout(x),a.delete(h.id))}})},[r,l]),{toasts:r,handlers:{updateHeight:c,startPause:o,endPause:d,calculateOffset:u}}},_v=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Lv=ks`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Iv=ks`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Uv=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${_v} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Lv} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${e=>e.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${Iv} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,$v=ks`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Bv=mr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${e=>e.secondary||"#e0e0e0"};
  border-right-color: ${e=>e.primary||"#616161"};
  animation: ${$v} 1s linear infinite;
`,zv=ks`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,qv=ks`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Hv=mr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${e=>e.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${zv} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${qv} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${e=>e.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Qv=mr("div")`
  position: absolute;
`,Kv=mr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Vv=ks`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Wv=mr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Vv} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Gv=({toast:e})=>{let{icon:t,type:r,iconTheme:n}=e;return t!==void 0?typeof t=="string"?N.createElement(Wv,null,t):t:r==="blank"?null:N.createElement(Kv,null,N.createElement(Bv,{...n}),r!=="loading"&&N.createElement(Qv,null,r==="error"?N.createElement(Uv,{...n}):N.createElement(Hv,{...n})))},Jv=e=>`
0% {transform: translate3d(0,${e*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,Yv=e=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${e*-150}%,-1px) scale(.6); opacity:0;}
`,Xv="0%{opacity:0;} 100%{opacity:1;}",Zv="0%{opacity:1;} 100%{opacity:0;}",ej=mr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,tj=mr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,sj=(e,t)=>{let r=e.includes("top")?1:-1,[n,a]=rf()?[Xv,Zv]:[Jv(r),Yv(r)];return{animation:t?`${ks(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${ks(a)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},rj=N.memo(({toast:e,position:t,style:r,children:n})=>{let a=e.height?sj(e.position||t||"top-center",e.visible):{opacity:0},l=N.createElement(Gv,{toast:e}),i=N.createElement(tj,{...e.ariaProps},fi(e.message,e));return N.createElement(ej,{className:e.className,style:{...a,...r,...e.style}},typeof n=="function"?n({icon:l,message:i}):N.createElement(N.Fragment,null,l,i))});Cv(N.createElement);var nj=({id:e,className:t,style:r,onHeightUpdate:n,children:a})=>{let l=N.useCallback(i=>{if(i){let o=()=>{let c=i.getBoundingClientRect().height;n(e,c)};o(),new MutationObserver(o).observe(i,{subtree:!0,childList:!0,characterData:!0})}},[e,n]);return N.createElement("div",{ref:l,className:t,style:r},a)},aj=(e,t)=>{let r=e.includes("top"),n=r?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:rf()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${t*(r?1:-1)}px)`,...n,...a}},lj=$i`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Nl=16,ij=({reverseOrder:e,position:t="top-center",toastOptions:r,gutter:n,children:a,toasterId:l,containerStyle:i,containerClassName:o})=>{let{toasts:c,handlers:d}=Ov(r,l);return N.createElement("div",{"data-rht-toaster":l||"",style:{position:"fixed",zIndex:9999,top:Nl,left:Nl,right:Nl,bottom:Nl,pointerEvents:"none",...i},className:o,onMouseEnter:d.startPause,onMouseLeave:d.endPause},c.map(u=>{let h=u.position||t,x=d.calculateOffset(u,{reverseOrder:e,gutter:n,defaultPosition:t}),v=aj(h,x);return N.createElement(nj,{id:u.id,key:u.id,onHeightUpdate:d.updateHeight,className:u.visible?lj:"",style:v},u.type==="custom"?fi(u.message,u):a?a(u):N.createElement(rj,{toast:u,position:h}))}))},$=_e;function cf(e,t){return function(){return e.apply(t,arguments)}}const{toString:oj}=Object.prototype,{getPrototypeOf:ru}=Object,{iterator:zi,toStringTag:df}=Symbol,qi=(e=>t=>{const r=oj.call(t);return e[r]||(e[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Qt=e=>(e=e.toLowerCase(),t=>qi(t)===e),Hi=e=>t=>typeof t===e,{isArray:zn}=Array,Fn=Hi("undefined");function Xa(e){return e!==null&&!Fn(e)&&e.constructor!==null&&!Fn(e.constructor)&&pt(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const uf=Qt("ArrayBuffer");function cj(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&uf(e.buffer),t}const dj=Hi("string"),pt=Hi("function"),mf=Hi("number"),Za=e=>e!==null&&typeof e=="object",uj=e=>e===!0||e===!1,Ul=e=>{if(qi(e)!=="object")return!1;const t=ru(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(df in e)&&!(zi in e)},mj=e=>{if(!Za(e)||Xa(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},hj=Qt("Date"),pj=Qt("File"),xj=Qt("Blob"),fj=Qt("FileList"),gj=e=>Za(e)&&pt(e.pipe),yj=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||pt(e.append)&&((t=qi(e))==="formdata"||t==="object"&&pt(e.toString)&&e.toString()==="[object FormData]"))},bj=Qt("URLSearchParams"),[vj,jj,kj,Nj]=["ReadableStream","Request","Response","Headers"].map(Qt),wj=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function el(e,t,{allOwnKeys:r=!1}={}){if(e===null||typeof e>"u")return;let n,a;if(typeof e!="object"&&(e=[e]),zn(e))for(n=0,a=e.length;n<a;n++)t.call(null,e[n],n,e);else{if(Xa(e))return;const l=r?Object.getOwnPropertyNames(e):Object.keys(e),i=l.length;let o;for(n=0;n<i;n++)o=l[n],t.call(null,e[o],o,e)}}function hf(e,t){if(Xa(e))return null;t=t.toLowerCase();const r=Object.keys(e);let n=r.length,a;for(;n-- >0;)if(a=r[n],t===a.toLowerCase())return a;return null}const br=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,pf=e=>!Fn(e)&&e!==br;function zc(){const{caseless:e,skipUndefined:t}=pf(this)&&this||{},r={},n=(a,l)=>{const i=e&&hf(r,l)||l;Ul(r[i])&&Ul(a)?r[i]=zc(r[i],a):Ul(a)?r[i]=zc({},a):zn(a)?r[i]=a.slice():(!t||!Fn(a))&&(r[i]=a)};for(let a=0,l=arguments.length;a<l;a++)arguments[a]&&el(arguments[a],n);return r}const Sj=(e,t,r,{allOwnKeys:n}={})=>(el(t,(a,l)=>{r&&pt(a)?e[l]=cf(a,r):e[l]=a},{allOwnKeys:n}),e),Cj=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),Ej=(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},Pj=(e,t,r,n)=>{let a,l,i;const o={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),l=a.length;l-- >0;)i=a[l],(!n||n(i,e,t))&&!o[i]&&(t[i]=e[i],o[i]=!0);e=r!==!1&&ru(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},Dj=(e,t,r)=>{e=String(e),(r===void 0||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return n!==-1&&n===r},Tj=e=>{if(!e)return null;if(zn(e))return e;let t=e.length;if(!mf(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},Rj=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&ru(Uint8Array)),Aj=(e,t)=>{const n=(e&&e[zi]).call(e);let a;for(;(a=n.next())&&!a.done;){const l=a.value;t.call(e,l[0],l[1])}},Fj=(e,t)=>{let r;const n=[];for(;(r=e.exec(t))!==null;)n.push(r);return n},Mj=Qt("HTMLFormElement"),Oj=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),Qm=(({hasOwnProperty:e})=>(t,r)=>e.call(t,r))(Object.prototype),_j=Qt("RegExp"),xf=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};el(r,(a,l)=>{let i;(i=t(a,l,e))!==!1&&(n[l]=i||a)}),Object.defineProperties(e,n)},Lj=e=>{xf(e,(t,r)=>{if(pt(e)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=e[r];if(pt(n)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ij=(e,t)=>{const r={},n=a=>{a.forEach(l=>{r[l]=!0})};return zn(e)?n(e):n(String(e).split(t)),r},Uj=()=>{},$j=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function Bj(e){return!!(e&&pt(e.append)&&e[df]==="FormData"&&e[zi])}const zj=e=>{const t=new Array(10),r=(n,a)=>{if(Za(n)){if(t.indexOf(n)>=0)return;if(Xa(n))return n;if(!("toJSON"in n)){t[a]=n;const l=zn(n)?[]:{};return el(n,(i,o)=>{const c=r(i,a+1);!Fn(c)&&(l[o]=c)}),t[a]=void 0,l}}return n};return r(e,0)},qj=Qt("AsyncFunction"),Hj=e=>e&&(Za(e)||pt(e))&&pt(e.then)&&pt(e.catch),ff=((e,t)=>e?setImmediate:t?((r,n)=>(br.addEventListener("message",({source:a,data:l})=>{a===br&&l===r&&n.length&&n.shift()()},!1),a=>{n.push(a),br.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",pt(br.postMessage)),Qj=typeof queueMicrotask<"u"?queueMicrotask.bind(br):typeof process<"u"&&process.nextTick||ff,Kj=e=>e!=null&&pt(e[zi]),T={isArray:zn,isArrayBuffer:uf,isBuffer:Xa,isFormData:yj,isArrayBufferView:cj,isString:dj,isNumber:mf,isBoolean:uj,isObject:Za,isPlainObject:Ul,isEmptyObject:mj,isReadableStream:vj,isRequest:jj,isResponse:kj,isHeaders:Nj,isUndefined:Fn,isDate:hj,isFile:pj,isBlob:xj,isRegExp:_j,isFunction:pt,isStream:gj,isURLSearchParams:bj,isTypedArray:Rj,isFileList:fj,forEach:el,merge:zc,extend:Sj,trim:wj,stripBOM:Cj,inherits:Ej,toFlatObject:Pj,kindOf:qi,kindOfTest:Qt,endsWith:Dj,toArray:Tj,forEachEntry:Aj,matchAll:Fj,isHTMLForm:Mj,hasOwnProperty:Qm,hasOwnProp:Qm,reduceDescriptors:xf,freezeMethods:Lj,toObjectSet:Ij,toCamelCase:Oj,noop:Uj,toFiniteNumber:$j,findKey:hf,global:br,isContextDefined:pf,isSpecCompliantForm:Bj,toJSONObject:zj,isAsyncFn:qj,isThenable:Hj,setImmediate:ff,asap:Qj,isIterable:Kj};function Y(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}T.inherits(Y,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:T.toJSONObject(this.config),code:this.code,status:this.status}}});const gf=Y.prototype,yf={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{yf[e]={value:e}});Object.defineProperties(Y,yf);Object.defineProperty(gf,"isAxiosError",{value:!0});Y.from=(e,t,r,n,a,l)=>{const i=Object.create(gf);T.toFlatObject(e,i,function(u){return u!==Error.prototype},d=>d!=="isAxiosError");const o=e&&e.message?e.message:"Error",c=t==null&&e?e.code:t;return Y.call(i,o,c,r,n,a),e&&i.cause==null&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",l&&Object.assign(i,l),i};const Vj=null;function qc(e){return T.isPlainObject(e)||T.isArray(e)}function bf(e){return T.endsWith(e,"[]")?e.slice(0,-2):e}function Km(e,t,r){return e?e.concat(t).map(function(a,l){return a=bf(a),!r&&l?"["+a+"]":a}).join(r?".":""):t}function Wj(e){return T.isArray(e)&&!e.some(qc)}const Gj=T.toFlatObject(T,{},null,function(t){return/^is[A-Z]/.test(t)});function Qi(e,t,r){if(!T.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,r=T.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(p,g){return!T.isUndefined(g[p])});const n=r.metaTokens,a=r.visitor||u,l=r.dots,i=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&T.isSpecCompliantForm(t);if(!T.isFunction(a))throw new TypeError("visitor must be a function");function d(m){if(m===null)return"";if(T.isDate(m))return m.toISOString();if(T.isBoolean(m))return m.toString();if(!c&&T.isBlob(m))throw new Y("Blob is not supported. Use a Buffer instead.");return T.isArrayBuffer(m)||T.isTypedArray(m)?c&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,p,g){let y=m;if(m&&!g&&typeof m=="object"){if(T.endsWith(p,"{}"))p=n?p:p.slice(0,-2),m=JSON.stringify(m);else if(T.isArray(m)&&Wj(m)||(T.isFileList(m)||T.endsWith(p,"[]"))&&(y=T.toArray(m)))return p=bf(p),y.forEach(function(j,b){!(T.isUndefined(j)||j===null)&&t.append(i===!0?Km([p],b,l):i===null?p:p+"[]",d(j))}),!1}return qc(m)?!0:(t.append(Km(g,p,l),d(m)),!1)}const h=[],x=Object.assign(Gj,{defaultVisitor:u,convertValue:d,isVisitable:qc});function v(m,p){if(!T.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+p.join("."));h.push(m),T.forEach(m,function(y,f){(!(T.isUndefined(y)||y===null)&&a.call(t,y,T.isString(f)?f.trim():f,p,x))===!0&&v(y,p?p.concat(f):[f])}),h.pop()}}if(!T.isObject(e))throw new TypeError("data must be an object");return v(e),t}function Vm(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(n){return t[n]})}function nu(e,t){this._pairs=[],e&&Qi(e,this,t)}const vf=nu.prototype;vf.append=function(t,r){this._pairs.push([t,r])};vf.toString=function(t){const r=t?function(n){return t.call(this,n,Vm)}:Vm;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function Jj(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jf(e,t,r){if(!t)return e;const n=r&&r.encode||Jj;T.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let l;if(a?l=a(t,r):l=T.isURLSearchParams(t)?t.toString():new nu(t,r).toString(n),l){const i=e.indexOf("#");i!==-1&&(e=e.slice(0,i)),e+=(e.indexOf("?")===-1?"?":"&")+l}return e}class Wm{constructor(){this.handlers=[]}use(t,r,n){return this.handlers.push({fulfilled:t,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){T.forEach(this.handlers,function(n){n!==null&&t(n)})}}const kf={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Yj=typeof URLSearchParams<"u"?URLSearchParams:nu,Xj=typeof FormData<"u"?FormData:null,Zj=typeof Blob<"u"?Blob:null,ek={isBrowser:!0,classes:{URLSearchParams:Yj,FormData:Xj,Blob:Zj},protocols:["http","https","file","blob","url","data"]},au=typeof window<"u"&&typeof document<"u",Hc=typeof navigator=="object"&&navigator||void 0,tk=au&&(!Hc||["ReactNative","NativeScript","NS"].indexOf(Hc.product)<0),sk=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rk=au&&window.location.href||"http://localhost",nk=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:au,hasStandardBrowserEnv:tk,hasStandardBrowserWebWorkerEnv:sk,navigator:Hc,origin:rk},Symbol.toStringTag,{value:"Module"})),We={...nk,...ek};function ak(e,t){return Qi(e,new We.classes.URLSearchParams,{visitor:function(r,n,a,l){return We.isNode&&T.isBuffer(r)?(this.append(n,r.toString("base64")),!1):l.defaultVisitor.apply(this,arguments)},...t})}function lk(e){return T.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function ik(e){const t={},r=Object.keys(e);let n;const a=r.length;let l;for(n=0;n<a;n++)l=r[n],t[l]=e[l];return t}function Nf(e){function t(r,n,a,l){let i=r[l++];if(i==="__proto__")return!0;const o=Number.isFinite(+i),c=l>=r.length;return i=!i&&T.isArray(a)?a.length:i,c?(T.hasOwnProp(a,i)?a[i]=[a[i],n]:a[i]=n,!o):((!a[i]||!T.isObject(a[i]))&&(a[i]=[]),t(r,n,a[i],l)&&T.isArray(a[i])&&(a[i]=ik(a[i])),!o)}if(T.isFormData(e)&&T.isFunction(e.entries)){const r={};return T.forEachEntry(e,(n,a)=>{t(lk(n),a,r,0)}),r}return null}function ok(e,t,r){if(T.isString(e))try{return(t||JSON.parse)(e),T.trim(e)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(e)}const tl={transitional:kf,adapter:["xhr","http","fetch"],transformRequest:[function(t,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,l=T.isObject(t);if(l&&T.isHTMLForm(t)&&(t=new FormData(t)),T.isFormData(t))return a?JSON.stringify(Nf(t)):t;if(T.isArrayBuffer(t)||T.isBuffer(t)||T.isStream(t)||T.isFile(t)||T.isBlob(t)||T.isReadableStream(t))return t;if(T.isArrayBufferView(t))return t.buffer;if(T.isURLSearchParams(t))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let o;if(l){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ak(t,this.formSerializer).toString();if((o=T.isFileList(t))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Qi(o?{"files[]":t}:t,c&&new c,this.formSerializer)}}return l||a?(r.setContentType("application/json",!1),ok(t)):t}],transformResponse:[function(t){const r=this.transitional||tl.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(T.isResponse(t)||T.isReadableStream(t))return t;if(t&&T.isString(t)&&(n&&!this.responseType||a)){const i=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(t,this.parseReviver)}catch(o){if(i)throw o.name==="SyntaxError"?Y.from(o,Y.ERR_BAD_RESPONSE,this,null,this.response):o}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:We.classes.FormData,Blob:We.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};T.forEach(["delete","get","head","post","put","patch"],e=>{tl.headers[e]={}});const ck=T.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),dk=e=>{const t={};let r,n,a;return e&&e.split(`
`).forEach(function(i){a=i.indexOf(":"),r=i.substring(0,a).trim().toLowerCase(),n=i.substring(a+1).trim(),!(!r||t[r]&&ck[r])&&(r==="set-cookie"?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)}),t},Gm=Symbol("internals");function ta(e){return e&&String(e).trim().toLowerCase()}function $l(e){return e===!1||e==null?e:T.isArray(e)?e.map($l):String(e)}function uk(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}const mk=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function wo(e,t,r,n,a){if(T.isFunction(n))return n.call(this,t,r);if(a&&(t=r),!!T.isString(t)){if(T.isString(n))return t.indexOf(n)!==-1;if(T.isRegExp(n))return n.test(t)}}function hk(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,r,n)=>r.toUpperCase()+n)}function pk(e,t){const r=T.toCamelCase(" "+t);["get","set","has"].forEach(n=>{Object.defineProperty(e,n+r,{value:function(a,l,i){return this[n].call(this,t,a,l,i)},configurable:!0})})}let xt=class{constructor(t){t&&this.set(t)}set(t,r,n){const a=this;function l(o,c,d){const u=ta(c);if(!u)throw new Error("header name must be a non-empty string");const h=T.findKey(a,u);(!h||a[h]===void 0||d===!0||d===void 0&&a[h]!==!1)&&(a[h||c]=$l(o))}const i=(o,c)=>T.forEach(o,(d,u)=>l(d,u,c));if(T.isPlainObject(t)||t instanceof this.constructor)i(t,r);else if(T.isString(t)&&(t=t.trim())&&!mk(t))i(dk(t),r);else if(T.isObject(t)&&T.isIterable(t)){let o={},c,d;for(const u of t){if(!T.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[d=u[0]]=(c=o[d])?T.isArray(c)?[...c,u[1]]:[c,u[1]]:u[1]}i(o,r)}else t!=null&&l(r,t,n);return this}get(t,r){if(t=ta(t),t){const n=T.findKey(this,t);if(n){const a=this[n];if(!r)return a;if(r===!0)return uk(a);if(T.isFunction(r))return r.call(this,a,n);if(T.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,r){if(t=ta(t),t){const n=T.findKey(this,t);return!!(n&&this[n]!==void 0&&(!r||wo(this,this[n],n,r)))}return!1}delete(t,r){const n=this;let a=!1;function l(i){if(i=ta(i),i){const o=T.findKey(n,i);o&&(!r||wo(n,n[o],o,r))&&(delete n[o],a=!0)}}return T.isArray(t)?t.forEach(l):l(t),a}clear(t){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const l=r[n];(!t||wo(this,this[l],l,t,!0))&&(delete this[l],a=!0)}return a}normalize(t){const r=this,n={};return T.forEach(this,(a,l)=>{const i=T.findKey(n,l);if(i){r[i]=$l(a),delete r[l];return}const o=t?hk(l):String(l).trim();o!==l&&delete r[l],r[o]=$l(a),n[o]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const r=Object.create(null);return T.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=t&&T.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,r])=>t+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...r){const n=new this(t);return r.forEach(a=>n.set(a)),n}static accessor(t){const n=(this[Gm]=this[Gm]={accessors:{}}).accessors,a=this.prototype;function l(i){const o=ta(i);n[o]||(pk(a,i),n[o]=!0)}return T.isArray(t)?t.forEach(l):l(t),this}};xt.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);T.reduceDescriptors(xt.prototype,({value:e},t)=>{let r=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(n){this[r]=n}}});T.freezeMethods(xt);function So(e,t){const r=this||tl,n=t||r,a=xt.from(n.headers);let l=n.data;return T.forEach(e,function(o){l=o.call(r,l,a.normalize(),t?t.status:void 0)}),a.normalize(),l}function wf(e){return!!(e&&e.__CANCEL__)}function qn(e,t,r){Y.call(this,e??"canceled",Y.ERR_CANCELED,t,r),this.name="CanceledError"}T.inherits(qn,Y,{__CANCEL__:!0});function Sf(e,t,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?e(r):t(new Y("Request failed with status code "+r.status,[Y.ERR_BAD_REQUEST,Y.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function xk(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function fk(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a=0,l=0,i;return t=t!==void 0?t:1e3,function(c){const d=Date.now(),u=n[l];i||(i=d),r[a]=c,n[a]=d;let h=l,x=0;for(;h!==a;)x+=r[h++],h=h%e;if(a=(a+1)%e,a===l&&(l=(l+1)%e),d-i<t)return;const v=u&&d-u;return v?Math.round(x*1e3/v):void 0}}function gk(e,t){let r=0,n=1e3/t,a,l;const i=(d,u=Date.now())=>{r=u,a=null,l&&(clearTimeout(l),l=null),e(...d)};return[(...d)=>{const u=Date.now(),h=u-r;h>=n?i(d,u):(a=d,l||(l=setTimeout(()=>{l=null,i(a)},n-h)))},()=>a&&i(a)]}const gi=(e,t,r=3)=>{let n=0;const a=fk(50,250);return gk(l=>{const i=l.loaded,o=l.lengthComputable?l.total:void 0,c=i-n,d=a(c),u=i<=o;n=i;const h={loaded:i,total:o,progress:o?i/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&u?(o-i)/d:void 0,event:l,lengthComputable:o!=null,[t?"download":"upload"]:!0};e(h)},r)},Jm=(e,t)=>{const r=e!=null;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ym=e=>(...t)=>T.asap(()=>e(...t)),yk=We.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,We.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(We.origin),We.navigator&&/(msie|trident)/i.test(We.navigator.userAgent)):()=>!0,bk=We.hasStandardBrowserEnv?{write(e,t,r,n,a,l,i){if(typeof document>"u")return;const o=[`${e}=${encodeURIComponent(t)}`];T.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),T.isString(n)&&o.push(`path=${n}`),T.isString(a)&&o.push(`domain=${a}`),l===!0&&o.push("secure"),T.isString(i)&&o.push(`SameSite=${i}`),document.cookie=o.join("; ")},read(e){if(typeof document>"u")return null;const t=document.cookie.match(new RegExp("(?:^|; )"+e+"=([^;]*)"));return t?decodeURIComponent(t[1]):null},remove(e){this.write(e,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function vk(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function jk(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Cf(e,t,r){let n=!vk(t);return e&&(n||r==!1)?jk(e,t):t}const Xm=e=>e instanceof xt?{...e}:e;function $r(e,t){t=t||{};const r={};function n(d,u,h,x){return T.isPlainObject(d)&&T.isPlainObject(u)?T.merge.call({caseless:x},d,u):T.isPlainObject(u)?T.merge({},u):T.isArray(u)?u.slice():u}function a(d,u,h,x){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d,h,x)}else return n(d,u,h,x)}function l(d,u){if(!T.isUndefined(u))return n(void 0,u)}function i(d,u){if(T.isUndefined(u)){if(!T.isUndefined(d))return n(void 0,d)}else return n(void 0,u)}function o(d,u,h){if(h in t)return n(d,u);if(h in e)return n(void 0,d)}const c={url:l,method:l,data:l,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(d,u,h)=>a(Xm(d),Xm(u),h,!0)};return T.forEach(Object.keys({...e,...t}),function(u){const h=c[u]||a,x=h(e[u],t[u],u);T.isUndefined(x)&&h!==o||(r[u]=x)}),r}const Ef=e=>{const t=$r({},e);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:l,headers:i,auth:o}=t;if(t.headers=i=xt.from(i),t.url=jf(Cf(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),T.isFormData(r)){if(We.hasStandardBrowserEnv||We.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(T.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([u,h])=>{d.includes(u.toLowerCase())&&i.set(u,h)})}}if(We.hasStandardBrowserEnv&&(n&&T.isFunction(n)&&(n=n(t)),n||n!==!1&&yk(t.url))){const c=a&&l&&bk.read(l);c&&i.set(a,c)}return t},kk=typeof XMLHttpRequest<"u",Nk=kk&&function(e){return new Promise(function(r,n){const a=Ef(e);let l=a.data;const i=xt.from(a.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=a,u,h,x,v,m;function p(){v&&v(),m&&m(),a.cancelToken&&a.cancelToken.unsubscribe(u),a.signal&&a.signal.removeEventListener("abort",u)}let g=new XMLHttpRequest;g.open(a.method.toUpperCase(),a.url,!0),g.timeout=a.timeout;function y(){if(!g)return;const j=xt.from("getAllResponseHeaders"in g&&g.getAllResponseHeaders()),S={data:!o||o==="text"||o==="json"?g.responseText:g.response,status:g.status,statusText:g.statusText,headers:j,config:e,request:g};Sf(function(k){r(k),p()},function(k){n(k),p()},S),g=null}"onloadend"in g?g.onloadend=y:g.onreadystatechange=function(){!g||g.readyState!==4||g.status===0&&!(g.responseURL&&g.responseURL.indexOf("file:")===0)||setTimeout(y)},g.onabort=function(){g&&(n(new Y("Request aborted",Y.ECONNABORTED,e,g)),g=null)},g.onerror=function(b){const S=b&&b.message?b.message:"Network Error",w=new Y(S,Y.ERR_NETWORK,e,g);w.event=b||null,n(w),g=null},g.ontimeout=function(){let b=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const S=a.transitional||kf;a.timeoutErrorMessage&&(b=a.timeoutErrorMessage),n(new Y(b,S.clarifyTimeoutError?Y.ETIMEDOUT:Y.ECONNABORTED,e,g)),g=null},l===void 0&&i.setContentType(null),"setRequestHeader"in g&&T.forEach(i.toJSON(),function(b,S){g.setRequestHeader(S,b)}),T.isUndefined(a.withCredentials)||(g.withCredentials=!!a.withCredentials),o&&o!=="json"&&(g.responseType=a.responseType),d&&([x,m]=gi(d,!0),g.addEventListener("progress",x)),c&&g.upload&&([h,v]=gi(c),g.upload.addEventListener("progress",h),g.upload.addEventListener("loadend",v)),(a.cancelToken||a.signal)&&(u=j=>{g&&(n(!j||j.type?new qn(null,e,g):j),g.abort(),g=null)},a.cancelToken&&a.cancelToken.subscribe(u),a.signal&&(a.signal.aborted?u():a.signal.addEventListener("abort",u)));const f=xk(a.url);if(f&&We.protocols.indexOf(f)===-1){n(new Y("Unsupported protocol "+f+":",Y.ERR_BAD_REQUEST,e));return}g.send(l||null)})},wk=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let n=new AbortController,a;const l=function(d){if(!a){a=!0,o();const u=d instanceof Error?d:this.reason;n.abort(u instanceof Y?u:new qn(u instanceof Error?u.message:u))}};let i=t&&setTimeout(()=>{i=null,l(new Y(`timeout ${t} of ms exceeded`,Y.ETIMEDOUT))},t);const o=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach(d=>{d.unsubscribe?d.unsubscribe(l):d.removeEventListener("abort",l)}),e=null)};e.forEach(d=>d.addEventListener("abort",l));const{signal:c}=n;return c.unsubscribe=()=>T.asap(o),c}},Sk=function*(e,t){let r=e.byteLength;if(r<t){yield e;return}let n=0,a;for(;n<r;)a=n+t,yield e.slice(n,a),n=a},Ck=async function*(e,t){for await(const r of Ek(e))yield*Sk(r,t)},Ek=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:r,value:n}=await t.read();if(r)break;yield n}}finally{await t.cancel()}},Zm=(e,t,r,n)=>{const a=Ck(e,t);let l=0,i,o=c=>{i||(i=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:u}=await a.next();if(d){o(),c.close();return}let h=u.byteLength;if(r){let x=l+=h;r(x)}c.enqueue(new Uint8Array(u))}catch(d){throw o(d),d}},cancel(c){return o(c),a.return()}},{highWaterMark:2})},eh=64*1024,{isFunction:wl}=T,Pk=(({Request:e,Response:t})=>({Request:e,Response:t}))(T.global),{ReadableStream:th,TextEncoder:sh}=T.global,rh=(e,...t)=>{try{return!!e(...t)}catch{return!1}},Dk=e=>{e=T.merge.call({skipUndefined:!0},Pk,e);const{fetch:t,Request:r,Response:n}=e,a=t?wl(t):typeof fetch=="function",l=wl(r),i=wl(n);if(!a)return!1;const o=a&&wl(th),c=a&&(typeof sh=="function"?(m=>p=>m.encode(p))(new sh):async m=>new Uint8Array(await new r(m).arrayBuffer())),d=l&&o&&rh(()=>{let m=!1;const p=new r(We.origin,{body:new th,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!p}),u=i&&o&&rh(()=>T.isReadableStream(new n("").body)),h={stream:u&&(m=>m.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(p,g)=>{let y=p&&p[m];if(y)return y.call(p);throw new Y(`Response type '${m}' is not supported`,Y.ERR_NOT_SUPPORT,g)})});const x=async m=>{if(m==null)return 0;if(T.isBlob(m))return m.size;if(T.isSpecCompliantForm(m))return(await new r(We.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(T.isArrayBufferView(m)||T.isArrayBuffer(m))return m.byteLength;if(T.isURLSearchParams(m)&&(m=m+""),T.isString(m))return(await c(m)).byteLength},v=async(m,p)=>{const g=T.toFiniteNumber(m.getContentLength());return g??x(p)};return async m=>{let{url:p,method:g,data:y,signal:f,cancelToken:j,timeout:b,onDownloadProgress:S,onUploadProgress:w,responseType:k,headers:D,withCredentials:_="same-origin",fetchOptions:P}=Ef(m),E=t||fetch;k=k?(k+"").toLowerCase():"text";let q=wk([f,j&&j.toAbortSignal()],b),te=null;const ne=q&&q.unsubscribe&&(()=>{q.unsubscribe()});let fe;try{if(w&&d&&g!=="get"&&g!=="head"&&(fe=await v(D,y))!==0){let V=new r(p,{method:"POST",body:y,duplex:"half"}),L;if(T.isFormData(y)&&(L=V.headers.get("content-type"))&&D.setContentType(L),V.body){const[ae,G]=Jm(fe,gi(Ym(w)));y=Zm(V.body,eh,ae,G)}}T.isString(_)||(_=_?"include":"omit");const Z=l&&"credentials"in r.prototype,F={...P,signal:q,method:g.toUpperCase(),headers:D.normalize().toJSON(),body:y,duplex:"half",credentials:Z?_:void 0};te=l&&new r(p,F);let R=await(l?E(te,P):E(p,F));const M=u&&(k==="stream"||k==="response");if(u&&(S||M&&ne)){const V={};["status","statusText","headers"].forEach(ge=>{V[ge]=R[ge]});const L=T.toFiniteNumber(R.headers.get("content-length")),[ae,G]=S&&Jm(L,gi(Ym(S),!0))||[];R=new n(Zm(R.body,eh,ae,()=>{G&&G(),ne&&ne()}),V)}k=k||"text";let Q=await h[T.findKey(h,k)||"text"](R,m);return!M&&ne&&ne(),await new Promise((V,L)=>{Sf(V,L,{data:Q,headers:xt.from(R.headers),status:R.status,statusText:R.statusText,config:m,request:te})})}catch(Z){throw ne&&ne(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Y("Network Error",Y.ERR_NETWORK,m,te),{cause:Z.cause||Z}):Y.from(Z,Z&&Z.code,m,te)}}},Tk=new Map,Pf=e=>{let t=e&&e.env||{};const{fetch:r,Request:n,Response:a}=t,l=[n,a,r];let i=l.length,o=i,c,d,u=Tk;for(;o--;)c=l[o],d=u.get(c),d===void 0&&u.set(c,d=o?new Map:Dk(t)),u=d;return d};Pf();const lu={http:Vj,xhr:Nk,fetch:{get:Pf}};T.forEach(lu,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const nh=e=>`- ${e}`,Rk=e=>T.isFunction(e)||e===null||e===!1;function Ak(e,t){e=T.isArray(e)?e:[e];const{length:r}=e;let n,a;const l={};for(let i=0;i<r;i++){n=e[i];let o;if(a=n,!Rk(n)&&(a=lu[(o=String(n)).toLowerCase()],a===void 0))throw new Y(`Unknown adapter '${o}'`);if(a&&(T.isFunction(a)||(a=a.get(t))))break;l[o||"#"+i]=a}if(!a){const i=Object.entries(l).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?i.length>1?`since :
`+i.map(nh).join(`
`):" "+nh(i[0]):"as no adapter specified";throw new Y("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return a}const Df={getAdapter:Ak,adapters:lu};function Co(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new qn(null,e)}function ah(e){return Co(e),e.headers=xt.from(e.headers),e.data=So.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),Df.getAdapter(e.adapter||tl.adapter,e)(e).then(function(n){return Co(e),n.data=So.call(e,e.transformResponse,n),n.headers=xt.from(n.headers),n},function(n){return wf(n)||(Co(e),n&&n.response&&(n.response.data=So.call(e,e.transformResponse,n.response),n.response.headers=xt.from(n.response.headers))),Promise.reject(n)})}const Tf="1.13.2",Ki={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ki[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const lh={};Ki.transitional=function(t,r,n){function a(l,i){return"[Axios v"+Tf+"] Transitional option '"+l+"'"+i+(n?". "+n:"")}return(l,i,o)=>{if(t===!1)throw new Y(a(i," has been removed"+(r?" in "+r:"")),Y.ERR_DEPRECATED);return r&&!lh[i]&&(lh[i]=!0,console.warn(a(i," has been deprecated since v"+r+" and will be removed in the near future"))),t?t(l,i,o):!0}};Ki.spelling=function(t){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${t}`),!0)};function Fk(e,t,r){if(typeof e!="object")throw new Y("options must be an object",Y.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const l=n[a],i=t[l];if(i){const o=e[l],c=o===void 0||i(o,l,e);if(c!==!0)throw new Y("option "+l+" must be "+c,Y.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Y("Unknown option "+l,Y.ERR_BAD_OPTION)}}const Bl={assertOptions:Fk,validators:Ki},Wt=Bl.validators;let Ar=class{constructor(t){this.defaults=t||{},this.interceptors={request:new Wm,response:new Wm}}async request(t,r){try{return await this._request(t,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const l=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?l&&!String(n.stack).endsWith(l.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+l):n.stack=l}catch{}}throw n}}_request(t,r){typeof t=="string"?(r=r||{},r.url=t):r=t||{},r=$r(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:l}=r;n!==void 0&&Bl.assertOptions(n,{silentJSONParsing:Wt.transitional(Wt.boolean),forcedJSONParsing:Wt.transitional(Wt.boolean),clarifyTimeoutError:Wt.transitional(Wt.boolean)},!1),a!=null&&(T.isFunction(a)?r.paramsSerializer={serialize:a}:Bl.assertOptions(a,{encode:Wt.function,serialize:Wt.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Bl.assertOptions(r,{baseUrl:Wt.spelling("baseURL"),withXsrfToken:Wt.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let i=l&&T.merge(l.common,l[r.method]);l&&T.forEach(["delete","get","head","post","put","patch","common"],m=>{delete l[m]}),r.headers=xt.concat(i,l);const o=[];let c=!0;this.interceptors.request.forEach(function(p){typeof p.runWhen=="function"&&p.runWhen(r)===!1||(c=c&&p.synchronous,o.unshift(p.fulfilled,p.rejected))});const d=[];this.interceptors.response.forEach(function(p){d.push(p.fulfilled,p.rejected)});let u,h=0,x;if(!c){const m=[ah.bind(this),void 0];for(m.unshift(...o),m.push(...d),x=m.length,u=Promise.resolve(r);h<x;)u=u.then(m[h++],m[h++]);return u}x=o.length;let v=r;for(;h<x;){const m=o[h++],p=o[h++];try{v=m(v)}catch(g){p.call(this,g);break}}try{u=ah.call(this,v)}catch(m){return Promise.reject(m)}for(h=0,x=d.length;h<x;)u=u.then(d[h++],d[h++]);return u}getUri(t){t=$r(this.defaults,t);const r=Cf(t.baseURL,t.url,t.allowAbsoluteUrls);return jf(r,t.params,t.paramsSerializer)}};T.forEach(["delete","get","head","options"],function(t){Ar.prototype[t]=function(r,n){return this.request($r(n||{},{method:t,url:r,data:(n||{}).data}))}});T.forEach(["post","put","patch"],function(t){function r(n){return function(l,i,o){return this.request($r(o||{},{method:t,headers:n?{"Content-Type":"multipart/form-data"}:{},url:l,data:i}))}}Ar.prototype[t]=r(),Ar.prototype[t+"Form"]=r(!0)});let Mk=class Rf{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(l){r=l});const n=this;this.promise.then(a=>{if(!n._listeners)return;let l=n._listeners.length;for(;l-- >0;)n._listeners[l](a);n._listeners=null}),this.promise.then=a=>{let l;const i=new Promise(o=>{n.subscribe(o),l=o}).then(a);return i.cancel=function(){n.unsubscribe(l)},i},t(function(l,i,o){n.reason||(n.reason=new qn(l,i,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const r=this._listeners.indexOf(t);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const t=new AbortController,r=n=>{t.abort(n)};return this.subscribe(r),t.signal.unsubscribe=()=>this.unsubscribe(r),t.signal}static source(){let t;return{token:new Rf(function(a){t=a}),cancel:t}}};function Ok(e){return function(r){return e.apply(null,r)}}function _k(e){return T.isObject(e)&&e.isAxiosError===!0}const Qc={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Qc).forEach(([e,t])=>{Qc[t]=e});function Af(e){const t=new Ar(e),r=cf(Ar.prototype.request,t);return T.extend(r,Ar.prototype,t,{allOwnKeys:!0}),T.extend(r,t,null,{allOwnKeys:!0}),r.create=function(a){return Af($r(e,a))},r}const Ce=Af(tl);Ce.Axios=Ar;Ce.CanceledError=qn;Ce.CancelToken=Mk;Ce.isCancel=wf;Ce.VERSION=Tf;Ce.toFormData=Qi;Ce.AxiosError=Y;Ce.Cancel=Ce.CanceledError;Ce.all=function(t){return Promise.all(t)};Ce.spread=Ok;Ce.isAxiosError=_k;Ce.mergeConfig=$r;Ce.AxiosHeaders=xt;Ce.formToJSON=e=>Nf(T.isHTMLForm(e)?new FormData(e):e);Ce.getAdapter=Df.getAdapter;Ce.HttpStatusCode=Qc;Ce.default=Ce;const{Axios:C1,AxiosError:E1,CanceledError:P1,isCancel:D1,CancelToken:T1,VERSION:R1,all:A1,Cancel:F1,isAxiosError:M1,spread:O1,toFormData:_1,AxiosHeaders:L1,HttpStatusCode:I1,formToJSON:U1,getAdapter:$1,mergeConfig:B1}=Ce,A=Ce.create({baseURL:"",withCredentials:!0,headers:{"Content-Type":"application/json"}});A.interceptors.response.use(e=>e,e=>{var t;return((t=e.response)==null?void 0:t.status)===401&&window.location.pathname!=="/login"&&(window.location.href="/login"),Promise.reject(e)});const Ff=N.createContext();function Lk({children:e}){const[t,r]=N.useState(null),[n,a]=N.useState(null),[l,i]=N.useState(!0),o=oe();N.useEffect(()=>{c();const m=localStorage.getItem("previousUser");m&&a(JSON.parse(m))},[]);const c=async()=>{try{const m=await A.get("/api/auth/me");r(m.data.user)}catch{r(null)}finally{i(!1)}},d=async(m,p)=>{const g=await A.post("/api/auth/login",{username:m,password:p});return r(g.data.user),a(null),localStorage.removeItem("previousUser"),g.data},u=async()=>{try{await A.post("/api/auth/logout")}finally{r(null),a(null),localStorage.removeItem("previousUser"),o("/login")}},h=async m=>{try{const p=await A.post(`/api/auth/login-as/${m}`);return t&&(a(t),localStorage.setItem("previousUser",JSON.stringify(t))),r(p.data.user),p.data}catch(p){throw p}},x=async()=>{if(n)try{const m=await A.post("/api/auth/return-to-admin");return r(m.data.user),a(null),localStorage.removeItem("previousUser"),m.data}catch(m){throw a(null),localStorage.removeItem("previousUser"),m}},v=(t==null?void 0:t.role)==="admin";return s.jsx(Ff.Provider,{value:{user:t,loading:l,login:d,logout:u,isAdmin:v,checkAuth:c,previousUser:n,loginAsUser:h,returnToPreviousUser:x},children:e})}function Qr(){const e=N.useContext(Ff);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}const Mf=N.createContext();function Ik({children:e}){const[t,r]=N.useState(()=>{const a=localStorage.getItem("theme");return a?a==="dark":window.matchMedia("(prefers-color-scheme: dark)").matches});N.useEffect(()=>{const a=document.documentElement;t?(a.classList.add("dark"),localStorage.setItem("theme","dark")):(a.classList.remove("dark"),localStorage.setItem("theme","light"))},[t]);const n=()=>r(!t);return s.jsx(Mf.Provider,{value:{isDark:t,toggleTheme:n},children:e})}function Of(){const e=N.useContext(Mf);if(!e)throw new Error("useTheme must be used within a ThemeProvider");return e}/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Uk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),U=(e,t)=>{const r=N.forwardRef(({color:n="currentColor",size:a=24,strokeWidth:l=2,absoluteStrokeWidth:i,className:o="",children:c,...d},u)=>N.createElement("svg",{ref:u,...Uk,width:a,height:a,stroke:n,strokeWidth:i?Number(l)*24/Number(a):l,className:["lucide",`lucide-${$k(e)}`,o].join(" "),...d},[...t.map(([h,x])=>N.createElement(h,x)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=U("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=U("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yi=U("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=U("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=U("ArrowLeftCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 12H8",key:"1fr5h0"}],["path",{d:"m12 8-4 4 4 4",key:"15vm53"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const de=U("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=U("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _f=U("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=U("BellOff",[["path",{d:"M8.7 3A6 6 0 0 1 18 8a21.3 21.3 0 0 0 .6 5",key:"o7mx20"}],["path",{d:"M17 17H3s3-2 3-9a4.67 4.67 0 0 1 .3-1.7",key:"16f1lm"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=U("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lf=U("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ye=U("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=U("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ns=U("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bi=U("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=U("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=U("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=U("CloudCog",[["circle",{cx:"12",cy:"17",r:"3",key:"1spfwm"}],["path",{d:"M4.2 15.1A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.2",key:"zaobp"}],["path",{d:"m15.7 18.4-.9-.3",key:"4qxpbn"}],["path",{d:"m9.2 15.9-.9-.3",key:"17q7o2"}],["path",{d:"m10.6 20.7.3-.9",key:"1pf4s2"}],["path",{d:"m13.1 14.2.3-.9",key:"1mnuqm"}],["path",{d:"m13.6 20.7-.4-1",key:"1jpd1m"}],["path",{d:"m10.8 14.3-.4-1",key:"17ugyy"}],["path",{d:"m8.3 18.6 1-.4",key:"s42vdx"}],["path",{d:"m14.7 15.8 1-.4",key:"2wizun"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vr=U("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=U("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vc=U("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=U("Cylinder",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5v14a9 3 0 0 0 18 0V5",key:"aqi0yr"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rt=U("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=U("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=U("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=U("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kt=U("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ua=U("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=U("Folder",[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=U("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bt=U("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=U("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gc=U("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ou=U("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Br=U("Key",[["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["path",{d:"m15.5 7.5 3 3L22 7l-3-3",key:"1rn1fs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=U("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $a=U("Leaf",[["path",{d:"M11 20A7 7 0 0 1 9.8 6.1C15.5 5 17 4.48 19 2c1 2 2 4.18 2 8 0 5.5-4.78 10-10 10Z",key:"nnexq3"}],["path",{d:"M2 21c0-3 1.85-5.36 5.08-6C9.5 14.52 12 13 13 12",key:"mt58a7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vi=U("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const me=U("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=U("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=U("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=U("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ws=U("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=U("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=U("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=U("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ih=U("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uf=U("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qn=U("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=U("Network",[["rect",{x:"16",y:"16",width:"6",height:"6",rx:"1",key:"4q2zg0"}],["rect",{x:"2",y:"16",width:"6",height:"6",rx:"1",key:"8cvhb9"}],["rect",{x:"9",y:"2",width:"6",height:"6",rx:"1",key:"1egb70"}],["path",{d:"M5 16v-3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v3",key:"1jsf9p"}],["path",{d:"M12 12V8",key:"2874zd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const On=U("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=U("PauseCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"10",x2:"10",y1:"15",y2:"9",key:"c1nkhi"}],["line",{x1:"14",x2:"14",y1:"15",y2:"9",key:"h65svq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=U("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=U("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=U("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=U("PlayCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vi=U("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=U("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ne=U("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const He=U("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ct=U("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kr=U("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ct=U("Server",[["rect",{width:"20",height:"8",x:"2",y:"2",rx:"2",ry:"2",key:"ngkwjq"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",ry:"2",key:"iecqi9"}],["line",{x1:"6",x2:"6.01",y1:"6",y2:"6",key:"16zg32"}],["line",{x1:"6",x2:"6.01",y1:"18",y2:"18",key:"nzw8ys"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=U("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=U("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=U("ShieldX",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m14.5 9-5 5",key:"1m49dw"}],["path",{d:"m9.5 9 5 5",key:"wyx7zg"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=U("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=U("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=U("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lN=U("Tag",[["path",{d:"M12 2H2v10l9.29 9.29c.94.94 2.48.94 3.42 0l6.58-6.58c.94-.94.94-2.48 0-3.42L12 2Z",key:"14b2ls"}],["path",{d:"M7 7h.01",key:"7u93v4"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=U("Tags",[["path",{d:"M9 5H2v7l6.29 6.29c.94.94 2.48.94 3.42 0l3.58-3.58c.94-.94.94-2.48 0-3.42L9 5Z",key:"gt587u"}],["path",{d:"M6 9.01V9",key:"1flxpt"}],["path",{d:"m15 5 6.3 6.3a2.4 2.4 0 0 1 0 3.4L17 19",key:"1cbfv1"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jc=U("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=U("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=U("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cN=U("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dN=U("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=U("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qf=U("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kt=U("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const At=U("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uN=U("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mN=U("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.303.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hN=U("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);function Hf(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(r=Hf(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Jt(){for(var e,t,r=0,n="",a=arguments.length;r<a;r++)(e=arguments[r])&&(t=Hf(e))&&(n&&(n+=" "),n+=t);return n}const pN=[{name:"Dashboard",href:"/",icon:Gk},{name:"Users",href:"/users",icon:qf,adminOnly:!0},{name:"Web",href:"/web",icon:bt},{name:"DNS",href:"/dns",icon:bt,service:"dns"},{name:"Mail",href:"/mail",icon:ws,service:"mail"},{name:"Cron",href:"/cron",icon:Hn},{name:"Backups",href:"/backups",icon:jt}],xN=[{name:"MariaDB",href:"/databases?type=mysql",icon:Kk,service:"mysql"},{name:"PostgreSQL",href:"/databases?type=pgsql",icon:rt,service:"pgsql"},{name:"MongoDB",href:"/databases?type=mongodb",icon:$a,service:"mongodb"}],fN=[{name:"Packages",href:"/packages",icon:On},{name:"Services",href:"/server-services",icon:sl},{name:"Install/Uninstall",href:"/services",icon:ct},{name:"Firewall",href:"/firewall",icon:Kn},{name:"Database Settings",href:"/admin/database-settings",icon:ir},{name:"Cloud Storage",href:"/admin/rclone",icon:vr},{name:"HAProxy",href:"/haproxy",icon:oa}];function gN(){var k,D,_,P;const{user:e,logout:t,isAdmin:r,previousUser:n,returnToPreviousUser:a,loginAsUser:l}=Qr(),{isDark:i,toggleTheme:o}=Of(),c=Hr(),d=oe(),[u,h]=N.useState(!1),[x,v]=N.useState(!1),[m,p]=N.useState(!1),[g,y]=N.useState(!1),{data:f}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data,staleTime:5*60*1e3}),j=N.useMemo(()=>pN.filter(E=>E.adminOnly&&!r?!1:E.service&&(f!=null&&f.installedServices)?f.installedServices[E.service]!==!1:!0),[r,f]),b=N.useMemo(()=>xN.filter(E=>E.service&&(f!=null&&f.installedServices)?f.installedServices[E.service]===!0:!0),[f]),S=b.length>0,w=()=>{n&&(a(),d("/"))};return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-dark-bg",children:[u&&s.jsx("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>h(!1)}),s.jsxs("aside",{className:Jt("fixed inset-y-0 left-0 z-50 w-64 bg-white dark:bg-dark-card border-r border-gray-200 dark:border-dark-border transform transition-transform duration-200 lg:translate-x-0 flex flex-col",u?"translate-x-0":"-translate-x-full"),children:[s.jsxs("div",{className:"h-16 flex items-center justify-between px-4 border-b border-gray-200 dark:border-dark-border flex-shrink-0",children:[s.jsxs(I,{to:"/",className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-8 bg-primary-600 rounded-lg flex items-center justify-center",children:s.jsx("span",{className:"text-white font-bold text-sm",children:"V"})}),s.jsx("span",{className:"font-semibold text-lg",children:"VHestiaCP"})]}),s.jsx("button",{className:"lg:hidden p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>h(!1),children:s.jsx(At,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"p-4 border-b border-gray-200 dark:border-dark-border flex-shrink-0",children:[s.jsxs("div",{className:"flex items-center gap-3 cursor-pointer p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>v(!x),children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-medium",children:((D=(k=e==null?void 0:e.name)==null?void 0:k[0])==null?void 0:D.toUpperCase())||((P=(_=e==null?void 0:e.username)==null?void 0:_[0])==null?void 0:P.toUpperCase())})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-sm font-medium truncate",children:(e==null?void 0:e.name)||(e==null?void 0:e.username)}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted truncate",children:e==null?void 0:e.email}),r&&s.jsx("span",{className:"inline-block mt-1 px-1.5 py-0.5 text-xs bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400 rounded",children:"Admin"})]}),s.jsx(Ns,{className:Jt("w-4 h-4 text-gray-400 transition-transform",x&&"rotate-180")})]}),x&&s.jsxs("div",{className:"mt-2 space-y-1",children:[s.jsxs(I,{to:`/users/${e==null?void 0:e.username}/edit`,className:"flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>v(!1),children:[s.jsx(zf,{className:"w-4 h-4"}),"Edit Profile"]}),s.jsxs(I,{to:"/settings",className:"flex items-center gap-2 px-3 py-2 text-sm rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",onClick:()=>v(!1),children:[s.jsx(ir,{className:"w-4 h-4"}),"Settings"]})]}),n&&s.jsxs("button",{onClick:w,className:"mt-3 w-full flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-amber-100 hover:bg-amber-200 text-amber-800 dark:bg-amber-900/30 dark:hover:bg-amber-900/50 dark:text-amber-400 transition-colors",children:[s.jsx(zk,{className:"w-4 h-4"}),"Return to ",n.username]})]}),s.jsxs("nav",{className:"flex-1 p-4 space-y-1 overflow-y-auto",children:[j.map(E=>{const q=c.pathname===E.href||E.href!=="/"&&c.pathname.startsWith(E.href);return s.jsxs(I,{to:E.href,className:Jt("flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",q?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[s.jsx(E.icon,{className:"w-5 h-5"}),E.name]},E.name)}),S&&s.jsxs("div",{children:[s.jsxs("button",{onClick:()=>p(!m),className:Jt("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",c.pathname.startsWith("/databases")?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),children:[s.jsx(rt,{className:"w-5 h-5"}),s.jsx("span",{className:"flex-1 text-left",children:"Databases"}),s.jsx(bi,{className:Jt("w-4 h-4 transition-transform",m&&"rotate-90")})]}),m&&s.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-dark-border pl-3",children:b.map(E=>{const q=c.pathname+c.search===E.href||c.pathname==="/databases"&&c.search===`?type=${E.service}`;return s.jsxs(I,{to:E.href,className:Jt("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",q?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:bg-gray-100 dark:text-dark-muted dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[s.jsx(E.icon,{className:"w-4 h-4"}),E.name]},E.name)})})]}),r&&s.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("button",{onClick:()=>y(!g),className:Jt("w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors",c.pathname.startsWith("/packages")||c.pathname.startsWith("/services")||c.pathname.startsWith("/server-services")||c.pathname.startsWith("/admin")||c.pathname.startsWith("/firewall")||c.pathname.startsWith("/haproxy")?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-700 hover:bg-gray-100 dark:text-dark-text dark:hover:bg-dark-border"),children:[s.jsx(ir,{className:"w-5 h-5"}),s.jsx("span",{className:"flex-1 text-left",children:"Admin"}),s.jsx(bi,{className:Jt("w-4 h-4 transition-transform",g&&"rotate-90")})]}),g&&s.jsx("div",{className:"ml-4 mt-1 space-y-1 border-l-2 border-gray-200 dark:border-dark-border pl-3",children:fN.map(E=>{const q=c.pathname===E.href||E.href!=="/"&&c.pathname.startsWith(E.href);return s.jsxs(I,{to:E.href,className:Jt("flex items-center gap-2 px-3 py-2 rounded-lg text-sm transition-colors",q?"bg-primary-50 text-primary-700 dark:bg-primary-900/20 dark:text-primary-400":"text-gray-600 hover:bg-gray-100 dark:text-dark-muted dark:hover:bg-dark-border"),onClick:()=>h(!1),children:[s.jsx(E.icon,{className:"w-4 h-4"}),E.name]},E.name)})})]})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-dark-border flex-shrink-0",children:s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("button",{onClick:o,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80 transition-colors",title:i?"Switch to light mode":"Switch to dark mode",children:[i?s.jsx(Bf,{className:"w-4 h-4"}):s.jsx(Uf,{className:"w-4 h-4"}),i?"Light":"Dark"]}),s.jsxs("button",{onClick:t,className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 text-sm rounded-lg bg-gray-100 hover:bg-red-100 hover:text-red-600 dark:bg-dark-border dark:hover:bg-red-900/30 dark:hover:text-red-400 transition-colors",title:"Logout",children:[s.jsx(Yk,{className:"w-4 h-4"}),"Logout"]})]})})]}),s.jsxs("div",{className:"lg:pl-64 min-h-screen flex flex-col",children:[s.jsxs("header",{className:"lg:hidden h-14 bg-white dark:bg-dark-card border-b border-gray-200 dark:border-dark-border flex items-center px-4 sticky top-0 z-30",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>h(!0),children:s.jsx(Zk,{className:"w-5 h-5"})}),s.jsx("span",{className:"ml-3 font-semibold",children:"VHestiaCP"})]}),s.jsx("main",{className:"flex-1 p-6",children:s.jsx(wb,{})})]})]})}function yN(){const[e,t]=N.useState(""),[r,n]=N.useState(""),[a,l]=N.useState(!1),[i,o]=N.useState(""),[c,d]=N.useState(!1),{login:u}=Qr(),{isDark:h,toggleTheme:x}=Of(),v=oe(),m=async p=>{var g,y;p.preventDefault(),o(""),d(!0);try{await u(e,r),v("/")}catch(f){o(((y=(g=f.response)==null?void 0:g.data)==null?void 0:y.error)||"Login failed. Please try again.")}finally{d(!1)}};return s.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-gray-100 to-gray-200 dark:from-dark-bg dark:to-slate-900 p-4",children:[s.jsx("button",{onClick:x,className:"absolute top-4 right-4 p-2 rounded-lg bg-white dark:bg-dark-card shadow-sm hover:shadow transition-shadow",children:h?s.jsx(Bf,{className:"w-5 h-5"}):s.jsx(Uf,{className:"w-5 h-5"})}),s.jsxs("div",{className:"w-full max-w-md",children:[s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-primary-600 rounded-2xl mb-4 shadow-lg",children:s.jsx("span",{className:"text-white font-bold text-2xl",children:"V"})}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-dark-text",children:"VHestiaCP"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Server Control Panel"})]}),s.jsxs("div",{className:"card p-8",children:[s.jsx("h2",{className:"text-xl font-semibold text-center mb-6",children:"Sign in to your account"}),i&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),i]}),s.jsxs("form",{onSubmit:m,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium mb-1",children:"Username"}),s.jsx("input",{type:"text",id:"username",value:e,onChange:p=>t(p.target.value),className:"input",placeholder:"admin",required:!0,autoFocus:!0,autoComplete:"username"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:a?"text":"password",id:"password",value:r,onChange:p=>n(p.target.value),className:"input pr-10",placeholder:"Enter your password",required:!0,autoComplete:"current-password"}),s.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]})]}),s.jsx("button",{type:"submit",disabled:c,className:"btn btn-primary w-full flex items-center justify-center gap-2",children:c?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Signing in..."]}):"Sign in"})]})]}),s.jsx("p",{className:"text-center text-sm text-gray-500 dark:text-dark-muted mt-6",children:"VHestiaCP Panel v2.0"})]})]})}function bN(){const{user:e,isAdmin:t}=Qr(),r=[{name:"Web Domains",value:"5",icon:bt,color:"bg-blue-500"},{name:"Databases",value:"3",icon:rt,color:"bg-green-500"},{name:"Mail Domains",value:"2",icon:ws,color:"bg-purple-500"},{name:"Cron Jobs",value:"8",icon:Hn,color:"bg-orange-500"},{name:"Backups",value:"4",icon:jt,color:"bg-cyan-500"}];return t&&r.unshift({name:"Users",value:"12",icon:qf,color:"bg-pink-500"}),s.jsxs("div",{children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Welcome back, ",(e==null?void 0:e.name)||(e==null?void 0:e.username),"!"]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Here's what's happening with your server today."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-8",children:r.map(n=>s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:`${n.color} p-3 rounded-xl`,children:s.jsx(n.icon,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-2xl font-bold",children:n.value}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:n.name})]})]})},n.name))}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Quick Actions"}),s.jsxs("div",{className:"flex flex-wrap gap-3",children:[s.jsxs("button",{className:"btn btn-primary",children:[s.jsx(bt,{className:"w-4 h-4 mr-2"}),"Add Web Domain"]}),s.jsxs("button",{className:"btn btn-secondary",children:[s.jsx(rt,{className:"w-4 h-4 mr-2"}),"Add Database"]}),s.jsxs("button",{className:"btn btn-secondary",children:[s.jsx(ws,{className:"w-4 h-4 mr-2"}),"Add Mail Domain"]})]})]})]})}function vN(){var S;const[e,t]=N.useState(""),[r,n]=N.useState(null),[a,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=ce(),{loginAsUser:c,user:d}=Qr(),u=oe(),h=w=>{if(r===w){n(null);return}const k=i.current[w];if(k){const D=k.getBoundingClientRect();l({top:D.bottom+4,right:window.innerWidth-D.right})}n(w)},{data:x,isLoading:v,error:m}=W({queryKey:["users"],queryFn:async()=>(await A.get("/api/users")).data.users}),p=H({mutationFn:async({username:w,suspend:k})=>{k?await A.post(`/api/users/${w}/suspend`):await A.post(`/api/users/${w}/unsuspend`)},onSuccess:()=>{o.invalidateQueries(["users"])}}),g=H({mutationFn:async w=>{await A.delete(`/api/users/${w}`)},onSuccess:()=>{o.invalidateQueries(["users"])}}),y=w=>{confirm(`Are you sure you want to delete user "${w}"? This cannot be undone.`)&&g.mutate(w),n(null)},f=(w,k)=>{p.mutate({username:w,suspend:!k}),n(null)},j=async w=>{try{await c(w),u("/")}catch(k){console.error("Failed to login as user:",k)}n(null)},b=(x==null?void 0:x.filter(w=>{var k,D;return w.username.toLowerCase().includes(e.toLowerCase())||((k=w.NAME)==null?void 0:k.toLowerCase().includes(e.toLowerCase()))||((D=w.CONTACT)==null?void 0:D.toLowerCase().includes(e.toLowerCase()))}))||[];return v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):m?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load users. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Users"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage system users and their resources"})]}),s.jsxs(I,{to:"/users/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add User"]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search users...",value:e,onChange:w=>t(w.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"User"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Package"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Resources"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:b.map(w=>{var k,D;return s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:s.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-medium",children:((D=(k=w.NAME)==null?void 0:k[0])==null?void 0:D.toUpperCase())||w.username[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("button",{onClick:()=>w.username!==(d==null?void 0:d.username)&&j(w.username),className:`font-medium ${w.username!==(d==null?void 0:d.username)?"text-primary-600 hover:text-primary-700 dark:text-primary-400 dark:hover:text-primary-300 hover:underline cursor-pointer":""}`,title:w.username!==(d==null?void 0:d.username)?`Login as ${w.username}`:"",children:w.username}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:w.NAME||"-"}),s.jsx("p",{className:"text-xs text-gray-400 dark:text-dark-muted",children:w.CONTACT})]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("span",{className:"badge badge-info",children:w.PACKAGE||"default"})}),s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-600 dark:text-dark-muted",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"Web Domains",children:[s.jsx(bt,{className:"w-4 h-4"}),w.U_WEB_DOMAINS||0]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Databases",children:[s.jsx(rt,{className:"w-4 h-4"}),w.U_DATABASES||0]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Mail",children:[s.jsx(ws,{className:"w-4 h-4"}),w.U_MAIL_ACCOUNTS||0]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Disk",children:[s.jsx(jt,{className:"w-4 h-4"}),w.U_DISK||0,"MB"]})]})}),s.jsx("td",{className:"px-4 py-4",children:w.SUSPENDED==="yes"?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{ref:_=>i.current[w.username]=_,onClick:()=>h(w.username),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-5 h-5"})})})]},w.username)})})]}),b.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No users found."})]})}),r&&Ii.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(null)}),s.jsxs("div",{className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:a.top,right:a.right},children:[s.jsxs(I,{to:`/users/${r}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(lr,{className:"w-4 h-4"}),"Edit"]}),r!==(d==null?void 0:d.username)&&s.jsxs("button",{onClick:()=>j(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:[s.jsx(Jk,{className:"w-4 h-4 text-blue-500"}),"Login as User"]}),s.jsx("button",{onClick:()=>{const w=b.find(k=>k.username===r);w&&f(r,w.SUSPENDED==="yes")},className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",disabled:r==="admin",children:((S=b.find(w=>w.username===r))==null?void 0:S.SUSPENDED)==="yes"?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4 text-green-500"}),"Unsuspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(ya,{className:"w-4 h-4 text-orange-500"}),"Suspend"]})}),r!=="admin"&&s.jsxs("button",{onClick:()=>y(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(Ge,{className:"w-4 h-4"}),"Delete"]})]})]}),document.body)]})}function jN(){const e=oe(),[t,r]=N.useState(!1),[n,a]=N.useState({username:"",password:"",email:"",name:"",package:"default"}),[l,i]=N.useState(""),o=H({mutationFn:async u=>(await A.post("/api/users",u)).data,onSuccess:()=>{e("/users")},onError:u=>{var h,x;i(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to create user")}}),c=u=>{u.preventDefault(),i(""),o.mutate(n)},d=()=>{const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let h="";for(let x=0;x<16;x++)h+=u.charAt(Math.floor(Math.random()*u.length));a({...n,password:h}),r(!0)};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/users",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add User"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new system user"})]})]}),s.jsxs("div",{className:"card p-6",children:[l&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),l]}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"username",className:"block text-sm font-medium mb-1",children:["Username ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"username",value:n.username,onChange:u=>a({...n,username:u.target.value.toLowerCase()}),className:"input",placeholder:"johndoe",required:!0,pattern:"[a-z0-9_]+",title:"Only lowercase letters, numbers and underscores"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Only lowercase letters, numbers and underscores"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:t?"text":"password",id:"password",value:n.password,onChange:u=>a({...n,password:u.target.value}),className:"input pr-10",placeholder:"Enter password",required:!0,minLength:8}),s.jsx("button",{type:"button",onClick:()=>r(!t),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:t?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:d,className:"btn btn-secondary",title:"Generate password",children:s.jsx(He,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:["Email ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"email",id:"email",value:n.email,onChange:u=>a({...n,email:u.target.value}),className:"input",placeholder:"john@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",id:"name",value:n.name,onChange:u=>a({...n,name:u.target.value}),className:"input",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"package",className:"block text-sm font-medium mb-1",children:"Package"}),s.jsxs("select",{id:"package",value:n.package,onChange:u=>a({...n,package:u.target.value}),className:"input",children:[s.jsx("option",{value:"default",children:"Default"}),s.jsx("option",{value:"system",children:"System"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary flex-1",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create User"}),s.jsx(I,{to:"/users",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function kN(){var S,w,k,D,_;const{username:e}=St();oe();const t=ce(),{user:r,isAdmin:n}=Qr(),[a,l]=N.useState(!1),[i,o]=N.useState(!1),[c,d]=N.useState({password:"",email:"",name:"",language:"en",package:"default",shell:"/bin/bash",phpcli:"",role:"user",loginDisabled:!1,twofa:!1,ns1:"",ns2:"",ns3:"",ns4:""}),[u,h]=N.useState(""),[x,v]=N.useState(""),{data:m}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data,staleTime:5*60*1e3}),p=n||(r==null?void 0:r.username)===e,{data:g,isLoading:y}=W({queryKey:["user",e],queryFn:async()=>(await A.get(`/api/users/${e}`)).data.user,enabled:p});N.useEffect(()=>{g&&d({password:"",email:g.CONTACT||"",name:g.NAME||"",language:g.LANGUAGE||"en",package:g.PACKAGE||"default",shell:g.SHELL||"/bin/bash",phpcli:g.PHPCLI||"",role:g.ROLE||"user",loginDisabled:g.LOGIN_DISABLED==="yes",twofa:!!g.TWOFA,ns1:g.NS1||"",ns2:g.NS2||"",ns3:g.NS3||"",ns4:g.NS4||""})},[g]);const f=H({mutationFn:async P=>(await A.put(`/api/users/${e}`,P)).data,onSuccess:()=>{v("User updated successfully"),h(""),t.invalidateQueries(["user",e]),t.invalidateQueries(["users"]),setTimeout(()=>v(""),3e3)},onError:P=>{var E,q;h(((q=(E=P.response)==null?void 0:E.data)==null?void 0:q.error)||"Failed to update user"),v("")}}),j=P=>{P.preventDefault(),h(""),v("");const E={};c.password&&(E.password=c.password),c.email&&(E.email=c.email),c.name!==void 0&&(E.name=c.name),c.language&&(E.language=c.language),n&&(E.package=c.package,E.shell=c.shell,c.phpcli&&(E.phpcli=c.phpcli),e!=="admin"&&(E.role=c.role),E.loginDisabled=c.loginDisabled,E.twofa=c.twofa,E.ns1=c.ns1,E.ns2=c.ns2,E.ns3=c.ns3,E.ns4=c.ns4),f.mutate(E)},b=()=>{const P="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let E="";for(let q=0;q<16;q++)E+=P.charAt(Math.floor(Math.random()*P.length));d({...c,password:E}),l(!0)};return p?y?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:n?"/users":"/",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Edit User"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Update ",e,"'s profile"]})]})]}),s.jsxs("div",{className:"hidden sm:flex items-center gap-2",children:[s.jsxs(I,{to:`/users/${e}/ssh-keys`,className:"btn btn-secondary text-sm",title:"Manage SSH Keys",children:[s.jsx(Br,{className:"w-4 h-4 mr-1.5 text-orange-500"}),"SSH Keys"]}),s.jsxs(I,{to:`/users/${e}/logs`,className:"btn btn-secondary text-sm",title:"View Logs",children:[s.jsx(Gc,{className:"w-4 h-4 mr-1.5 text-purple-500"}),"Logs"]}),s.jsxs(I,{to:"/rclone",className:"btn btn-secondary text-sm",title:"Cloud Backup",children:[s.jsx(Qk,{className:"w-4 h-4 mr-1.5 text-green-500"}),"Cloud Backup"]})]})]}),s.jsx("div",{className:"card p-6 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:s.jsx("span",{className:"text-primary-700 dark:text-primary-400 font-bold text-2xl",children:((w=(S=g==null?void 0:g.NAME)==null?void 0:S[0])==null?void 0:w.toUpperCase())||e[0].toUpperCase()})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:e}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:(g==null?void 0:g.NAME)||"No name set"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[(g==null?void 0:g.SUSPENDED)==="yes"?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"}),s.jsx("span",{className:"badge badge-info",children:(g==null?void 0:g.PACKAGE)||"default"})]})]})]})}),s.jsxs("div",{className:"card p-6",children:[u&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),u]}),x&&s.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4 flex-shrink-0"}),x]}),s.jsxs("form",{onSubmit:j,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"name",className:"block text-sm font-medium mb-1",children:"Contact Name"}),s.jsx("input",{type:"text",id:"name",value:c.name,onChange:P=>d({...c,name:P.target.value}),className:"input",placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium mb-1",children:"Email"}),s.jsx("input",{type:"email",id:"email",value:c.email,onChange:P=>d({...c,email:P.target.value}),className:"input",placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:"New Password"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:a?"text":"password",id:"password",value:c.password,onChange:P=>d({...c,password:P.target.value}),className:"input pr-10",placeholder:"Leave empty to keep current",minLength:c.password?8:0}),s.jsx("button",{type:"button",onClick:()=>l(!a),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:a?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:b,className:"btn btn-secondary",title:"Generate password",children:s.jsx(He,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Leave empty to keep the current password"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"language",className:"block text-sm font-medium mb-1",children:"Language"}),s.jsxs("select",{id:"language",value:c.language,onChange:P=>d({...c,language:P.target.value}),className:"input",children:[s.jsx("option",{value:"en",children:"English"}),s.jsx("option",{value:"vi",children:"Ting Vit"}),s.jsx("option",{value:"de",children:"Deutsch"}),s.jsx("option",{value:"fr",children:"Franais"}),s.jsx("option",{value:"es",children:"Espaol"}),s.jsx("option",{value:"ru",children:""}),s.jsx("option",{value:"zh-cn",children:" ()"}),s.jsx("option",{value:"ja",children:""})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:c.loginDisabled,onChange:P=>d({...c,loginDisabled:P.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500",disabled:!n||e==="admin"}),s.jsx("span",{className:"text-sm",children:"Do not allow user to log in to Control Panel"})]}),!c.loginDisabled&&s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:c.twofa,onChange:P=>d({...c,twofa:P.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable two-factor authentication"})]})]}),n&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"pt-4",children:s.jsxs("button",{type:"button",onClick:()=>o(!i),className:"btn btn-secondary w-full justify-between",children:[s.jsx("span",{children:"Advanced Options"}),i?s.jsx(Mn,{className:"w-4 h-4"}):s.jsx(Ns,{className:"w-4 h-4"})]})}),i&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-border/30 rounded-lg",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"package",className:"block text-sm font-medium mb-1",children:"Package"}),s.jsx("select",{id:"package",value:c.package,onChange:P=>d({...c,package:P.target.value}),className:"input",children:((k=m==null?void 0:m.packages)==null?void 0:k.map(P=>s.jsx("option",{value:P,children:P},P)))||s.jsx("option",{value:"default",children:"default"})})]}),e!=="admin"&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"role",className:"block text-sm font-medium mb-1",children:"Role"}),s.jsxs("select",{id:"role",value:c.role,onChange:P=>d({...c,role:P.target.value}),className:"input",children:[s.jsx("option",{value:"user",children:"User"}),s.jsx("option",{value:"admin",children:"Administrator"}),s.jsx("option",{value:"dns-cluster",children:"DNS Sync User"})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"shell",className:"block text-sm font-medium mb-1",children:"SSH Access"}),s.jsx("select",{id:"shell",value:c.shell,onChange:P=>d({...c,shell:P.target.value}),className:"input",children:((D=m==null?void 0:m.shells)==null?void 0:D.map(P=>s.jsx("option",{value:P,children:P},P)))||s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"/bin/bash",children:"/bin/bash"}),s.jsx("option",{value:"/bin/sh",children:"/bin/sh"}),s.jsx("option",{value:"/usr/sbin/nologin",children:"/usr/sbin/nologin"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"phpcli",className:"block text-sm font-medium mb-1",children:"PHP CLI Version"}),s.jsxs("select",{id:"phpcli",value:c.phpcli,onChange:P=>d({...c,phpcli:P.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"Default"}),(_=m==null?void 0:m.phpVersions)==null?void 0:_.map(P=>s.jsx("option",{value:P,children:P},P))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Name Servers"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("input",{type:"text",value:c.ns1,onChange:P=>d({...c,ns1:P.target.value}),className:"input",placeholder:"ns1.example.com"}),s.jsx("input",{type:"text",value:c.ns2,onChange:P=>d({...c,ns2:P.target.value}),className:"input",placeholder:"ns2.example.com"}),s.jsx("input",{type:"text",value:c.ns3,onChange:P=>d({...c,ns3:P.target.value}),className:"input",placeholder:"ns3.example.com (optional)"}),s.jsx("input",{type:"text",value:c.ns4,onChange:P=>d({...c,ns4:P.target.value}),className:"input",placeholder:"ns4.example.com (optional)"})]})]})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:f.isPending,className:"btn btn-primary flex-1",children:f.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Saving..."]}):"Save Changes"}),s.jsx(I,{to:n?"/users":"/",className:"btn btn-secondary",children:"Cancel"})]})]})]})]}):s.jsx("div",{className:"card p-6 text-center text-red-600",children:"You don't have permission to edit this user."})}function NN(){const{username:e}=St(),t=ce(),[r,n]=N.useState(!1),[a,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState(""),[u,h]=N.useState(""),{data:x,isLoading:v}=W({queryKey:["ssh-keys",e],queryFn:async()=>(await A.get(`/api/users/${e}/ssh-keys`)).data.keys}),m=H({mutationFn:async j=>(await A.post(`/api/users/${e}/ssh-keys`,j)).data,onSuccess:()=>{t.invalidateQueries(["ssh-keys",e]),n(!1),l(""),o(""),h("SSH key added successfully"),d(""),setTimeout(()=>h(""),3e3)},onError:j=>{var b,S;d(((S=(b=j.response)==null?void 0:b.data)==null?void 0:S.error)||"Failed to add SSH key")}}),p=H({mutationFn:async j=>{await A.delete(`/api/users/${e}/ssh-keys/${encodeURIComponent(j)}`)},onSuccess:()=>{t.invalidateQueries(["ssh-keys",e]),h("SSH key removed"),setTimeout(()=>h(""),3e3)},onError:j=>{var b,S;d(((S=(b=j.response)==null?void 0:b.data)==null?void 0:S.error)||"Failed to remove SSH key")}}),g=j=>{if(j.preventDefault(),d(""),!a.trim()){d("SSH key is required");return}if(!a.startsWith("ssh-")&&!a.startsWith("ecdsa-")&&!a.startsWith("sk-")){d("Invalid SSH key format. Key should start with ssh-rsa, ssh-ed25519, ecdsa-sha2-*, or similar.");return}m.mutate({key:a.trim(),name:i.trim()})},y=j=>{confirm("Are you sure you want to remove this SSH key?")&&p.mutate(j)},f=j=>{navigator.clipboard.writeText(j),h("Copied to clipboard"),setTimeout(()=>h(""),2e3)};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:`/users/${e}/edit`,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"SSH Keys"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Manage SSH keys for ",e]})]})]}),s.jsxs("button",{onClick:()=>n(!r),className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add SSH Key"]})]}),c&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),c]}),u&&s.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4 flex-shrink-0"}),u]}),r&&s.jsxs("div",{className:"card p-6 mb-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add New SSH Key"}),s.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"keyName",className:"block text-sm font-medium mb-1",children:"Key Name (optional)"}),s.jsx("input",{type:"text",id:"keyName",value:i,onChange:j=>o(j.target.value),className:"input",placeholder:"My Laptop, Work PC, etc."})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"sshKey",className:"block text-sm font-medium mb-1",children:["Public Key ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"sshKey",value:a,onChange:j=>l(j.target.value),className:"input min-h-[120px] font-mono text-sm",placeholder:"ssh-rsa AAAAB3NzaC1... or ssh-ed25519 AAAAC3...",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Paste your public SSH key here. Usually found in ~/.ssh/id_rsa.pub or ~/.ssh/id_ed25519.pub"})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx("button",{type:"submit",disabled:m.isPending,className:"btn btn-primary",children:m.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Adding..."]}):"Add Key"}),s.jsx("button",{type:"button",onClick:()=>{n(!1),l(""),o(""),d("")},className:"btn btn-secondary",children:"Cancel"})]})]})]}),s.jsx("div",{className:"card",children:v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x&&x.length>0?s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:x.map((j,b)=>s.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-border/50",children:s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsxs("div",{className:"flex items-start gap-3 min-w-0 flex-1",children:[s.jsx(Br,{className:"w-5 h-5 text-orange-500 mt-1 flex-shrink-0"}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-medium",children:j.ID||j.id||`Key ${b+1}`}),j.KEY&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mt-1",children:j.KEY}),j.MD5&&s.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted font-mono mt-1",children:["MD5: ",j.MD5]}),j.PUB&&s.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted font-mono mt-1 truncate",children:[j.PUB.substring(0,80),"..."]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[j.PUB&&s.jsx("button",{onClick:()=>f(j.PUB),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-gray-500",title:"Copy public key",children:s.jsx(iu,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>y(j.ID||j.id),className:"p-2 rounded-lg hover:bg-red-50 dark:hover:bg-red-900/20 text-red-500",title:"Remove key",children:s.jsx(Ge,{className:"w-4 h-4"})})]})]})},j.id||b))}):s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:[s.jsx(Br,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No SSH keys configured."}),s.jsx("p",{className:"text-sm mt-1",children:"Add an SSH key to enable passwordless login."})]})})]})}function wN(){var h,x;const{username:e}=St(),[t,r]=N.useState("history"),{data:n,isLoading:a,error:l,refetch:i,isFetching:o}=W({queryKey:["user-logs",e,t],queryFn:async()=>(await A.get(`/api/users/${e}/logs`,{params:{type:t}})).data.logs}),c=()=>{const v=Array.isArray(n)?n.map(y=>`${y.DATE} ${y.TIME} [${y.CATEGORY}] ${y.MESSAGE}`).join(`
`):n||"",m=new Blob([v],{type:"text/plain"}),p=URL.createObjectURL(m),g=document.createElement("a");g.href=p,g.download=`${e}-${t}.log`,g.click(),URL.revokeObjectURL(p)},d=v=>{switch(v==null?void 0:v.toLowerCase()){case"error":return"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400";case"warning":return"bg-yellow-100 text-yellow-700 dark:bg-yellow-900/30 dark:text-yellow-400";case"info":return"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400";default:return"bg-gray-100 text-gray-700 dark:bg-gray-900/30 dark:text-gray-400"}},u=v=>{switch(v==null?void 0:v.toLowerCase()){case"web":return"text-green-500";case"mail":return"text-blue-500";case"dns":return"text-purple-500";case"database":return"text-orange-500";case"security":return"text-red-500";case"backup":return"text-cyan-500";case"system":return"text-gray-500";default:return"text-gray-400"}};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:`/users/${e}/edit`,className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"User Logs"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Activity history for ",e]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>i(),disabled:o,className:"btn btn-secondary",children:[s.jsx(He,{className:`w-4 h-4 mr-2 ${o?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{onClick:c,disabled:!n||n.length===0,className:"btn btn-secondary",children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("label",{className:"text-sm font-medium",children:"Log Type:"}),s.jsxs("select",{value:t,onChange:v=>r(v.target.value),className:"input w-auto",children:[s.jsx("option",{value:"history",children:"Action History"}),s.jsx("option",{value:"login",children:"Login History"})]})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-200 dark:border-dark-border",children:[s.jsx(Gc,{className:"w-5 h-5 text-purple-500"}),s.jsx("span",{className:"font-medium",children:t==="history"?"Action History":"Login History"})]}),a?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l?s.jsxs("div",{className:"text-center py-12 text-red-500",children:["Failed to load logs. ",((x=(h=l.response)==null?void 0:h.data)==null?void 0:x.error)||""]}):Array.isArray(n)&&n.length>0?s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:n.map((v,m)=>s.jsx("div",{className:"p-4 hover:bg-gray-50 dark:hover:bg-dark-border/50",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(sl,{className:`w-5 h-5 mt-0.5 flex-shrink-0 ${u(v.CATEGORY)}`}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx("span",{className:`text-xs px-2 py-0.5 rounded ${d(v.LEVEL)}`,children:v.LEVEL}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:v.CATEGORY})]}),s.jsx("p",{className:"text-sm text-gray-800 dark:text-gray-200",children:v.MESSAGE}),s.jsxs("div",{className:"flex items-center gap-4 mt-2 text-xs text-gray-500 dark:text-dark-muted",children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Lf,{className:"w-3 h-3"}),v.DATE]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Hn,{className:"w-3 h-3"}),v.TIME]})]})]})]})},m))}):s.jsxs("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:[s.jsx(Gc,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No log entries found."})]})]})]})}function SN(){const[e,t]=N.useState(""),[r,n]=N.useState(null),[a,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=ce(),{data:c,isLoading:d,error:u}=W({queryKey:["web-domains"],queryFn:async()=>(await A.get("/api/web")).data.domains}),h=H({mutationFn:async({domain:b,suspend:S})=>{S?await A.post(`/api/web/${b}/suspend`):await A.post(`/api/web/${b}/unsuspend`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),x=H({mutationFn:async b=>{await A.delete(`/api/web/${b}`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),v=H({mutationFn:async({domain:b,enable:S})=>{S?await A.post(`/api/web/${b}/ssl`,{letsencrypt:!0}):await A.delete(`/api/web/${b}/ssl`)},onSuccess:()=>{o.invalidateQueries(["web-domains"])}}),m=b=>{if(r===b){n(null);return}const S=i.current[b];if(S){const w=S.getBoundingClientRect();l({top:w.bottom+4,right:window.innerWidth-w.right})}n(b)},p=b=>{confirm(`Are you sure you want to delete domain "${b}"? This cannot be undone.`)&&x.mutate(b),n(null)},g=(b,S)=>{h.mutate({domain:b,suspend:!S}),n(null)},y=(b,S)=>{v.mutate({domain:b,enable:!S}),n(null)},f=(c==null?void 0:c.filter(b=>{var S;return b.domain.toLowerCase().includes(e.toLowerCase())||((S=b.ALIAS)==null?void 0:S.toLowerCase().includes(e.toLowerCase()))}))||[],j=b=>{if(!b||b==="0")return"0 MB";const S=parseFloat(b);return S>=1024?`${(S/1024).toFixed(1)} GB`:`${S} MB`};return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load web domains. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Web Domains"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your websites and domains"})]}),s.jsxs(I,{to:"/web/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Web Domain"]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search domains...",value:e,onChange:b=>t(b.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Domain"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Disk"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Bandwidth"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"SSL"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:f.map(b=>{var D;const S=((D=b.ALIAS)==null?void 0:D.split(",").filter(_=>_&&_!==`www.${b.domain}`))||[],w=b.SUSPENDED==="yes",k=b.SSL==="yes";return s.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${w?"opacity-60":""}`,children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{children:[s.jsxs("a",{href:`http${k?"s":""}://${b.domain}`,target:"_blank",rel:"noopener noreferrer",className:"font-medium text-primary-600 hover:text-primary-700 dark:text-primary-400 hover:underline flex items-center gap-1",children:[b.domain,s.jsx(Wc,{className:"w-3 h-3"})]}),S.length>0&&s.jsxs("p",{className:"text-xs text-gray-400 dark:text-dark-muted mt-1 truncate max-w-xs",children:[S.slice(0,2).join(", "),S.length>2&&` +${S.length-2} more`]})]})}),s.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:b.IP}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[s.jsx(jt,{className:"w-4 h-4"}),j(b.U_DISK)]})}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[s.jsx(sl,{className:"w-4 h-4"}),j(b.U_BANDWIDTH)]})}),s.jsx("td",{className:"px-4 py-4 text-center",children:k?s.jsx("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400",title:"SSL Enabled",children:s.jsx(rN,{className:"w-5 h-5"})}):s.jsx("span",{className:"inline-flex items-center gap-1 text-gray-400",title:"SSL Disabled",children:s.jsx(nN,{className:"w-5 h-5"})})}),s.jsx("td",{className:"px-4 py-4 text-center",children:w?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{ref:_=>i.current[b.domain]=_,onClick:()=>m(b.domain),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-5 h-5"})})})]},b.domain)})})]}),f.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No domains found matching your search.":"No web domains yet. Add your first domain to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[f.length," ",f.length===1?"domain":"domains"]}),r&&Ii.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(null)}),s.jsx("div",{className:"fixed w-52 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:a.top,right:a.right},children:(()=>{const b=f.find(k=>k.domain===r);if(!b)return null;const S=b.SUSPENDED==="yes",w=b.SSL==="yes";return s.jsxs(s.Fragment,{children:[s.jsxs("a",{href:`http${w?"s":""}://${r}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(Wc,{className:"w-4 h-4 text-blue-500"}),"Visit Site"]}),!S&&s.jsxs(s.Fragment,{children:[s.jsxs(I,{to:`/web/${r}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(lr,{className:"w-4 h-4 text-orange-500"}),"Edit Domain"]}),s.jsx("button",{onClick:()=>y(r,w),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:w?s.jsxs(s.Fragment,{children:[s.jsx(oN,{className:"w-4 h-4 text-gray-500"}),"Disable SSL"]}):s.jsxs(s.Fragment,{children:[s.jsx(If,{className:"w-4 h-4 text-green-500"}),"Enable SSL"]})}),b.STATS&&b.STATS!=="no"&&s.jsxs("a",{href:`http://${r}/vstats/`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(_f,{className:"w-4 h-4 text-purple-500"}),"View Statistics"]}),s.jsxs(I,{to:`/web/${r}/logs`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(Kt,{className:"w-4 h-4 text-purple-500"}),"View Logs"]})]}),s.jsx("button",{onClick:()=>g(r,S),className:"w-full flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",children:S?s.jsxs(s.Fragment,{children:[s.jsx(Vi,{className:"w-4 h-4 text-green-500"}),"Unsuspend"]}):s.jsxs(s.Fragment,{children:[s.jsx(ji,{className:"w-4 h-4 text-orange-500"}),"Suspend"]})}),s.jsxs("button",{onClick:()=>p(r),className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(Ge,{className:"w-4 h-4"}),"Delete"]})]})})()})]}),document.body)]})}function CN(){var h;const e=oe(),t=ce(),[r,n]=N.useState(!1),[a,l]=N.useState(""),[i,o]=N.useState({domain:"",ip:"",aliases:"",proxySupport:!0,proxyExtensions:"jpg,jpeg,gif,png,ico,svg,css,zip,tgz,gz,rar,bz2,doc,xls,exe,pdf,ppt,txt,odt,ods,odp,odf,tar,wav,bmp,rtf,js,mp3,avi,mpeg,flv,woff,woff2",enableSSL:!1}),{data:c}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data}),d=H({mutationFn:async x=>(await A.post("/api/web",x)).data,onSuccess:async(x,v)=>{if(i.enableSSL)try{await A.post(`/api/web/${v.domain}/ssl`,{letsencrypt:!0})}catch(m){console.warn("Failed to enable SSL:",m)}t.invalidateQueries(["web-domains"]),e("/web")},onError:x=>{var v,m;l(((m=(v=x.response)==null?void 0:v.data)==null?void 0:m.error)||"Failed to create domain")}}),u=x=>{if(x.preventDefault(),l(""),!i.domain){l("Domain is required");return}const v=i.aliases.split(/[\n\r,]+/).map(m=>m.trim()).filter(m=>m).join(",");d.mutate({domain:i.domain.toLowerCase().trim(),ip:i.ip,aliases:v,proxySupport:i.proxySupport?"yes":"no",proxyExtensions:i.proxyExtensions})};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add Web Domain"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new website"})]})]}),s.jsxs("div",{className:"card p-6",children:[a&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),a]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:["Domain ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"domain",value:i.domain,onChange:x=>o({...i,domain:x.target.value}),className:"input",placeholder:"example.com",required:!0}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:["www.",i.domain||"example.com"," will be added automatically as an alias"]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),s.jsxs("select",{id:"ip",value:i.ip,onChange:x=>o({...i,ip:x.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"* (All IP Addresses)"}),(h=c==null?void 0:c.ips)==null?void 0:h.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"aliases",className:"block text-sm font-medium mb-1",children:"Additional Aliases"}),s.jsx("textarea",{id:"aliases",value:i.aliases,onChange:x=>o({...i,aliases:x.target.value}),className:"input min-h-[80px]",placeholder:`alias1.com
alias2.com
alias3.com`,rows:3}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"One alias per line, or comma-separated"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:i.enableSSL,onChange:x=>o({...i,enableSSL:x.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable SSL with Let's Encrypt"})]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1 ml-6",children:"Automatically obtain and install a free SSL certificate"})]}),s.jsx("div",{className:"pt-2",children:s.jsxs("button",{type:"button",onClick:()=>n(!r),className:"btn btn-secondary w-full justify-between",children:[s.jsx("span",{children:"Advanced Options"}),r?s.jsx(Mn,{className:"w-4 h-4"}):s.jsx(Ns,{className:"w-4 h-4"})]})}),r&&s.jsxs("div",{className:"space-y-4 p-4 bg-gray-50 dark:bg-dark-border/30 rounded-lg",children:[s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:i.proxySupport,onChange:x=>o({...i,proxySupport:x.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable Proxy Support (Nginx)"})]})}),i.proxySupport&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"proxyExtensions",className:"block text-sm font-medium mb-1",children:"Proxy Extensions"}),s.jsx("input",{type:"text",id:"proxyExtensions",value:i.proxyExtensions,onChange:x=>o({...i,proxyExtensions:x.target.value}),className:"input text-sm"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"File extensions to be served directly by Nginx"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary flex-1",children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Creating..."]}):"Create Domain"}),s.jsx(I,{to:"/web",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function EN(){var te,ne,fe,Z;const{domain:e}=St(),t=ce(),[r,n]=N.useState(!1),[a,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState(!1),[u,h]=N.useState("tpl"),[x,v]=N.useState({name:"",tpl:"",stpl:""}),[m,p]=N.useState(!1),[g,y]=N.useState(""),[f,j]=N.useState({ip:"",aliases:"",stats:"none",redirectEnabled:!1,redirectType:"www",redirectCustom:"",sslEnabled:!1,webTemplate:"default",backendTemplate:"default",fastcgiCache:!1,customDocRoot:!1,docRoot:""}),{data:b,isLoading:S}=W({queryKey:["web-domain",e],queryFn:async()=>(await A.get(`/api/web/${e}`)).data.domain}),{data:w}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data});N.useEffect(()=>{if(b){const F=b.ALIAS||`www.${e}`;j({ip:b.IP||"",aliases:F,stats:b.STATS||"none",redirectEnabled:b.REDIRECT==="yes",redirectType:b.REDIRECT_CODE==="301"?"www":"nowww",redirectCustom:b.REDIRECT_URL||"",sslEnabled:b.SSL==="yes",webTemplate:b.TPL||"default",backendTemplate:b.BACKEND||"default",fastcgiCache:b.FASTCGI_CACHE==="yes",customDocRoot:!!b.CUSTOM_DOCROOT,docRoot:b.CUSTOM_DOCROOT||""})}},[b,e]);const k=H({mutationFn:async F=>(await A.put(`/api/web/${e}`,F)).data,onSuccess:()=>{o("Domain updated successfully"),l(""),t.invalidateQueries(["web-domain",e]),t.invalidateQueries(["web-domains"]),setTimeout(()=>o(""),3e3)},onError:F=>{var R,M;l(((M=(R=F.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to update domain"),o("")}}),D=H({mutationFn:async F=>{F?await A.post(`/api/web/${e}/ssl`,{letsencrypt:!0}):await A.delete(`/api/web/${e}/ssl`)},onSuccess:()=>{t.invalidateQueries(["web-domain",e]),t.invalidateQueries(["web-domains"]),o("SSL settings updated"),j(F=>({...F,sslEnabled:!F.sslEnabled})),setTimeout(()=>o(""),3e3)},onError:F=>{var R,M;l(((M=(R=F.response)==null?void 0:R.data)==null?void 0:M.error)||"Failed to update SSL")}}),_=async()=>{const F=f.webTemplate;if(F){y(""),p(!0),d(!0),h("tpl");try{const R=await A.get(`/api/system/templates/${F}`);v({name:`${F}-custom`,tpl:R.data.tpl||"",stpl:R.data.stpl||""})}catch{y("Failed to load template content")}finally{p(!1)}}},P=async()=>{var F,R;if(!x.name){y("Template name is required");return}y(""),p(!0);try{await A.post("/api/system/templates",x),d(!1),t.invalidateQueries(["system-info"]),o(`Template "${x.name}" created successfully`),setTimeout(()=>o(""),3e3)}catch(M){y(((R=(F=M.response)==null?void 0:F.data)==null?void 0:R.error)||"Failed to create template")}finally{p(!1)}},E=F=>{F.preventDefault(),l(""),o(""),k.mutate({ip:f.ip,aliases:f.aliases,stats:f.stats,redirect:f.redirectEnabled?"yes":"no",redirectType:f.redirectType,redirectCustom:f.redirectCustom,webTemplate:f.webTemplate,backendTemplate:f.backendTemplate,fastcgiCache:f.fastcgiCache?"yes":"no",customDocRoot:f.customDocRoot?f.docRoot:""})};if(S)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(!b)return s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Domain not found."});const q=b.SSL==="yes";return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsx("div",{children:s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Web Domain"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{to:`/web/${e}/quick-install`,className:"btn btn-secondary",children:[s.jsx(uN,{className:"w-4 h-4 mr-2"}),"Quick Install App"]}),s.jsx("button",{type:"submit",form:"webEditForm",disabled:k.isPending,className:"btn btn-primary",children:k.isPending?"Saving...":"Save"})]})]}),a&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),a]}),i&&s.jsxs("div",{className:"mb-6 p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg flex items-center gap-2 text-green-700 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4 flex-shrink-0"}),i]}),s.jsx("div",{className:"card p-6",children:s.jsxs("form",{id:"webEditForm",onSubmit:E,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),s.jsx("input",{type:"text",value:e,className:"input bg-gray-100 dark:bg-dark-border",disabled:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"aliases",className:"block text-sm font-medium mb-1",children:"Aliases"}),s.jsx("textarea",{id:"aliases",value:f.aliases,onChange:F=>j({...f,aliases:F.target.value}),className:"input min-h-[80px]",placeholder:`www.${e}`})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),s.jsxs("select",{id:"ip",value:f.ip,onChange:F=>j({...f,ip:F.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"* (All IP Addresses)"}),(te=w==null?void 0:w.ips)==null?void 0:te.map(F=>s.jsx("option",{value:F,children:F},F))]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"stats",className:"block text-sm font-medium mb-1",children:"Web Statistics"}),s.jsx("select",{id:"stats",value:f.stats,onChange:F=>j({...f,stats:F.target.value}),className:"input",children:((ne=w==null?void 0:w.webStats)==null?void 0:ne.map(F=>s.jsx("option",{value:F,children:F},F)))||s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"none",children:"none"}),s.jsx("option",{value:"awstats",children:"awstats"}),s.jsx("option",{value:"webalizer",children:"webalizer"})]})})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.redirectEnabled,onChange:F=>j({...f,redirectEnabled:F.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable domain redirection"})]}),f.redirectEnabled&&s.jsxs("div",{className:"ml-6 space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"redirectType",checked:f.redirectType==="www",onChange:()=>j({...f,redirectType:"www"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsxs("span",{className:"text-sm",children:["Redirect visitors to www.",e]})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"redirectType",checked:f.redirectType==="nowww",onChange:()=>j({...f,redirectType:"nowww"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsxs("span",{className:"text-sm",children:["Redirect visitors to ",e]})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"radio",name:"redirectType",checked:f.redirectType==="custom",onChange:()=>j({...f,redirectType:"custom"}),className:"w-4 h-4 border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Redirect visitors to a custom domain or web address"})]}),f.redirectType==="custom"&&s.jsx("input",{type:"text",value:f.redirectCustom,onChange:F=>j({...f,redirectCustom:F.target.value}),className:"input ml-6",placeholder:"https://example.com"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.sslEnabled,onChange:()=>D.mutate(!f.sslEnabled),disabled:D.isPending,className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable SSL for this domain"}),D.isPending&&s.jsx("div",{className:"w-4 h-4 border-2 border-primary-600/30 border-t-primary-600 rounded-full animate-spin"})]}),q&&b.LETSENCRYPT==="yes"&&s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted ml-6",children:"Using Let's Encrypt certificate"})]}),s.jsx("div",{className:"pt-2",children:s.jsx("button",{type:"button",onClick:()=>n(!r),className:"btn btn-secondary w-full justify-center",children:"Advanced Options"})}),r&&s.jsxs("div",{className:"space-y-6 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"webTemplate",className:"block text-sm font-medium mb-1",children:["Web Template ",s.jsx("span",{className:"text-gray-400 text-xs",children:"NGINX"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("select",{id:"webTemplate",value:f.webTemplate,onChange:F=>j({...f,webTemplate:F.target.value}),className:"input flex-1",children:((fe=w==null?void 0:w.webTemplates)==null?void 0:fe.map(F=>s.jsx("option",{value:F,children:F},F)))||s.jsx("option",{value:"default",children:"default"})}),s.jsx("button",{type:"button",onClick:_,className:"btn btn-secondary",title:"Clone template",children:s.jsx(iu,{className:"w-4 h-4"})})]})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.fastcgiCache,onChange:F=>j({...f,fastcgiCache:F.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable FastCGI cache"}),s.jsx("span",{className:"text-xs text-gray-400",title:"Improves performance by caching PHP responses",children:"?"})]})}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"backendTemplate",className:"block text-sm font-medium mb-1",children:["Backend Template ",s.jsx("span",{className:"text-gray-400 text-xs",children:"PHP-FPM"})]}),s.jsx("select",{id:"backendTemplate",value:f.backendTemplate,onChange:F=>j({...f,backendTemplate:F.target.value}),className:"input",children:((Z=w==null?void 0:w.backendTemplates)==null?void 0:Z.map(F=>s.jsx("option",{value:F,children:F},F)))||s.jsx("option",{value:"default",children:"default"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:f.customDocRoot,onChange:F=>j({...f,customDocRoot:F.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Custom document root"})]}),f.customDocRoot&&s.jsx("input",{type:"text",value:f.docRoot,onChange:F=>j({...f,docRoot:F.target.value}),className:"input ml-6",placeholder:"/public"})]})]})]})}),c&&s.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center",children:[s.jsx("div",{className:"absolute inset-0 bg-black/50",onClick:()=>d(!1)}),s.jsxs("div",{className:"relative bg-white dark:bg-dark-card rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] flex flex-col mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Clone Template"}),s.jsx("button",{onClick:()=>d(!1),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(At,{className:"w-5 h-5"})})]}),s.jsxs("div",{className:"flex-1 overflow-auto p-6",children:[g&&s.jsxs("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),g]}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["New Template Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:x.name,onChange:F=>v({...x,name:F.target.value}),className:"input",placeholder:"my-custom-template"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted mt-1",children:"Use only letters, numbers, dashes, and underscores"})]}),s.jsxs("div",{className:"flex border-b border-gray-200 dark:border-dark-border mb-4",children:[s.jsx("button",{type:"button",onClick:()=>h("tpl"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${u==="tpl"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"HTTP (.tpl)"}),s.jsx("button",{type:"button",onClick:()=>h("stpl"),className:`px-4 py-2 text-sm font-medium border-b-2 -mb-px ${u==="stpl"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700"}`,children:"HTTPS/SSL (.stpl)"})]}),m?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsx("textarea",{value:u==="tpl"?x.tpl:x.stpl,onChange:F=>v({...x,[u]:F.target.value}),className:"input font-mono text-sm min-h-[400px]",placeholder:`Enter ${u==="tpl"?"HTTP":"HTTPS"} template content...`})]}),s.jsxs("div",{className:"flex justify-end gap-3 px-6 py-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsx("button",{type:"button",onClick:()=>d(!1),className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{type:"button",onClick:P,disabled:m,className:"btn btn-primary",children:m?"Saving...":"Create Template"})]})]})]})]})}function PN(){var h,x;const{domain:e}=St(),[t,r]=N.useState("access"),[n,a]=N.useState(100),{data:l,isLoading:i,error:o,refetch:c,isFetching:d}=W({queryKey:["web-logs",e,t,n],queryFn:async()=>(await A.get(`/api/web/${e}/logs`,{params:{type:t,lines:n}})).data.logs}),u=()=>{const v=new Blob([l||""],{type:"text/plain"}),m=URL.createObjectURL(v),p=document.createElement("a");p.href=m,p.download=`${e}-${t}.log`,p.click(),URL.revokeObjectURL(m)};return s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:"/web",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Web Logs"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["View logs for ",e]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>c(),disabled:d,className:"btn btn-secondary",children:[s.jsx(He,{className:`w-4 h-4 mr-2 ${d?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{onClick:u,disabled:!l,className:"btn btn-secondary",children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),"Download"]})]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Log Type:"}),s.jsxs("select",{value:t,onChange:v=>r(v.target.value),className:"input w-auto",children:[s.jsx("option",{value:"access",children:"Access Log"}),s.jsx("option",{value:"error",children:"Error Log"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("label",{className:"text-sm font-medium",children:"Lines:"}),s.jsxs("select",{value:n,onChange:v=>a(parseInt(v.target.value)),className:"input w-auto",children:[s.jsx("option",{value:50,children:"50"}),s.jsx("option",{value:100,children:"100"}),s.jsx("option",{value:200,children:"200"}),s.jsx("option",{value:500,children:"500"}),s.jsx("option",{value:1e3,children:"1000"})]})]})]})}),s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"flex items-center gap-2 px-4 py-3 border-b border-gray-200 dark:border-dark-border",children:[t==="access"?s.jsx(Ua,{className:"w-5 h-5 text-blue-500"}):s.jsx(yi,{className:"w-5 h-5 text-orange-500"}),s.jsx("span",{className:"font-medium",children:t==="access"?"Access Log":"Error Log"})]}),s.jsx("div",{className:"p-4 overflow-x-auto",children:i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?s.jsxs("div",{className:"text-center py-12 text-red-500",children:["Failed to load logs. ",((x=(h=o.response)==null?void 0:h.data)==null?void 0:x.error)||""]}):l?s.jsx("pre",{className:"text-xs font-mono text-gray-700 dark:text-gray-300 whitespace-pre-wrap break-all",children:l}):s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No log entries found."})})]})]})}function DN(){const[e,t]=N.useState(""),[r,n]=N.useState([]),a=ce(),{data:l,isLoading:i,error:o}=W({queryKey:["dns-domains"],queryFn:async()=>(await A.get("/api/dns")).data.zones||[]}),c=H({mutationFn:async({domain:p,suspend:g})=>{g?await A.post(`/api/dns/${p}/suspend`):await A.post(`/api/dns/${p}/unsuspend`)},onSuccess:()=>{a.invalidateQueries(["dns-domains"]),$.success("DNS zone updated")},onError:p=>{var g,y;$.error(((y=(g=p.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to update DNS zone")}}),d=H({mutationFn:async p=>{await A.delete(`/api/dns/${p}`)},onSuccess:()=>{a.invalidateQueries(["dns-domains"]),$.success("DNS zone deleted")},onError:p=>{var g,y;$.error(((y=(g=p.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to delete DNS zone")}}),u=p=>{confirm(`Are you sure you want to delete DNS zone "${p}"?`)&&d.mutate(p)},h=(p,g)=>{c.mutate({domain:p,suspend:!g})},x=p=>{n(p?m.map(g=>g.domain):[])},v=(p,g)=>{n(g?[...r,p]:r.filter(y=>y!==p))},m=(l==null?void 0:l.filter(p=>{var g;return(g=p.domain)==null?void 0:g.toLowerCase().includes(e.toLowerCase())}))||[];return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load DNS domains. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"DNS Zones"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your DNS zones and records"})]}),s.jsxs(I,{to:"/dns/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add DNS Zone"]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search DNS zones...",value:e,onChange:p=>t(p.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider w-8",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:r.length===m.length&&m.length>0,onChange:p=>x(p.target.checked)})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Name"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Records"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Template"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"TTL"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"SOA"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"DNSSEC"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Expiration Date"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:m.map(p=>{const g=p.SUSPENDED==="yes";return s.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${g?"opacity-60":""}`,children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:r.includes(p.domain),onChange:y=>v(p.domain,y.target.checked)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{to:`/dns/${p.domain}`,className:"text-primary-600 hover:text-primary-700 font-medium",children:p.domain}),s.jsxs("div",{className:"flex items-center gap-1 ml-2",children:[s.jsx(I,{to:`/dns/${p.domain}/add-record`,className:"p-1.5 rounded hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600",title:"Add Record",children:s.jsx($f,{className:"w-4 h-4"})}),s.jsx(I,{to:`/dns/${p.domain}/edit`,className:"p-1.5 rounded hover:bg-orange-100 dark:hover:bg-orange-900/30 text-orange-500",title:"Edit",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx(I,{to:`/dns/${p.domain}`,className:"p-1.5 rounded hover:bg-blue-100 dark:hover:bg-blue-900/30 text-blue-500",title:"List Records",children:s.jsx(vi,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>h(p.domain,g),className:`p-1.5 rounded ${g?"hover:bg-green-100 dark:hover:bg-green-900/30 text-green-600":"hover:bg-yellow-100 dark:hover:bg-yellow-900/30 text-yellow-600"}`,title:g?"Unsuspend":"Suspend",children:g?s.jsx(Vi,{className:"w-4 h-4"}):s.jsx(ji,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>u(p.domain),className:"p-1.5 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500",title:"Delete",children:s.jsx(Ge,{className:"w-4 h-4"})})]})]})}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.RECORDS||0}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TPL||"default"}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TTL||"14400"}),s.jsx("td",{className:"px-4 py-3 text-center text-sm text-primary-600",children:p.SOA||"-"}),s.jsx("td",{className:"px-4 py-3 text-center",children:p.DNSSEC==="yes"?s.jsx("span",{className:"text-green-500",children:""}):s.jsx("span",{className:"text-red-500",children:""})}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.EXP||"-"})]},p.domain)})})]}),m.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No DNS zones found matching your search.":"No DNS zones yet. Add your first zone to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[m.length," ",m.length===1?"zone":"zones"]})]})}function TN(){var p;const e=oe(),[t,r]=N.useState(""),[n,a]=N.useState(!1),[l,i]=N.useState({domain:"",ip:"",template:"default",exp:o(),ttl:"14400",nameservers:["ns1.","ns2."]});function o(){const g=new Date;return g.setFullYear(g.getFullYear()+1),g.toISOString().split("T")[0]}const{data:c}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data});N.useEffect(()=>{var g;((g=c==null?void 0:c.ips)==null?void 0:g.length)>0&&!l.ip&&i(y=>({...y,ip:c.ips[0]}))},[c]);const d=H({mutationFn:async g=>{await A.post("/api/dns",g)},onSuccess:()=>{e("/dns")},onError:g=>{var y,f;r(((f=(y=g.response)==null?void 0:y.data)==null?void 0:f.error)||"Failed to create DNS zone")}}),u=g=>{if(g.preventDefault(),r(""),!l.domain){r("Domain is required");return}d.mutate({domain:l.domain.toLowerCase().trim(),ip:l.ip,template:l.template,exp:l.exp,ttl:l.ttl,ns1:l.nameservers[0]||"",ns2:l.nameservers[1]||"",ns3:l.nameservers[2]||"",ns4:l.nameservers[3]||""})},h=()=>{l.nameservers.length<8&&i({...l,nameservers:[...l.nameservers,""]})},x=g=>{if(l.nameservers.length>2){const y=l.nameservers.filter((f,j)=>j!==g);i({...l,nameservers:y})}},v=(g,y)=>{const f=[...l.nameservers];f[g]=y,i({...l,nameservers:f})},m=g=>{const y=g.toLowerCase().trim();i(f=>({...f,domain:y,nameservers:f.nameservers.map((j,b)=>{const S=j.split(".")[0]||`ns${b+1}`;return y?`${S}.${y}`:`${S}.`})}))};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsx("div",{className:"flex items-center gap-4",children:s.jsxs(I,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]})}),s.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-1"}),"Save"]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h1",{className:"text-xl font-bold mb-6",children:"Add DNS Zone"}),t&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),t]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:"Domain"}),s.jsx("input",{type:"text",id:"domain",value:l.domain,onChange:g=>m(g.target.value),className:"input",placeholder:"example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),s.jsxs("select",{id:"ip",value:l.ip,onChange:g=>i({...l,ip:g.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"Select IP address"}),(p=c==null?void 0:c.ips)==null?void 0:p.map(g=>s.jsx("option",{value:g,children:g},g))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"template",className:"block text-sm font-medium mb-1",children:["Template ",s.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"BIND9"})]}),s.jsx("select",{id:"template",value:l.template,onChange:g=>i({...l,template:g.target.value}),className:"input",children:((c==null?void 0:c.dnsTemplates)||["default","child-ns","default-nomail","gmail","office365","zoho"]).map(g=>s.jsx("option",{value:g,children:g},g))})]}),s.jsx("div",{children:s.jsxs("button",{type:"button",onClick:()=>a(!n),className:"flex items-center gap-2 px-3 py-2 text-sm font-medium bg-gray-100 dark:bg-dark-border rounded-lg hover:bg-gray-200 dark:hover:bg-dark-border/80",children:[n?s.jsx(Mn,{className:"w-4 h-4"}):s.jsx(Ns,{className:"w-4 h-4"}),"Advanced Options"]})}),n&&s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"exp",className:"block text-sm font-medium mb-1",children:["Expiration Date ",s.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(YYYY-MM-DD)"})]}),s.jsx("input",{type:"date",id:"exp",value:l.exp,onChange:g=>i({...l,exp:g.target.value}),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:"TTL"}),s.jsx("input",{type:"text",id:"ttl",value:l.ttl,onChange:g=>i({...l,ttl:g.target.value}),className:"input",placeholder:"14400"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name Servers"}),s.jsx("div",{className:"space-y-2",children:l.nameservers.map((g,y)=>s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:g,onChange:f=>v(y,f.target.value),className:"input flex-1",placeholder:`ns${y+1}.example.com`}),l.nameservers.length>2&&s.jsx("button",{type:"button",onClick:()=>x(y),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg",children:s.jsx(At,{className:"w-4 h-4"})})]},y))}),l.nameservers.length<8&&s.jsxs("button",{type:"button",onClick:h,className:"mt-2 text-sm text-primary-600 hover:text-primary-700 flex items-center gap-1",children:[s.jsx(Ne,{className:"w-4 h-4"}),"Add Name Server"]})]})]})]})]})]})}function RN(){const{domain:e}=St(),[t,r]=N.useState(""),[n,a]=N.useState([]),l=ce(),{data:i,isLoading:o,error:c}=W({queryKey:["dns-records",e],queryFn:async()=>(await A.get(`/api/dns/${e}`)).data}),d=H({mutationFn:async p=>{await A.delete(`/api/dns/${e}/records/${p}`)},onSuccess:()=>{l.invalidateQueries(["dns-records",e]),$.success("Record deleted")},onError:p=>{var g,y;$.error(((y=(g=p.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to delete record")}}),u=(p,g)=>{confirm(`Are you sure you want to delete record "${g}"?`)&&d.mutate(p)},h=p=>{a(p?m.map(g=>g.id):[])},x=(p,g)=>{a(g?[...n,p]:n.filter(y=>y!==p))},m=((i==null?void 0:i.records)||[]).filter(p=>{var g,y,f;return((g=p.RECORD)==null?void 0:g.toLowerCase().includes(t.toLowerCase()))||((y=p.VALUE)==null?void 0:y.toLowerCase().includes(t.toLowerCase()))||((f=p.TYPE)==null?void 0:f.toLowerCase().includes(t.toLowerCase()))});return o?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load DNS records. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs(I,{to:`/dns/${e}/add-record`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx($f,{className:"w-4 h-4 mr-1 text-green-500"}),"Add Record"]}),s.jsxs(I,{to:`/dns/${e}/edit`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(lr,{className:"w-4 h-4 mr-1 text-blue-500"}),"Edit DNS Domain"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("span",{className:"text-sm text-gray-500",children:["Sort by: ",s.jsx("strong",{children:"Record"})]}),s.jsxs("select",{className:"input py-1 text-sm w-40",children:[s.jsx("option",{children:"Apply to selected"}),s.jsx("option",{value:"suspend",children:"Suspend"}),s.jsx("option",{value:"unsuspend",children:"Unsuspend"}),s.jsx("option",{value:"delete",children:"Delete"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search...",value:t,onChange:p=>r(p.target.value),className:"input py-1 pl-8 text-sm w-40"})]})]})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left w-8",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:n.length===m.length&&m.length>0,onChange:p=>h(p.target.checked)})}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Record"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Priority"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"TTL"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"IP or Value"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:m.map(p=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-3",children:s.jsx("input",{type:"checkbox",className:"rounded",checked:n.includes(p.id),onChange:g=>x(p.id,g.target.checked)})}),s.jsx("td",{className:"px-4 py-3",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(I,{to:`/dns/${e}/edit-record/${p.id}`,className:"text-primary-600 hover:text-primary-700 font-medium",children:p.RECORD}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(I,{to:`/dns/${e}/edit-record/${p.id}`,className:"p-1 rounded hover:bg-orange-100 dark:hover:bg-orange-900/30 text-orange-500",title:"Edit Record",children:s.jsx(lr,{className:"w-3.5 h-3.5"})}),s.jsx("button",{onClick:()=>u(p.id,p.RECORD),className:"p-1 rounded hover:bg-red-100 dark:hover:bg-red-900/30 text-red-500",title:"Delete",children:s.jsx(Ge,{className:"w-3.5 h-3.5"})})]})]})}),s.jsx("td",{className:"px-4 py-3 text-center text-sm font-medium",children:p.TYPE}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.PRIORITY||""}),s.jsx("td",{className:"px-4 py-3 text-center text-sm",children:p.TTL||"14400"}),s.jsx("td",{className:"px-4 py-3 text-sm text-primary-600 break-all max-w-xs",children:p.VALUE})]},p.id))})]}),m.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:t?"No records found matching your search.":"No DNS records yet."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[m.length," DNS ",m.length===1?"record":"records"]})]})}const AN=["A","AAAA","CAA","CNAME","DNSKEY","DS","IPSECKEY","KEY","MX","NS","PTR","SPF","SRV","TLSA","TXT"];function FN(){var u;const{domain:e}=St(),t=oe(),[r,n]=N.useState(""),[a,l]=N.useState({record:"@",type:"A",value:"",priority:"",ttl:""}),{data:i}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data});N.useEffect(()=>{var h;((h=i==null?void 0:i.ips)==null?void 0:h.length)>0&&!a.value&&a.type==="A"&&l(x=>({...x,value:i.ips[0]}))},[i]);const o=H({mutationFn:async h=>{await A.post(`/api/dns/${e}/records`,h)},onSuccess:()=>{$.success("Record created successfully"),t(`/dns/${e}`)},onError:h=>{var x,v;n(((v=(x=h.response)==null?void 0:x.data)==null?void 0:v.error)||"Failed to create record")}}),c=h=>{if(h==null||h.preventDefault(),n(""),!a.record){n("Record is required");return}if(!a.value){n("IP or Value is required");return}o.mutate({record:a.record,type:a.type,value:a.value,priority:a.priority||void 0,ttl:a.ttl||void 0})},d=()=>a.record==="@"?e:`${a.record}.${e}`;return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(I,{to:`/dns/${e}`,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("button",{onClick:c,disabled:o.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[o.isPending?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-1"}),"Save"]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h1",{className:"text-xl font-bold mb-6",children:"Add DNS Record"}),r&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),r]}),s.jsxs("form",{onSubmit:c,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),s.jsx("input",{type:"text",value:e,disabled:!0,className:"input bg-gray-100 dark:bg-dark-border"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"record",className:"block text-sm font-medium mb-1",children:"Record"}),s.jsx("input",{type:"text",id:"record",value:a.record,onChange:h=>l({...a,record:h.target.value}),className:"input",placeholder:"@"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:d()})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-1",children:"Type"}),s.jsx("select",{id:"type",value:a.type,onChange:h=>l({...a,type:h.target.value}),className:"input",children:AN.map(h=>s.jsx("option",{value:h,children:h},h))})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"value",className:"block text-sm font-medium mb-1",children:"IP or Value"}),s.jsxs("div",{className:"relative",children:[(a.type==="A"||a.type==="AAAA")&&((u=i==null?void 0:i.ips)==null?void 0:u.length)>0&&s.jsxs("select",{className:"absolute inset-y-0 left-0 w-full opacity-0 cursor-pointer",onChange:h=>h.target.value&&l({...a,value:h.target.value}),value:"",children:[s.jsx("option",{value:"",children:"Select IP..."}),i.ips.map(h=>s.jsx("option",{value:h,children:h},h))]}),s.jsx("input",{type:"text",id:"value",value:a.value,onChange:h=>l({...a,value:h.target.value}),className:"input",placeholder:a.type==="A"?"192.168.1.1":"Value",required:!0})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium mb-1",children:["Priority ",s.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),s.jsx("input",{type:"text",id:"priority",value:a.priority,onChange:h=>l({...a,priority:h.target.value}),className:"input",placeholder:"10"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:["TTL ",s.jsx("span",{className:"text-gray-400 text-xs font-normal",children:"(Optional)"})]}),s.jsx("input",{type:"text",id:"ttl",value:a.ttl,onChange:h=>l({...a,ttl:h.target.value}),className:"input",placeholder:"14400"})]})]})]})]})}function MN(){var h;const{domain:e}=St(),t=oe(),[r,n]=N.useState(""),[a,l]=N.useState({ip:"",template:"default",exp:"",soa:"",ttl:"14400"}),{data:i}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data}),{data:o,isLoading:c}=W({queryKey:["dns-zone",e],queryFn:async()=>(await A.get(`/api/dns/${e}`)).data});N.useEffect(()=>{o&&l({ip:o.IP||"",template:o.TPL||"default",exp:o.EXP||"",soa:o.SOA||"",ttl:o.TTL||"14400"})},[o]);const d=H({mutationFn:async x=>{await A.put(`/api/dns/${e}`,x)},onSuccess:()=>{$.success("DNS zone updated successfully"),t("/dns")},onError:x=>{var v,m;n(((m=(v=x.response)==null?void 0:v.data)==null?void 0:m.error)||"Failed to update DNS zone")}}),u=x=>{x==null||x.preventDefault(),n(""),d.mutate({ip:a.ip,template:a.template,exp:a.exp,ttl:a.ttl,soa:a.soa})};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(I,{to:"/dns",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-1"}),"Save"]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h1",{className:"text-xl font-bold mb-6",children:"Edit DNS Domain"}),r&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),r]}),s.jsxs("form",{onSubmit:u,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Domain"}),s.jsx("input",{type:"text",value:e,disabled:!0,className:"input bg-gray-100 dark:bg-dark-border"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ip",className:"block text-sm font-medium mb-1",children:"IP Address"}),s.jsxs("select",{id:"ip",value:a.ip,onChange:x=>l({...a,ip:x.target.value}),className:"input",children:[s.jsx("option",{value:"",children:"Select IP address"}),(h=i==null?void 0:i.ips)==null?void 0:h.map(x=>s.jsx("option",{value:x,children:x},x))]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"template",className:"block text-sm font-medium mb-1",children:["Template ",s.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"BIND9"})]}),s.jsx("select",{id:"template",value:a.template,onChange:x=>l({...a,template:x.target.value}),className:"input",children:((i==null?void 0:i.dnsTemplates)||["default"]).map(x=>s.jsx("option",{value:x,children:x},x))})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"exp",className:"block text-sm font-medium mb-1",children:["Expiration Date ",s.jsx("span",{className:"text-xs text-gray-500 font-normal ml-1",children:"(YYYY-MM-DD)"})]}),s.jsx("input",{type:"date",id:"exp",value:a.exp,onChange:x=>l({...a,exp:x.target.value}),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"soa",className:"block text-sm font-medium mb-1",children:"SOA"}),s.jsx("input",{type:"text",id:"soa",value:a.soa,onChange:x=>l({...a,soa:x.target.value}),className:"input",placeholder:"ns1.example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"ttl",className:"block text-sm font-medium mb-1",children:"TTL"}),s.jsx("input",{type:"text",id:"ttl",value:a.ttl,onChange:x=>l({...a,ttl:x.target.value}),className:"input",placeholder:"14400"})]})]})]})]})}function ON(){const[e,t]=N.useState(""),{data:r,isLoading:n,error:a}=W({queryKey:["mail-domains"],queryFn:async()=>(await A.get("/api/mail")).data.domains||[]}),l=(r==null?void 0:r.filter(i=>{var o;return(o=i.domain)==null?void 0:o.toLowerCase().includes(e.toLowerCase())}))||[];return n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load mail domains. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Mail Domains"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your mail domains and accounts"})]}),s.jsxs(I,{to:"/mail/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Mail Domain"]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search mail domains...",value:e,onChange:i=>t(i.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Domain"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Accounts"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Disk"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:l.map(i=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(ws,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"font-medium",children:i.domain})]})}),s.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:i.ACCOUNTS||0}),s.jsxs("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:[i.U_DISK||0," MB"]}),s.jsx("td",{className:"px-4 py-4 text-center",children:i.SUSPENDED==="yes"?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-5 h-5"})})})]},i.domain))})]}),l.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No mail domains found matching your search.":"No mail domains yet. Add your first domain to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[l.length," ",l.length===1?"domain":"domains"]})]})}function _N(){const e=oe(),[t,r]=N.useState(""),[n,a]=N.useState({domain:"",antispam:!0,antivirus:!0,dkim:!0}),l=H({mutationFn:async o=>{await A.post("/api/mail",o)},onSuccess:()=>{e("/mail")},onError:o=>{var c,d;r(((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to create mail domain")}}),i=o=>{if(o.preventDefault(),r(""),!n.domain){r("Domain is required");return}l.mutate({domain:n.domain.toLowerCase().trim(),antispam:n.antispam?"yes":"no",antivirus:n.antivirus?"yes":"no",dkim:n.dkim?"yes":"no"})};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/mail",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add Mail Domain"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new mail domain"})]})]}),s.jsxs("div",{className:"card p-6",children:[t&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),t]}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"domain",className:"block text-sm font-medium mb-1",children:["Domain ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"domain",value:n.domain,onChange:o=>a({...n,domain:o.target.value}),className:"input",placeholder:"example.com",required:!0})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.antispam,onChange:o=>a({...n,antispam:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable AntiSpam"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.antivirus,onChange:o=>a({...n,antivirus:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable AntiVirus"})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:n.dkim,onChange:o=>a({...n,dkim:o.target.checked}),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Enable DKIM"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary flex-1",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Mail Domain"}),s.jsx(I,{to:"/mail",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}const oh={mysql:{label:"MariaDB",description:"Manage your MariaDB/MySQL databases",api:"/api/databases",addPath:"/databases/add?type=mysql",badge:"mysql"},pgsql:{label:"PostgreSQL",description:"Manage your PostgreSQL databases",api:"/api/databases",addPath:"/databases/add?type=pgsql",badge:"pgsql"},mongodb:{label:"MongoDB",description:"Manage your MongoDB databases",api:"/api/databases/mongodb",addPath:"/databases/mongodb/add",badge:"mongodb"}};function LN(){var E,q,te,ne,fe,Z;const[e,t]=N.useState(""),[r]=qx(),[n,a]=N.useState(null),[l,i]=N.useState({top:0,left:0}),[o,c]=N.useState(null),[d,u]=N.useState(null),[h,x]=N.useState(""),[v,m]=N.useState(!1),p=N.useRef(null),g=ce(),y=r.get("type")||"mysql",f=oh[y]||oh.mysql,j=y==="mongodb";N.useEffect(()=>{const F=R=>{p.current&&!p.current.contains(R.target)&&a(null)};return document.addEventListener("mousedown",F),()=>document.removeEventListener("mousedown",F)},[]);const{data:b,isLoading:S,error:w}=W({queryKey:["databases",y],queryFn:async()=>(await A.get(f.api,{params:{type:y}})).data.databases||[]}),k=(b==null?void 0:b.filter(F=>{var R;return(R=F.database)==null?void 0:R.toLowerCase().includes(e.toLowerCase())}))||[],D=H({mutationFn:async F=>{const R=j?`/api/databases/mongodb/${encodeURIComponent(F)}`:`/api/databases/${encodeURIComponent(F)}`;await A.delete(R)},onSuccess:()=>{g.invalidateQueries(["databases",y]),c(null)}}),_=H({mutationFn:async({database:F,password:R})=>{const M=j?`/api/databases/mongodb/${encodeURIComponent(F)}/password`:`/api/databases/${encodeURIComponent(F)}/password`;await A.put(M,{password:R})},onSuccess:()=>{u(null),x("")}}),P=()=>{const F="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let R="";for(let M=0;M<16;M++)R+=F.charAt(Math.floor(Math.random()*F.length));x(R),m(!0)};return S?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):w?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load databases. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[j?s.jsx($a,{className:"w-6 h-6 text-green-600"}):s.jsx(rt,{className:"w-6 h-6"}),f.label]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:f.description})]}),s.jsxs(I,{to:f.addPath,className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Database"]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search databases...",value:e,onChange:F=>t(F.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Database"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:j?"Collections":"User"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Type"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:j?"Size":"Disk"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:j?"Users":"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:k.map(F=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[j?s.jsx($a,{className:"w-5 h-5 text-green-500"}):s.jsx(rt,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"font-medium",children:F.database})]})}),s.jsx("td",{className:"px-4 py-4 text-sm text-gray-600 dark:text-dark-muted",children:j?F.COLLECTIONS||0:F.DBUSER||"-"}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsx("span",{className:`badge ${j?"badge-success":"badge-info"}`,children:f.badge})}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[s.jsx(jt,{className:"w-4 h-4"}),j?`${Math.round((F.SIZE||0)/1024)} KB`:`${F.U_DISK||0} MB`]})}),s.jsx("td",{className:"px-4 py-4 text-center",children:j?s.jsxs("span",{className:"text-sm text-gray-600 dark:text-dark-muted",children:[F.USERS||0," users"]}):F.SUSPENDED==="yes"?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{onClick:R=>{if(n===F.database)a(null);else{const M=R.currentTarget.getBoundingClientRect();i({top:M.bottom+4,left:M.right-192}),a(F.database)}},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-5 h-5"})})})]},F.database))})]}),k.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No databases found matching your search.":"No databases yet. Add your first database to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[k.length," ",k.length===1?"database":"databases"]}),n&&s.jsxs("div",{ref:p,className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-lg z-50",style:{top:l.top,left:l.left},children:[s.jsxs("button",{onClick:()=>{u(n),a(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left hover:bg-gray-50 dark:hover:bg-dark-border rounded-t-lg",children:[s.jsx(Br,{className:"w-4 h-4"}),"Change Password"]}),!j&&s.jsxs("button",{onClick:()=>{a(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left hover:bg-gray-50 dark:hover:bg-dark-border",children:[s.jsx(dN,{className:"w-4 h-4"}),"Add User"]}),s.jsx("hr",{className:"border-gray-200 dark:border-dark-border"}),s.jsxs("button",{onClick:()=>{c(n),a(null)},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-left text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-b-lg",children:[s.jsx(Ge,{className:"w-4 h-4"}),"Delete"]})]}),o&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 text-red-600 mb-4",children:[s.jsx(Te,{className:"w-6 h-6"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Delete Database"})]}),s.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-6",children:["Are you sure you want to delete ",s.jsx("strong",{children:o}),"? This action cannot be undone and all data will be permanently lost."]}),D.isError&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((te=(q=(E=D.error)==null?void 0:E.response)==null?void 0:q.data)==null?void 0:te.error)||"Failed to delete database"}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>c(null),className:"btn btn-secondary",disabled:D.isPending,children:"Cancel"}),s.jsx("button",{onClick:()=>D.mutate(o),className:"btn bg-red-600 hover:bg-red-700 text-white",disabled:D.isPending,children:D.isPending?"Deleting...":"Delete"})]})]})}),d&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Br,{className:"w-6 h-6 text-primary-600"}),s.jsx("h3",{className:"text-lg font-semibold",children:"Change Password"})]}),s.jsx("button",{onClick:()=>{u(null),x("")},className:"p-1 hover:bg-gray-100 dark:hover:bg-dark-border rounded",children:s.jsx(At,{className:"w-5 h-5"})})]}),s.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-4",children:["Change password for database ",s.jsx("strong",{children:d})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"New Password"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:v?"text":"password",value:h,onChange:F=>x(F.target.value),className:"input pr-10",placeholder:"Enter new password"}),s.jsx("button",{type:"button",onClick:()=>m(!v),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:v?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:P,className:"btn btn-secondary",title:"Generate password",children:s.jsx(He,{className:"w-4 h-4"})})]})]}),_.isError&&s.jsx("div",{className:"mb-4 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((Z=(fe=(ne=_.error)==null?void 0:ne.response)==null?void 0:fe.data)==null?void 0:Z.error)||"Failed to change password"}),s.jsxs("div",{className:"flex gap-3 justify-end",children:[s.jsx("button",{onClick:()=>{u(null),x("")},className:"btn btn-secondary",disabled:_.isPending,children:"Cancel"}),s.jsx("button",{onClick:()=>_.mutate({database:d,password:h}),className:"btn btn-primary",disabled:_.isPending||!h,children:_.isPending?"Saving...":"Change Password"})]})]})})]})}function IN(){const e=oe(),[t,r]=N.useState(""),[n,a]=N.useState(!1),[l,i]=N.useState({database:"",dbuser:"",password:"",type:"mysql"}),o=H({mutationFn:async u=>{await A.post("/api/databases",u)},onSuccess:()=>{e("/databases")},onError:u=>{var h,x;r(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to create database")}}),c=u=>{if(u.preventDefault(),r(""),!l.database){r("Database name is required");return}if(!l.dbuser){r("Database user is required");return}if(!l.password){r("Password is required");return}o.mutate(l)},d=()=>{const u="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let h="";for(let x=0;x<16;x++)h+=u.charAt(Math.floor(Math.random()*u.length));i({...l,password:h}),a(!0)};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/databases",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add Database"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new database"})]})]}),s.jsxs("div",{className:"card p-6",children:[t&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),t]}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"database",className:"block text-sm font-medium mb-1",children:["Database Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"database",value:l.database,onChange:u=>i({...l,database:u.target.value}),className:"input",placeholder:"mydb",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be prefixed with your username"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"dbuser",className:"block text-sm font-medium mb-1",children:["Database User ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",id:"dbuser",value:l.dbuser,onChange:u=>i({...l,dbuser:u.target.value}),className:"input",placeholder:"myuser",required:!0}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Will be prefixed with your username"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:n?"text":"password",id:"password",value:l.password,onChange:u=>i({...l,password:u.target.value}),className:"input pr-10",placeholder:"Enter password",required:!0}),s.jsx("button",{type:"button",onClick:()=>a(!n),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:n?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:d,className:"btn btn-secondary",title:"Generate password",children:s.jsx(He,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"type",className:"block text-sm font-medium mb-1",children:"Database Type"}),s.jsxs("select",{id:"type",value:l.type,onChange:u=>i({...l,type:u.target.value}),className:"input",children:[s.jsx("option",{value:"mysql",children:"MySQL / MariaDB"}),s.jsx("option",{value:"pgsql",children:"PostgreSQL"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary flex-1",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Database"}),s.jsx(I,{to:"/databases",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function UN(){const e=oe(),{user:t}=Qr(),r=(t==null?void 0:t.username)||"",[n,a]=N.useState(""),[l,i]=N.useState(!1),[o,c]=N.useState({database:"",password:""}),d=H({mutationFn:async x=>{await A.post("/api/databases/mongodb",x)},onSuccess:()=>{e("/databases?type=mongodb")},onError:x=>{var v,m;a(((m=(v=x.response)==null?void 0:v.data)==null?void 0:m.error)||"Failed to create MongoDB database")}}),u=x=>{if(x.preventDefault(),a(""),!o.database){a("Database name is required");return}d.mutate(o)},h=()=>{const x="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*";let v="";for(let m=0;m<16;m++)v+=x.charAt(Math.floor(Math.random()*x.length));c({...o,password:v}),i(!0)};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/databases?type=mongodb",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx($a,{className:"w-6 h-6 text-green-600"}),"Add MongoDB Database"]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new MongoDB database"})]})]}),s.jsxs("div",{className:"card p-6",children:[n&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),n]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"database",className:"block text-sm font-medium mb-1",children:["Database Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"flex",children:[s.jsxs("span",{className:"inline-flex items-center px-3 rounded-l-lg border border-r-0 border-gray-300 dark:border-dark-border bg-gray-50 dark:bg-dark-border text-gray-500 dark:text-dark-muted text-sm",children:[r,"_"]}),s.jsx("input",{type:"text",id:"database",value:o.database,onChange:x=>c({...o,database:x.target.value}),className:"input rounded-l-none flex-1",placeholder:"mydb",required:!0})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"A user with the same name will be created automatically"})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"password",className:"block text-sm font-medium mb-1",children:["Password ",s.jsx("span",{className:"text-gray-400",children:"(optional)"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("div",{className:"relative flex-1",children:[s.jsx("input",{type:l?"text":"password",id:"password",value:o.password,onChange:x=>c({...o,password:x.target.value}),className:"input pr-10",placeholder:"Leave empty for auto-generated"}),s.jsx("button",{type:"button",onClick:()=>i(!l),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-400 hover:text-gray-600",children:l?s.jsx(Cs,{className:"w-5 h-5"}):s.jsx(Kt,{className:"w-5 h-5"})})]}),s.jsx("button",{type:"button",onClick:h,className:"btn btn-secondary",title:"Generate password",children:s.jsx(He,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"If left empty, a random password will be generated"})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-green-800 dark:text-green-400 mb-2",children:"MongoDB Database Info"}),s.jsxs("ul",{className:"text-sm text-green-700 dark:text-green-300 space-y-1",children:[s.jsxs("li",{children:[" Database and user will have the same name: ",s.jsxs("strong",{children:[r,"_",o.database||"dbname"]})]}),s.jsx("li",{children:" User will have readWrite role on this database"}),s.jsx("li",{children:" Connection string will be provided after creation"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary flex-1",children:d.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Database"}),s.jsx(I,{to:"/databases?type=mongodb",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function $N(){const[e,t]=N.useState("mysql"),{data:r,isLoading:n}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data}),a=(r==null?void 0:r.installedServices)||{},l=[];return a.mysql&&l.push({id:"mysql",name:"MariaDB",icon:rt}),a.pgsql&&l.push({id:"pgsql",name:"PostgreSQL",icon:rt}),a.mongodb&&l.push({id:"mongodb",name:"MongoDB",icon:$a}),N.useEffect(()=>{l.length>0&&!l.find(i=>i.id===e)&&t(l[0].id)},[l.length]),n?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.length===0?s.jsxs("div",{className:"card p-6 text-center",children:[s.jsx(rt,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h2",{className:"text-xl font-semibold mb-2",children:"No Database Installed"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"Install a database server from the Services page to configure it here."})]}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:s.jsx(ir,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Database Settings"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Configure your database servers"})]})]}),s.jsxs("div",{className:"card mb-6",children:[s.jsx("div",{className:"border-b border-gray-200 dark:border-dark-border",children:s.jsx("nav",{className:"flex -mb-px",children:l.map(i=>{const o=i.icon;return s.jsxs("button",{onClick:()=>t(i.id),className:`flex items-center gap-2 px-6 py-3 text-sm font-medium border-b-2 transition-colors ${e===i.id?"border-primary-600 text-primary-600 dark:text-primary-400":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300 dark:text-dark-muted"}`,children:[s.jsx(o,{className:"w-4 h-4"}),i.name]},i.id)})})}),s.jsxs("div",{className:"p-6",children:[e==="mysql"&&s.jsx(BN,{}),e==="pgsql"&&s.jsx(zN,{}),e==="mongodb"&&s.jsx(qN,{})]})]})]})}function BN(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ct,{className:"w-5 h-5 text-blue-500"}),s.jsx("h3",{className:"text-lg font-medium",children:"MariaDB / MySQL Configuration"})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["MariaDB configuration can be managed through the old panel at"," ",s.jsx("a",{href:"/edit/server/mysql/",className:"underline font-medium",children:"/edit/server/mysql/"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Config File"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"/etc/mysql/my.cnf"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Service"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"mariadb.service"})]})]})]})}function zN(){return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(ct,{className:"w-5 h-5 text-blue-500"}),s.jsx("h3",{className:"text-lg font-medium",children:"PostgreSQL Configuration"})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["PostgreSQL configuration can be managed through the old panel at"," ",s.jsx("a",{href:"/edit/server/pgsql/",className:"underline font-medium",children:"/edit/server/pgsql/"})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Config File"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"/etc/postgresql/*/main/postgresql.conf"})]}),s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx("h4",{className:"font-medium mb-2",children:"Service"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"postgresql.service"})]})]})]})}function qN(){var uu,mu,hu;const e=ce(),[t,r]=N.useState(""),[n,a]=N.useState("standalone"),[l,i]=N.useState("rs0"),[o,c]=N.useState("primary"),[d,u]=N.useState("shardsvr"),[h,x]=N.useState("/var/lib/mongodb/keyfile"),[v,m]=N.useState("/var/lib/mongodb"),[p,g]=N.useState(!0),[y,f]=N.useState(null),[j,b]=N.useState(!1),[S,w]=N.useState("logical"),[k,D]=N.useState("daily"),[_,P]=N.useState("02:00"),[E,q]=N.useState("0"),[te,ne]=N.useState("6"),[fe,Z]=N.useState("0 2 * * *"),[F,R]=N.useState(7),[M,Q]=N.useState("filesystem"),[V,L]=N.useState("/var/lib/pbm/backups"),[ae,G]=N.useState(""),[ge,Re]=N.useState(""),[Ae,Es]=N.useState(""),[Wi,Kf]=N.useState(""),[Vf,Wf]=N.useState(!0),[Gf,Jf]=N.useState(!1),[Yf,Xf]=N.useState(10),[Zf,e0]=N.useState(3),{data:Fe,isLoading:t0}=W({queryKey:["mongodb-config"],queryFn:async()=>(await A.get("/api/mongodb/config")).data}),{data:s0}=W({queryKey:["pbm-status"],queryFn:async()=>(await A.get("/api/mongodb/pbm/status")).data});N.useEffect(()=>{Fe&&(r(Fe.config||""),Fe.settings&&(a(Fe.settings.clusterMode||"standalone"),i(Fe.settings.replicaSetName||"rs0"),c(Fe.settings.nodeRole||"primary"),u(Fe.settings.shardRole||"shardsvr"),x(Fe.settings.keyfilePath||"/var/lib/mongodb/keyfile"),m(Fe.settings.dataDir||"/var/lib/mongodb")))},[Fe]);const cu=async()=>{try{const Ee=await A.get("/api/mongodb/keyfile/status",{params:{path:h}});f(Ee.data)}catch{f({exists:!1,valid:!1})}};N.useEffect(()=>{n!=="standalone"&&cu()},[n,h]);const Vr=H({mutationFn:async Ee=>{await A.post("/api/mongodb/config",Ee)},onSuccess:()=>{e.invalidateQueries(["mongodb-config"])}}),Ps=H({mutationFn:async()=>(await A.post("/api/mongodb/keyfile/generate",{path:h})).data,onSuccess:()=>{cu()}}),r0=()=>{Vr.mutate({config:t,restart:p})},du=()=>{window.open(`/api/mongodb/keyfile/download?path=${encodeURIComponent(h)}`,"_blank")};return t0?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(me,{className:"w-6 h-6 animate-spin text-primary-600"})}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center gap-4 p-4 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Status:"}),(Fe==null?void 0:Fe.status)==="running"?s.jsxs("span",{className:"flex items-center gap-1 text-green-600",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Running"]}):s.jsxs("span",{className:"flex items-center gap-1 text-red-600",children:[s.jsx(kt,{className:"w-4 h-4"}),"Stopped"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-medium text-gray-600 dark:text-dark-muted",children:"Version:"}),s.jsx("span",{className:"text-sm",children:(Fe==null?void 0:Fe.version)||"Unknown"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Configuration File (",(Fe==null?void 0:Fe.configPath)||"/etc/mongod.conf",")"]}),s.jsx("textarea",{value:t,onChange:Ee=>r(Ee.target.value),className:"w-full h-64 font-mono text-sm p-3 bg-gray-900 text-gray-100 rounded-lg border border-gray-700 focus:border-primary-500 focus:ring-1 focus:ring-primary-500",spellCheck:!1})]}),s.jsxs("div",{className:"border-t border-gray-200 dark:border-dark-border pt-6",children:[s.jsx("h3",{className:"text-lg font-medium mb-4",children:"Advanced Configuration"}),s.jsxs("div",{className:"mb-4",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Data Directory",s.jsx("span",{className:"text-gray-500 text-xs ml-2",children:"(Requires Service Restart)"})]}),s.jsx("input",{type:"text",value:v,onChange:Ee=>m(Ee.target.value),className:"input"})]}),s.jsxs("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cluster Mode"}),s.jsxs("select",{value:n,onChange:Ee=>a(Ee.target.value),className:"input",children:[s.jsx("option",{value:"standalone",children:"Standalone (Default)"}),s.jsx("option",{value:"replicaset",children:"ReplicaSet"}),s.jsx("option",{value:"sharding",children:"Sharding (Cluster)"})]})]}),n==="replicaset"&&s.jsxs("div",{className:"ml-4 pl-4 border-l-4 border-primary-500 space-y-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Replica Set Name"}),s.jsx("input",{type:"text",value:l,onChange:Ee=>i(Ee.target.value),placeholder:"rs0",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Node Role"}),s.jsxs("select",{value:o,onChange:Ee=>c(Ee.target.value),className:"input",children:[s.jsx("option",{value:"primary",children:"Primary"}),s.jsx("option",{value:"secondary",children:"Secondary"}),s.jsx("option",{value:"arbiter",children:"Arbiter"})]})]}),s.jsx(ch,{keyfilePath:h,setKeyfilePath:x,keyfileStatus:y,onGenerate:()=>Ps.mutate(),onDownload:du,isGenerating:Ps.isPending,generateError:Ps.error,generateSuccess:Ps.isSuccess}),s.jsx(HN,{pbmStatus:s0,pbmEnabled:j,setPbmEnabled:b,pbmType:S,setPbmType:w,pbmScheduleType:k,setPbmScheduleType:D,pbmTime:_,setPbmTime:P,pbmWeekday:E,setPbmWeekday:q,pbmInterval:te,setPbmInterval:ne,pbmCron:fe,setPbmCron:Z,pbmRetention:F,setPbmRetention:R,pbmStorage:M,setPbmStorage:Q,pbmPath:V,setPbmPath:L,pbmS3Endpoint:ae,setPbmS3Endpoint:G,pbmS3Bucket:ge,setPbmS3Bucket:Re,pbmS3Key:Ae,setPbmS3Key:Es,pbmS3Secret:Wi,setPbmS3Secret:Kf,pbmCompression:Vf,setPbmCompression:Wf,pbmPitr:Gf,setPbmPitr:Jf,pitrInterval:Yf,setPitrInterval:Xf,pitrRetention:Zf,setPitrRetention:e0})]}),n==="sharding"&&s.jsxs("div",{className:"ml-4 pl-4 border-l-4 border-amber-500 space-y-4 mb-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cluster Role"}),s.jsxs("select",{value:d,onChange:Ee=>u(Ee.target.value),className:"input",children:[s.jsx("option",{value:"shardsvr",children:"Shard Server (Data)"}),s.jsx("option",{value:"configsvr",children:"Config Server (Metadata)"}),s.jsx("option",{value:"mongos",children:"Mongos Router"})]})]}),s.jsx(ch,{keyfilePath:h,setKeyfilePath:x,keyfileStatus:y,onGenerate:()=>Ps.mutate(),onDownload:du,isGenerating:Ps.isPending,generateError:Ps.error,generateSuccess:Ps.isSuccess})]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:p,onChange:Ee=>g(Ee.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm",children:"Restart service after saving"})]}),s.jsx("button",{onClick:r0,disabled:Vr.isPending,className:"btn btn-primary",children:Vr.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Save Configuration"]})})]}),Vr.isSuccess&&s.jsxs("div",{className:"p-3 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg text-green-700 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4 inline mr-2"}),"Configuration saved successfully"]}),Vr.isError&&s.jsxs("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:[s.jsx(kt,{className:"w-4 h-4 inline mr-2"}),((hu=(mu=(uu=Vr.error)==null?void 0:uu.response)==null?void 0:mu.data)==null?void 0:hu.error)||"Failed to save configuration"]})]})}function ch({keyfilePath:e,setKeyfilePath:t,keyfileStatus:r,onGenerate:n,onDownload:a,isGenerating:l,generateError:i,generateSuccess:o}){var v,m;const[c,d]=N.useState(""),[u,h]=N.useState(!1),x=H({mutationFn:async()=>{await A.post("/api/mongodb/keyfile/upload",{path:e,content:c})}});return s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg space-y-3",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Br,{className:"w-5 h-5 text-amber-500"}),s.jsx("h4",{className:"font-medium",children:"Keyfile Authentication"})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-dark-muted",children:"Keyfile is required for authentication between cluster members."}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Keyfile Path"}),s.jsx("input",{type:"text",value:e,onChange:p=>t(p.target.value),className:"input"})]}),r&&s.jsx("div",{className:`text-sm flex items-center gap-2 ${r.valid?"text-green-600":"text-amber-600"}`,children:r.valid?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4"}),"Keyfile exists and has correct permissions (",r.permissions,")"]}):r.exists?s.jsxs(s.Fragment,{children:[s.jsx(yi,{className:"w-4 h-4"}),"Keyfile exists but has incorrect permissions (",r.permissions,"). Should be 400 or 600."]}):s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"w-4 h-4"}),"Keyfile does not exist at this path"]})}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("button",{type:"button",onClick:n,disabled:l,className:"btn btn-secondary",children:[l?s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Br,{className:"w-4 h-4 mr-2"}),"Generate Key"]}),s.jsxs("button",{type:"button",onClick:()=>h(!u),className:"btn btn-secondary",children:[s.jsx(cN,{className:"w-4 h-4 mr-2"}),"Upload Key"]}),s.jsxs("button",{type:"button",onClick:a,disabled:!(r!=null&&r.exists),className:"btn btn-secondary",children:[s.jsx(rl,{className:"w-4 h-4 mr-2"}),"Download Key"]})]}),u&&s.jsxs("div",{className:"space-y-2 p-3 bg-white dark:bg-dark-card rounded border border-gray-200 dark:border-dark-border",children:[s.jsx("label",{className:"block text-sm font-medium",children:"Paste keyfile content:"}),s.jsx("textarea",{value:c,onChange:p=>d(p.target.value),className:"input font-mono text-xs h-24",placeholder:"Paste base64-encoded keyfile content here..."}),s.jsx("button",{type:"button",onClick:()=>x.mutate(),disabled:!c||x.isPending,className:"btn btn-primary btn-sm",children:x.isPending?"Uploading...":"Upload"})]}),o&&s.jsxs("div",{className:"text-sm text-green-600 flex items-center gap-1",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Keyfile generated successfully"]}),i&&s.jsxs("div",{className:"text-sm text-red-600 flex items-center gap-1",children:[s.jsx(kt,{className:"w-4 h-4"}),((m=(v=i==null?void 0:i.response)==null?void 0:v.data)==null?void 0:m.error)||"Failed to generate keyfile"]})]})}function HN({pbmStatus:e,pbmEnabled:t,setPbmEnabled:r,pbmType:n,setPbmType:a,pbmScheduleType:l,setPbmScheduleType:i,pbmTime:o,setPbmTime:c,pbmWeekday:d,setPbmWeekday:u,pbmInterval:h,setPbmInterval:x,pbmCron:v,setPbmCron:m,pbmRetention:p,setPbmRetention:g,pbmStorage:y,setPbmStorage:f,pbmPath:j,setPbmPath:b,pbmS3Endpoint:S,setPbmS3Endpoint:w,pbmS3Bucket:k,setPbmS3Bucket:D,pbmS3Key:_,setPbmS3Key:P,pbmS3Secret:E,setPbmS3Secret:q,pbmCompression:te,setPbmCompression:ne,pbmPitr:fe,setPbmPitr:Z,pitrInterval:F,setPitrInterval:R,pitrRetention:M,setPitrRetention:Q}){const V={logical:"Slower but compatible across MongoDB versions. Good for migration.",physical:"Faster backup/restore. Requires same MongoDB version for restore.",incremental:"Continuous oplog capture for point-in-time recovery to any second."};return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:t,onChange:L=>r(L.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"font-medium",children:"Enable Percona Backup (PBM)"}),(e==null?void 0:e.installed)===!1&&s.jsx("span",{className:"text-xs text-amber-600 bg-amber-100 px-2 py-0.5 rounded",children:"Not Installed"})]}),t&&s.jsxs("div",{className:"p-4 bg-gray-50 dark:bg-dark-border rounded-lg space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Type"}),s.jsxs("select",{value:n,onChange:L=>a(L.target.value),className:"input",children:[s.jsx("option",{value:"logical",children:"Logical (mongodump)"}),s.jsx("option",{value:"physical",children:"Physical (file copy)"}),s.jsx("option",{value:"incremental",children:"Incremental + PITR"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:V[n]})]}),n!=="incremental"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Schedule"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("select",{value:l,onChange:L=>i(L.target.value),className:"input w-auto",children:[s.jsx("option",{value:"daily",children:"Daily"}),s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"interval",children:"Every X hours"}),s.jsx("option",{value:"custom",children:"Custom cron"})]}),(l==="daily"||l==="weekly")&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"at"}),s.jsx("input",{type:"time",value:o,onChange:L=>c(L.target.value),className:"input w-auto"})]}),l==="weekly"&&s.jsxs("select",{value:d,onChange:L=>u(L.target.value),className:"input w-auto",children:[s.jsx("option",{value:"0",children:"Sunday"}),s.jsx("option",{value:"1",children:"Monday"}),s.jsx("option",{value:"2",children:"Tuesday"}),s.jsx("option",{value:"3",children:"Wednesday"}),s.jsx("option",{value:"4",children:"Thursday"}),s.jsx("option",{value:"5",children:"Friday"}),s.jsx("option",{value:"6",children:"Saturday"})]}),l==="interval"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm",children:"every"}),s.jsx("select",{value:h,onChange:L=>x(L.target.value),className:"input w-auto",children:[1,2,3,4,6,8,12].map(L=>s.jsx("option",{value:L,children:L},L))}),s.jsx("span",{className:"text-sm",children:"hours"})]})]}),l==="custom"&&s.jsxs("div",{className:"mt-2",children:[s.jsx("input",{type:"text",value:v,onChange:L=>m(L.target.value),placeholder:"0 2 * * *",className:"input"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: minute hour day month weekday"})]})]}),n==="incremental"&&s.jsxs("div",{className:"space-y-3 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsxs("div",{className:"flex items-start gap-2 text-blue-700 dark:text-blue-300",children:[s.jsx(ou,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),s.jsx("p",{className:"text-sm",children:"Incremental mode automatically enables Point-in-Time Recovery (PITR). You can restore to any second between backups."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Base (Full) Backup Schedule"}),s.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[s.jsxs("select",{className:"input w-auto",children:[s.jsx("option",{value:"weekly",children:"Weekly"}),s.jsx("option",{value:"monthly",children:"Monthly"}),s.jsx("option",{value:"daily",children:"Daily"})]}),s.jsx("span",{className:"text-sm",children:"at"}),s.jsx("input",{type:"time",defaultValue:"02:00",className:"input w-auto"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"PITR Oplog Slice Interval"}),s.jsxs("select",{value:F,onChange:L=>R(Number(L.target.value)),className:"input w-auto",children:[s.jsx("option",{value:1,children:"1 minute"}),s.jsx("option",{value:5,children:"5 minutes"}),s.jsx("option",{value:10,children:"10 minutes (recommended)"}),s.jsx("option",{value:30,children:"30 minutes"}),s.jsx("option",{value:60,children:"1 hour"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"How often to save oplog slices. Smaller = more granular recovery but more storage."})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Retention (days)"}),s.jsx("input",{type:"number",value:p,onChange:L=>g(Number(L.target.value)),min:1,max:365,className:"input"})]}),(n==="incremental"||fe)&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"PITR Oplog Retention (days)"}),s.jsx("input",{type:"number",value:M,onChange:L=>Q(Number(L.target.value)),min:1,max:30,className:"input"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Storage"}),s.jsxs("select",{value:y,onChange:L=>f(L.target.value),className:"input",children:[s.jsx("option",{value:"filesystem",children:"Local Filesystem"}),s.jsx("option",{value:"s3",children:"Amazon S3 / Compatible"})]})]}),y==="filesystem"&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backup Path"}),s.jsx("input",{type:"text",value:j,onChange:L=>b(L.target.value),className:"input"})]}),y==="s3"&&s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"S3 Endpoint"}),s.jsx("input",{type:"text",value:S,onChange:L=>w(L.target.value),placeholder:"s3.amazonaws.com",className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"S3 Bucket"}),s.jsx("input",{type:"text",value:k,onChange:L=>D(L.target.value),placeholder:"my-mongodb-backups",className:"input"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Access Key"}),s.jsx("input",{type:"text",value:_,onChange:L=>P(L.target.value),className:"input"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Secret Key"}),s.jsx("input",{type:"password",value:E,onChange:L=>q(L.target.value),className:"input"})]})]})]}),n==="physical"&&s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:fe,onChange:L=>Z(L.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{children:"Enable PITR (Point-in-Time Recovery)"})]}),fe&&s.jsxs("div",{className:"mt-2 ml-6",children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Oplog Slice Interval"}),s.jsxs("select",{value:F,onChange:L=>R(Number(L.target.value)),className:"input w-auto",children:[s.jsx("option",{value:1,children:"1 minute"}),s.jsx("option",{value:5,children:"5 minutes"}),s.jsx("option",{value:10,children:"10 minutes (recommended)"}),s.jsx("option",{value:30,children:"30 minutes"}),s.jsx("option",{value:60,children:"1 hour"})]})]})]}),s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:te,onChange:L=>ne(L.target.checked),className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{children:"Enable Compression"})]}),s.jsx("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:s.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:[s.jsx("strong",{children:"Tip:"})," In a ReplicaSet, PBM automatically runs backup on a Secondary node to avoid impacting Primary performance. You only need to configure backup on one node - PBM coordinates across the cluster."]})})]})]})}function QN(){const[e,t]=N.useState(""),[r,n]=N.useState(null),[a,l]=N.useState({top:0,right:0}),i=N.useRef({}),o=ce(),{data:c,isLoading:d,error:u}=W({queryKey:["cron-jobs"],queryFn:async()=>(await A.get("/api/cron")).data}),h=(c==null?void 0:c.jobs)||[],x=(c==null?void 0:c.notifications)||!1,v=b=>{if(r===b){n(null);return}const S=i.current[b];if(S){const w=S.getBoundingClientRect();l({top:w.bottom+4,right:window.innerWidth-w.right})}n(b)},m=H({mutationFn:async b=>{await A.delete(`/api/cron/${b}`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),$.success("Cron job deleted"),n(null)},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to delete cron job")}}),p=H({mutationFn:async b=>{await A.post(`/api/cron/${b}/suspend`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),$.success("Cron job suspended"),n(null)},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to suspend cron job")}}),g=H({mutationFn:async b=>{await A.post(`/api/cron/${b}/unsuspend`)},onSuccess:()=>{o.invalidateQueries({queryKey:["cron-jobs"]}),$.success("Cron job activated"),n(null)},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to activate cron job")}}),y=H({mutationFn:async b=>{b?await A.post("/api/cron/notifications/enable"):await A.post("/api/cron/notifications/disable")},onSuccess:(b,S)=>{o.invalidateQueries({queryKey:["cron-jobs"]}),$.success(S?"Notifications enabled":"Notifications disabled")},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to update notifications")}}),f=b=>{window.confirm("Are you sure you want to delete this cron job?")&&m.mutate(b),n(null)},j=(h==null?void 0:h.filter(b=>{var S;return(S=b.CMD)==null?void 0:S.toLowerCase().includes(e.toLowerCase())}))||[];return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load cron jobs. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Cron Jobs"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage scheduled tasks"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>y.mutate(!x),disabled:y.isPending,className:`btn ${x?"btn-success":"btn-secondary"}`,title:x?"Disable email notifications":"Enable email notifications",children:x?s.jsxs(s.Fragment,{children:[s.jsx(Hk,{className:"w-4 h-4 mr-2"}),"Notifications On"]}):s.jsxs(s.Fragment,{children:[s.jsx(qk,{className:"w-4 h-4 mr-2"}),"Notifications Off"]})}),s.jsxs(I,{to:"/cron/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Cron Job"]})]})]}),s.jsx("div",{className:"card p-4 mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Kr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search cron jobs...",value:e,onChange:b=>t(b.target.value),className:"input pl-10"})]})}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Schedule"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Command"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:j.map((b,S)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hn,{className:"w-5 h-5 text-gray-400"}),s.jsxs("code",{className:"text-sm bg-gray-100 dark:bg-dark-border px-2 py-1 rounded",children:[b.MIN," ",b.HOUR," ",b.DAY," ",b.MONTH," ",b.WDAY]})]})}),s.jsx("td",{className:"px-4 py-4",children:s.jsx("code",{className:"text-sm text-gray-600 dark:text-dark-muted truncate max-w-md block",children:b.CMD})}),s.jsx("td",{className:"px-4 py-4 text-center",children:b.SUSPENDED==="yes"?s.jsx("span",{className:"badge badge-danger",children:"Suspended"}):s.jsx("span",{className:"badge badge-success",children:"Active"})}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsx("button",{ref:w=>i.current[b.JOB]=w,onClick:()=>v(b.JOB),className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-5 h-5"})})})]},b.JOB||S))})]}),j.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:e?"No cron jobs found matching your search.":"No cron jobs yet. Add your first job to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[j.length," ",j.length===1?"job":"jobs"]}),r&&Ii.createPortal(s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-40",onClick:()=>n(null)}),s.jsx("div",{className:"fixed w-48 bg-white dark:bg-dark-card border border-gray-200 dark:border-dark-border rounded-lg shadow-xl z-50 py-1",style:{top:a.top,right:a.right},children:(()=>{const b=j.find(S=>S.JOB===r);return b?s.jsxs(s.Fragment,{children:[s.jsxs(I,{to:`/cron/${b.JOB}/edit`,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>n(null),children:[s.jsx(lr,{className:"w-4 h-4"}),"Edit"]}),b.SUSPENDED==="yes"?s.jsxs("button",{onClick:()=>g.mutate(b.JOB),disabled:g.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-green-600",children:[s.jsx(sN,{className:"w-4 h-4"}),"Activate"]}):s.jsxs("button",{onClick:()=>p.mutate(b.JOB),disabled:p.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-yellow-600",children:[s.jsx(tN,{className:"w-4 h-4"}),"Suspend"]}),s.jsxs("button",{onClick:()=>f(b.JOB),disabled:m.isPending,className:"flex items-center gap-2 px-4 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border w-full text-left text-red-600",children:[s.jsx(Ge,{className:"w-4 h-4"}),"Delete"]})]}):null})()})]}),document.body)]})}function KN(){const e=oe(),[t,r]=N.useState(""),[n,a]=N.useState({min:"*",hour:"*",day:"*",month:"*",wday:"*",cmd:""}),l=H({mutationFn:async d=>{await A.post("/api/cron",d)},onSuccess:()=>{e("/cron")},onError:d=>{var u,h;r(((h=(u=d.response)==null?void 0:u.data)==null?void 0:h.error)||"Failed to create cron job")}}),i=d=>{if(d.preventDefault(),r(""),!n.cmd){r("Command is required");return}l.mutate(n)},o=[{label:"Every minute",min:"*",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every 5 minutes",min:"*/5",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every hour",min:"0",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every day at midnight",min:"0",hour:"0",day:"*",month:"*",wday:"*"},{label:"Every week (Sunday)",min:"0",hour:"0",day:"*",month:"*",wday:"0"},{label:"Every month",min:"0",hour:"0",day:"1",month:"*",wday:"*"}],c=d=>{a({...n,min:d.min,hour:d.hour,day:d.day,month:d.month,wday:d.wday})};return s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/cron",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Add Cron Job"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new scheduled task"})]})]}),s.jsxs("div",{className:"card p-6",children:[t&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),t]}),s.jsxs("form",{onSubmit:i,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>s.jsx("button",{type:"button",onClick:()=>c(d),className:"px-3 py-1 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80",children:d.label},d.label))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Schedule"}),s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minute"}),s.jsx("input",{type:"text",value:n.min,onChange:d=>a({...n,min:d.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hour"}),s.jsx("input",{type:"text",value:n.hour,onChange:d=>a({...n,hour:d.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Day"}),s.jsx("input",{type:"text",value:n.day,onChange:d=>a({...n,day:d.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Month"}),s.jsx("input",{type:"text",value:n.month,onChange:d=>a({...n,month:d.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Weekday"}),s.jsx("input",{type:"text",value:n.wday,onChange:d=>a({...n,wday:d.target.value}),className:"input text-center",placeholder:"*"})]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current: ",s.jsxs("code",{className:"bg-gray-100 dark:bg-dark-border px-2 py-0.5 rounded",children:[n.min," ",n.hour," ",n.day," ",n.month," ",n.wday]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"cmd",className:"block text-sm font-medium mb-1",children:["Command ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"cmd",value:n.cmd,onChange:d=>a({...n,cmd:d.target.value}),className:"input font-mono text-sm min-h-[100px]",placeholder:"/usr/bin/php /home/user/public_html/cron.php",required:!0})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[s.jsx("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary flex-1",children:l.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Cron Job"}),s.jsx(I,{to:"/cron",className:"btn btn-secondary",children:"Cancel"})]})]})]})]})}function VN(){const{id:e}=St(),t=oe(),r=ce(),[n,a]=N.useState(""),[l,i]=N.useState({min:"*",hour:"*",day:"*",month:"*",wday:"*",cmd:""}),{data:o,isLoading:c}=W({queryKey:["cron-job",e],queryFn:async()=>(await A.get(`/api/cron/${e}`)).data});N.useEffect(()=>{o&&i({min:o.MIN||"*",hour:o.HOUR||"*",day:o.DAY||"*",month:o.MONTH||"*",wday:o.WDAY||"*",cmd:o.CMD||""})},[o]);const d=H({mutationFn:async v=>{await A.put(`/api/cron/${e}`,v)},onSuccess:()=>{r.invalidateQueries({queryKey:["cron-jobs"]}),$.success("Cron job updated successfully"),t("/cron")},onError:v=>{var m,p;a(((p=(m=v.response)==null?void 0:m.data)==null?void 0:p.error)||"Failed to update cron job")}}),u=v=>{if(v==null||v.preventDefault(),a(""),!l.cmd){a("Command is required");return}d.mutate(l)},h=[{label:"Every minute",min:"*",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every 5 minutes",min:"*/5",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every hour",min:"0",hour:"*",day:"*",month:"*",wday:"*"},{label:"Every day at midnight",min:"0",hour:"0",day:"*",month:"*",wday:"*"},{label:"Every week (Sunday)",min:"0",hour:"0",day:"*",month:"*",wday:"0"},{label:"Every month",min:"0",hour:"0",day:"1",month:"*",wday:"*"}],x=v=>{i({...l,min:v.min,hour:v.hour,day:v.day,month:v.month,wday:v.wday})};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-2xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs(I,{to:"/cron",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("button",{onClick:u,disabled:d.isPending,className:"btn btn-primary px-4 py-1.5 text-sm",children:[d.isPending?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-1"}),"Save"]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsxs("h1",{className:"text-xl font-bold mb-6",children:["Edit Cron Job #",e]}),n&&s.jsxs("div",{className:"mb-6 p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg flex items-center gap-2 text-red-700 dark:text-red-400 text-sm",children:[s.jsx(Te,{className:"w-4 h-4 flex-shrink-0"}),n]}),s.jsxs("form",{onSubmit:u,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:h.map(v=>s.jsx("button",{type:"button",onClick:()=>x(v),className:"px-3 py-1 text-sm rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-dark-border dark:hover:bg-dark-border/80",children:v.label},v.label))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Schedule"}),s.jsxs("div",{className:"grid grid-cols-5 gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Minute"}),s.jsx("input",{type:"text",value:l.min,onChange:v=>i({...l,min:v.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Hour"}),s.jsx("input",{type:"text",value:l.hour,onChange:v=>i({...l,hour:v.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Day"}),s.jsx("input",{type:"text",value:l.day,onChange:v=>i({...l,day:v.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Month"}),s.jsx("input",{type:"text",value:l.month,onChange:v=>i({...l,month:v.target.value}),className:"input text-center",placeholder:"*"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-xs text-gray-500 mb-1",children:"Weekday"}),s.jsx("input",{type:"text",value:l.wday,onChange:v=>i({...l,wday:v.target.value}),className:"input text-center",placeholder:"*"})]})]}),s.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["Current: ",s.jsxs("code",{className:"bg-gray-100 dark:bg-dark-border px-2 py-0.5 rounded",children:[l.min," ",l.hour," ",l.day," ",l.month," ",l.wday]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{htmlFor:"cmd",className:"block text-sm font-medium mb-1",children:["Command ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("textarea",{id:"cmd",value:l.cmd,onChange:v=>i({...l,cmd:v.target.value}),className:"input font-mono text-sm min-h-[100px]",placeholder:"/usr/bin/php /home/user/public_html/cron.php",required:!0})]})]})]})]})}function WN(){const e=ce(),{data:t,isLoading:r,error:n}=W({queryKey:["backups"],queryFn:async()=>(await A.get("/api/backups")).data.backups||[]}),a=H({mutationFn:async()=>{await A.post("/api/backups")},onSuccess:()=>{e.invalidateQueries(["backups"]),$.success("Backup creation started")},onError:o=>{var c,d;$.error(((d=(c=o.response)==null?void 0:c.data)==null?void 0:d.error)||"Failed to create backup")}}),l=o=>{if(!o||o==="0")return"0 MB";const c=parseFloat(o);return c>=1024?`${(c/1024).toFixed(1)} GB`:`${c} MB`},i=o=>{if(!o)return"-";const c=new Date(o);return c.toLocaleDateString()+" "+c.toLocaleTimeString()};return r?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load backups. Please try again."}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Backups"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage your account backups"})]}),s.jsx("button",{onClick:()=>a.mutate(),disabled:a.isPending,className:"btn btn-primary",children:a.isPending?s.jsxs(s.Fragment,{children:[s.jsx(He,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Bk,{className:"w-4 h-4 mr-2"}),"Create Backup"]})})]}),s.jsx("div",{className:"card",children:s.jsxs("div",{className:"overflow-x-auto",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Backup"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Date"}),s.jsx("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Size"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:t.map(o=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-4",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(jt,{className:"w-5 h-5 text-gray-400"}),s.jsx("span",{className:"font-medium",children:o.backup})]})}),s.jsx("td",{className:"px-4 py-4 text-center",children:s.jsxs("span",{className:"flex items-center justify-center gap-1 text-sm text-gray-600 dark:text-dark-muted",children:[s.jsx(Lf,{className:"w-4 h-4"}),i(o.DATE)]})}),s.jsx("td",{className:"px-4 py-4 text-center text-sm text-gray-600 dark:text-dark-muted",children:l(o.SIZE)}),s.jsx("td",{className:"px-4 py-4 text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-blue-600",title:"Download",children:s.jsx(rl,{className:"w-4 h-4"})}),s.jsx("button",{className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border text-red-600",title:"Delete",children:s.jsx(Ge,{className:"w-4 h-4"})})]})})]},o.backup))})]}),t.length===0&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No backups yet. Create your first backup to get started."})]})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[t.length," ",t.length===1?"backup":"backups"]})]})}function GN(){var x,v;const e=ce(),[t,r]=N.useState(null),[n,a]=N.useState(null),{data:l,isLoading:i,error:o}=W({queryKey:["packages"],queryFn:async()=>(await A.get("/api/packages")).data.packages}),c=H({mutationFn:async m=>{await A.delete(`/api/packages/${m}`)},onSuccess:()=>{e.invalidateQueries(["packages"]),$.success("Package deleted successfully"),r(null)},onError:m=>{var p,g;$.error(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to delete package")}}),d=m=>{t===m?c.mutate(m):(r(m),setTimeout(()=>r(null),3e3))},u=m=>m==="unlimited"||m==="0"?"Unlimited":m,h=m=>{if(m==="unlimited"||m==="0")return"Unlimited";const p=parseInt(m);return p>=1024?`${(p/1024).toFixed(1)} GB`:`${p} MB`};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?s.jsx("div",{className:"text-center py-12",children:s.jsxs("p",{className:"text-red-500",children:["Failed to load packages. ",((v=(x=o.response)==null?void 0:x.data)==null?void 0:v.error)||""]})}):s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Packages"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage hosting packages and resource limits"})]}),s.jsxs(I,{to:"/packages/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Package"]})]}),l&&l.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.map(m=>s.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-primary-100 dark:bg-primary-900/30 flex items-center justify-center",children:s.jsx(On,{className:"w-5 h-5 text-primary-600 dark:text-primary-400"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:m.name}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-dark-muted",children:m.SHELL==="nologin"?"No Shell Access":m.SHELL})]})]}),s.jsxs("div",{className:"relative",children:[s.jsx("button",{onClick:()=>a(n===m.name?null:m.name),className:"p-1 rounded hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(Qn,{className:"w-4 h-4"})}),n===m.name&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-10",onClick:()=>a(null)}),s.jsxs("div",{className:"absolute right-0 mt-1 w-36 bg-white dark:bg-dark-card rounded-lg shadow-lg border border-gray-200 dark:border-dark-border z-20",children:[s.jsxs(I,{to:`/packages/${m.name}/edit`,className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[s.jsx(lr,{className:"w-4 h-4"}),"Edit"]}),s.jsxs(I,{to:`/packages/add?copy=${m.name}`,className:"flex items-center gap-2 px-3 py-2 text-sm hover:bg-gray-100 dark:hover:bg-dark-border",onClick:()=>a(null),children:[s.jsx(iu,{className:"w-4 h-4"}),"Duplicate"]}),m.name!=="default"&&m.name!=="system"&&s.jsxs("button",{onClick:()=>{a(null),d(m.name)},className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",children:[s.jsx(Ge,{className:"w-4 h-4"}),t===m.name?"Confirm?":"Delete"]})]})]})]})]}),s.jsxs("div",{className:"space-y-2 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(bt,{className:"w-4 h-4"}),"Web Domains"]}),s.jsx("span",{className:"font-medium",children:u(m.WEB_DOMAINS)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(ct,{className:"w-4 h-4"}),"DNS Domains"]}),s.jsx("span",{className:"font-medium",children:u(m.DNS_DOMAINS)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(ws,{className:"w-4 h-4"}),"Mail Domains"]}),s.jsx("span",{className:"font-medium",children:u(m.MAIL_DOMAINS)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(rt,{className:"w-4 h-4"}),"Databases"]}),s.jsx("span",{className:"font-medium",children:u(m.DATABASES)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(Hn,{className:"w-4 h-4"}),"Cron Jobs"]}),s.jsx("span",{className:"font-medium",children:u(m.CRON_JOBS)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5 border-b border-gray-100 dark:border-dark-border",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(jt,{className:"w-4 h-4"}),"Disk Quota"]}),s.jsx("span",{className:"font-medium",children:h(m.DISK_QUOTA)})]}),s.jsxs("div",{className:"flex items-center justify-between py-1.5",children:[s.jsxs("span",{className:"flex items-center gap-2 text-gray-600 dark:text-dark-muted",children:[s.jsx(jt,{className:"w-4 h-4"}),"Bandwidth"]}),s.jsx("span",{className:"font-medium",children:h(m.BANDWIDTH)})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-dark-border",children:s.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[s.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-dark-border rounded",children:["Web: ",m.WEB_TEMPLATE||"default"]}),s.jsxs("span",{className:"px-2 py-1 bg-gray-100 dark:bg-dark-border rounded",children:["Backups: ",m.BACKUPS]})]})})]},m.name))}):s.jsxs("div",{className:"card text-center py-12",children:[s.jsx(On,{className:"w-12 h-12 mx-auto mb-4 text-gray-400"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No packages found"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Create your first hosting package to get started."}),s.jsxs(I,{to:"/packages/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Package"]})]})]})}function JN(){var u,h,x;const e=oe(),[t]=qx(),r=t.get("copy"),[n,a]=N.useState({name:"",webDomains:"unlimited",webAliases:"unlimited",dnsDomains:"unlimited",dnsRecords:"unlimited",mailDomains:"unlimited",mailAccounts:"unlimited",databases:"unlimited",cronJobs:"unlimited",diskQuota:"unlimited",bandwidth:"unlimited",backups:"1",ns1:"",ns2:"",shell:"nologin",webTemplate:"default",proxyTemplate:"default",dnsTemplate:"default"}),{data:l}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data}),{data:i}=W({queryKey:["package",r],queryFn:async()=>(await A.get(`/api/packages/${r}`)).data.package,enabled:!!r});N.useEffect(()=>{var v,m;i&&a({name:`${i.name}_copy`,webDomains:i.WEB_DOMAINS||"unlimited",webAliases:i.WEB_ALIASES||"unlimited",dnsDomains:i.DNS_DOMAINS||"unlimited",dnsRecords:i.DNS_RECORDS||"unlimited",mailDomains:i.MAIL_DOMAINS||"unlimited",mailAccounts:i.MAIL_ACCOUNTS||"unlimited",databases:i.DATABASES||"unlimited",cronJobs:i.CRON_JOBS||"unlimited",diskQuota:i.DISK_QUOTA||"unlimited",bandwidth:i.BANDWIDTH||"unlimited",backups:i.BACKUPS||"1",ns1:((v=i.NS)==null?void 0:v.split(",")[0])||"",ns2:((m=i.NS)==null?void 0:m.split(",")[1])||"",shell:i.SHELL||"nologin",webTemplate:i.WEB_TEMPLATE||"default",proxyTemplate:i.PROXY_TEMPLATE||"default",dnsTemplate:i.DNS_TEMPLATE||"default"})},[i]);const o=H({mutationFn:async v=>{await A.post("/api/packages",v)},onSuccess:()=>{$.success("Package created successfully"),e("/packages")},onError:v=>{var m,p;$.error(((p=(m=v.response)==null?void 0:m.data)==null?void 0:p.error)||"Failed to create package")}}),c=v=>{v.preventDefault(),o.mutate(n)},d=v=>{const{name:m,value:p}=v.target;a(g=>({...g,[m]:p}))};return s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/packages",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:r?"Duplicate Package":"Add Package"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:r?`Creating copy of ${r}`:"Create a new hosting package"})]})]}),s.jsxs("form",{onSubmit:c,className:"space-y-6",children:[s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"Package Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"md:col-span-2",children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Package Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",name:"name",value:n.name,onChange:d,className:"input",placeholder:"e.g., basic, premium, enterprise",required:!0,pattern:"[a-zA-Z0-9_-]+",title:"Only letters, numbers, dashes and underscores"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters, numbers, dashes and underscores allowed"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Shell Access"}),s.jsx("select",{name:"shell",value:n.shell,onChange:d,className:"input",children:((u=l==null?void 0:l.shells)==null?void 0:u.map(v=>s.jsx("option",{value:v,children:v==="/usr/sbin/nologin"?"nologin (No shell access)":v},v)))||s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"nologin",children:"nologin (No shell access)"}),s.jsx("option",{value:"/bin/bash",children:"/bin/bash"}),s.jsx("option",{value:"/bin/sh",children:"/bin/sh"})]})})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backups"}),s.jsx("input",{type:"number",name:"backups",value:n.backups,onChange:d,className:"input",min:"0"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Resource Limits"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-4",children:'Use "unlimited" or "0" for no limit'}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Domains"}),s.jsx("input",{type:"text",name:"webDomains",value:n.webDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Aliases"}),s.jsx("input",{type:"text",name:"webAliases",value:n.webAliases,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Domains"}),s.jsx("input",{type:"text",name:"dnsDomains",value:n.dnsDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Records"}),s.jsx("input",{type:"text",name:"dnsRecords",value:n.dnsRecords,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mail Domains"}),s.jsx("input",{type:"text",name:"mailDomains",value:n.mailDomains,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mail Accounts"}),s.jsx("input",{type:"text",name:"mailAccounts",value:n.mailAccounts,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Databases"}),s.jsx("input",{type:"text",name:"databases",value:n.databases,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Cron Jobs"}),s.jsx("input",{type:"text",name:"cronJobs",value:n.cronJobs,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Disk Quota (MB)"}),s.jsx("input",{type:"text",name:"diskQuota",value:n.diskQuota,onChange:d,className:"input",placeholder:"unlimited"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Bandwidth (MB)"}),s.jsx("input",{type:"text",name:"bandwidth",value:n.bandwidth,onChange:d,className:"input",placeholder:"unlimited"})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Default Templates"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Web Template"}),s.jsxs("select",{name:"webTemplate",value:n.webTemplate,onChange:d,className:"input",children:[s.jsx("option",{value:"default",children:"default"}),(h=l==null?void 0:l.webTemplates)==null?void 0:h.filter(v=>v!=="default").map(v=>s.jsx("option",{value:v,children:v},v))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Proxy Template"}),s.jsxs("select",{name:"proxyTemplate",value:n.proxyTemplate,onChange:d,className:"input",children:[s.jsx("option",{value:"default",children:"default"}),(x=l==null?void 0:l.webTemplates)==null?void 0:x.filter(v=>v!=="default").map(v=>s.jsx("option",{value:v,children:v},v))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"DNS Template"}),s.jsx("select",{name:"dnsTemplate",value:n.dnsTemplate,onChange:d,className:"input",children:s.jsx("option",{value:"default",children:"default"})})]})]})]}),s.jsxs("div",{className:"card p-6",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Nameservers"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"NS1"}),s.jsx("input",{type:"text",name:"ns1",value:n.ns1,onChange:d,className:"input",placeholder:"ns1.example.com"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"NS2"}),s.jsx("input",{type:"text",name:"ns2",value:n.ns2,onChange:d,className:"input",placeholder:"ns2.example.com"})]})]})]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(I,{to:"/packages",className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:o.isPending,className:"btn btn-primary",children:o.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Create Package"]})})]})]})]})}function sa({title:e,icon:t,defaultOpen:r=!0,children:n}){const[a,l]=N.useState(r);return s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("button",{type:"button",onClick:()=>l(!a),className:"w-full flex items-center justify-between p-4 bg-gray-50 dark:bg-dark-border/50 hover:bg-gray-100 dark:hover:bg-dark-border transition-colors",children:[s.jsxs("div",{className:"flex items-center gap-2 font-semibold",children:[t&&s.jsx(t,{className:"w-5 h-5"}),e]}),a?s.jsx(eN,{className:"w-4 h-4"}):s.jsx(Ne,{className:"w-4 h-4"})]}),a&&s.jsx("div",{className:"p-6",children:n})]})}function Gt({label:e,name:t,value:r,onChange:n,suffix:a=""}){const l=r==="unlimited"||r==="0",i=()=>{n({target:{name:t,value:l?"1000":"unlimited"}})};return s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:e}),s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:l?"text":"number",name:t,value:l?"Unlimited":r,onChange:n,className:"input pr-12",placeholder:"0",disabled:l}),s.jsx("button",{type:"button",onClick:i,className:`absolute right-2 top-1/2 -translate-y-1/2 px-2 py-1 text-xs rounded ${l?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-500 dark:bg-dark-border dark:text-gray-400"}`,title:l?"Set limit":"Set unlimited",children:""})]}),a&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:a})]})}function YN(){var g,y,f,j,b;const{name:e}=St(),t=oe(),r=ce(),[n,a]=N.useState({diskQuota:"unlimited",bandwidth:"unlimited",backups:"1",backupsIncremental:"no",webDomains:"unlimited",webAliases:"unlimited",webTemplate:"default",backendTemplate:"default",dnsDomains:"unlimited",dnsRecords:"unlimited",dnsTemplate:"default",ns1:"",ns2:"",mailDomains:"unlimited",mailAccounts:"unlimited",rateLimit:"200",databases:"unlimited",cronJobs:"unlimited",shell:"nologin"}),[l,i]=N.useState(["",""]),{data:o,isLoading:c,error:d}=W({queryKey:["package",e],queryFn:async()=>(await A.get(`/api/packages/${e}`)).data.package}),{data:u}=W({queryKey:["system-info"],queryFn:async()=>(await A.get("/api/system/info")).data});N.useEffect(()=>{if(o){const S=o.NS?o.NS.split(","):["",""];i(S.length>=2?S:[S[0]||"",""]),a({diskQuota:o.DISK_QUOTA||"unlimited",bandwidth:o.BANDWIDTH||"unlimited",backups:o.BACKUPS||"1",backupsIncremental:o.BACKUPS_INCREMENTAL||"no",webDomains:o.WEB_DOMAINS||"unlimited",webAliases:o.WEB_ALIASES||"unlimited",webTemplate:o.WEB_TEMPLATE||"default",backendTemplate:o.BACKEND_TEMPLATE||"default",dnsDomains:o.DNS_DOMAINS||"unlimited",dnsRecords:o.DNS_RECORDS||"unlimited",dnsTemplate:o.DNS_TEMPLATE||"default",ns1:S[0]||"",ns2:S[1]||"",mailDomains:o.MAIL_DOMAINS||"unlimited",mailAccounts:o.MAIL_ACCOUNTS||"unlimited",rateLimit:o.RATE_LIMIT||"200",databases:o.DATABASES||"unlimited",cronJobs:o.CRON_JOBS||"unlimited",shell:o.SHELL||"nologin"})}},[o]);const h=H({mutationFn:async S=>{await A.put(`/api/packages/${e}`,S)},onSuccess:()=>{r.invalidateQueries(["packages"]),r.invalidateQueries(["package",e]),$.success("Package updated successfully"),t("/packages")},onError:S=>{var w,k;$.error(((k=(w=S.response)==null?void 0:w.data)==null?void 0:k.error)||"Failed to update package")}}),x=S=>{S.preventDefault(),h.mutate({...n,ns:`${n.ns1},${n.ns2}`.replace(/^,|,$/g,"")})},v=S=>{const{name:w,value:k}=S.target;a(D=>({...D,[w]:k}))},m=()=>{i([...l,""])},p=(S,w)=>{const k=[...l];k[S]=w,i(k),a(D=>({...D,ns1:k[0]||"",ns2:k[1]||""}))};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d?s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("p",{className:"text-red-500",children:["Failed to load package. ",((y=(g=d.response)==null?void 0:g.data)==null?void 0:y.error)||""]}),s.jsx(I,{to:"/packages",className:"btn btn-secondary mt-4",children:"Back to Packages"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(I,{to:"/packages",className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsx("h1",{className:"text-2xl font-bold",children:"Edit Package"})]}),s.jsx("button",{type:"submit",form:"packageForm",disabled:h.isPending,className:"btn btn-primary",children:h.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Save Changes"]})})]}),s.jsxs("form",{id:"packageForm",onSubmit:x,className:"space-y-4",children:[s.jsx("div",{className:"card p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Package Name"}),s.jsx("input",{type:"text",value:e,className:"input bg-gray-50 dark:bg-dark-border",disabled:!0})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Gt,{label:"Quota",name:"diskQuota",value:n.diskQuota,onChange:v,suffix:"in MB"}),s.jsx(Gt,{label:"Bandwidth",name:"bandwidth",value:n.bandwidth,onChange:v,suffix:"in MB"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Backups"}),s.jsx("input",{type:"number",name:"backups",value:n.backups,onChange:v,className:"input",min:"0"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Incremental Backups"}),s.jsxs("select",{name:"backupsIncremental",value:n.backupsIncremental,onChange:v,className:"input",children:[s.jsx("option",{value:"no",children:"Disabled"}),s.jsx("option",{value:"yes",children:"Enabled"})]})]})]})]})}),s.jsx(sa,{title:"WEB",icon:bt,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Gt,{label:"Web Domains",name:"webDomains",value:n.webDomains,onChange:v}),s.jsx(Gt,{label:"Web Aliases",name:"webAliases",value:n.webAliases,onChange:v,suffix:"per domain"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Web Template ",s.jsx("span",{className:"text-gray-400 text-xs",children:"NGINX"})]}),s.jsx("select",{name:"webTemplate",value:n.webTemplate,onChange:v,className:"input",children:((f=u==null?void 0:u.webTemplates)==null?void 0:f.map(S=>s.jsx("option",{value:S,children:S},S)))||s.jsx("option",{value:"default",children:"default"})})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["Backend Template ",s.jsx("span",{className:"text-gray-400 text-xs",children:"PHP-FPM"})]}),s.jsx("select",{name:"backendTemplate",value:n.backendTemplate,onChange:v,className:"input",children:((j=u==null?void 0:u.backendTemplates)==null?void 0:j.map(S=>s.jsx("option",{value:S,children:S},S)))||s.jsx("option",{value:"default",children:"default"})})]})]})]})}),s.jsx(sa,{title:"DNS",icon:bt,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:["DNS Template ",s.jsx("span",{className:"text-gray-400 text-xs",children:"BIND9"})]}),s.jsxs("select",{name:"dnsTemplate",value:n.dnsTemplate,onChange:v,className:"input",children:[s.jsx("option",{value:"default",children:"default"}),s.jsx("option",{value:"child-ns",children:"child-ns"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Gt,{label:"DNS Zones",name:"dnsDomains",value:n.dnsDomains,onChange:v}),s.jsx(Gt,{label:"DNS Records",name:"dnsRecords",value:n.dnsRecords,onChange:v,suffix:"per domain"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Name Servers"}),s.jsx("div",{className:"space-y-2",children:l.map((S,w)=>s.jsx("input",{type:"text",value:S,onChange:k=>p(w,k.target.value),className:"input",placeholder:`ns${w+1}.example.com`},w))}),s.jsx("button",{type:"button",onClick:m,className:"mt-2 text-sm text-primary-600 hover:text-primary-700 dark:text-primary-400",children:"Add Name Server"})]})]})}),s.jsx(sa,{title:"MAIL",icon:ws,children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsx(Gt,{label:"Mail Domains",name:"mailDomains",value:n.mailDomains,onChange:v}),s.jsx(Gt,{label:"Mail Accounts",name:"mailAccounts",value:n.mailAccounts,onChange:v,suffix:"per domain"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Rate Limit"}),s.jsx("input",{type:"number",name:"rateLimit",value:n.rateLimit,onChange:v,className:"input",placeholder:"200"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"per account / hour"})]})]})}),s.jsx(sa,{title:"DB",icon:rt,children:s.jsx(Gt,{label:"Databases",name:"databases",value:n.databases,onChange:v})}),s.jsx(sa,{title:"System",icon:jt,children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(Gt,{label:"Cron Jobs",name:"cronJobs",value:n.cronJobs,onChange:v}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"SSH Access"}),s.jsx("select",{name:"shell",value:n.shell,onChange:v,className:"input",children:((b=u==null?void 0:u.shells)==null?void 0:b.map(S=>{const w=S.split("/").pop();return s.jsx("option",{value:S,children:w==="nologin"?"nologin":S},S)}))||s.jsxs(s.Fragment,{children:[s.jsx("option",{value:"nologin",children:"nologin"}),s.jsx("option",{value:"/bin/bash",children:"/bin/bash"})]})})]})]})})]})]})}function XN(){var b,S,w;const{domain:e}=St(),t=oe(),[r,n]=N.useState(null),[a,l]=N.useState({}),[i,o]=N.useState(1),{data:c,isLoading:d}=W({queryKey:["quickinstall-apps"],queryFn:async()=>(await A.get("/api/quickinstall/apps")).data.apps}),{data:u,isLoading:h,refetch:x}=W({queryKey:["quickinstall-options",r,e],queryFn:async()=>(await A.get(`/api/quickinstall/options/${r}`,{params:{domain:e}})).data,enabled:!!r&&!!e});N.useEffect(()=>{if(u!=null&&u.options){const k={};u.options.forEach(D=>{D.defaultValue&&D.defaultValue!=="none"&&(k[D.key]=D.defaultValue)}),l(k)}},[u]);const v=H({mutationFn:async k=>(await A.post("/api/quickinstall/install",k)).data,onSuccess:k=>{$.success(k.message||"App installed successfully!"),t(`/web/${e}/edit`)},onError:k=>{var D,_;$.error(((_=(D=k.response)==null?void 0:D.data)==null?void 0:_.error)||"Failed to install app")}}),m=k=>{n(k.name),o(2)},p=k=>{const{name:D,value:_,type:P,checked:E}=k.target;l(q=>({...q,[D]:P==="checkbox"?E?"true":"false":_}))},g=k=>{k.preventDefault(),v.mutate({domain:e,app:r,options:a})},y=k=>({WordPress:"",Laravel:"",Symfony:"",Drupal:"",Joomla:"",Nextcloud:"",PrestaShop:"",OpenCart:"",MediaWiki:"",DokuWiki:"",Grav:"",Flarum:"",Dolibarr:"",NamelessMC:"",ThirtyBees:"",Vvveb:""})[k]||"",f=k=>k.includes("email")?s.jsx(ws,{className:"w-4 h-4"}):k.includes("password")?s.jsx(If,{className:"w-4 h-4"}):k.includes("username")||k.includes("user")?s.jsx(zf,{className:"w-4 h-4"}):k.includes("directory")||k.includes("path")?s.jsx(Vk,{className:"w-4 h-4"}):k.includes("database")?s.jsx(rt,{className:"w-4 h-4"}):s.jsx(ir,{className:"w-4 h-4"}),j=k=>k.replace(/_/g," ").replace(/([A-Z])/g," $1").split(" ").map(D=>D.charAt(0).toUpperCase()+D.slice(1)).join(" ");return d?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:i===2?"#":`/web/${e}/edit`,onClick:k=>{i===2&&(k.preventDefault(),o(1),n(null))},className:"p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-dark-border",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Quick Install App"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:["Install web application on ",s.jsx("span",{className:"font-medium text-gray-700 dark:text-gray-300",children:e})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${i===1?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400"}`,children:[i>1?s.jsx(Kc,{className:"w-4 h-4"}):s.jsx("span",{children:"1"}),"Select App"]}),s.jsx("div",{className:"w-8 h-0.5 bg-gray-300 dark:bg-dark-border"}),s.jsxs("div",{className:`flex items-center gap-2 px-3 py-1.5 rounded-full text-sm ${i===2?"bg-primary-100 text-primary-700 dark:bg-primary-900/30 dark:text-primary-400":"bg-gray-100 text-gray-500 dark:bg-dark-border dark:text-dark-muted"}`,children:[s.jsx("span",{children:"2"}),"Configure & Install"]})]}),i===1&&s.jsxs("div",{className:"card p-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(On,{className:"w-5 h-5"}),"Choose an Application"]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:c==null?void 0:c.map(k=>s.jsxs("button",{onClick:()=>m(k),className:"flex flex-col items-center gap-2 p-4 rounded-lg border border-gray-200 dark:border-dark-border hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/10 transition-colors text-center",children:[s.jsx("span",{className:"text-3xl",children:y(k.name)}),s.jsx("span",{className:"font-medium",children:k.name}),s.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:k.version})]},k.name))})]}),i===2&&s.jsxs("div",{className:"card p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("span",{className:"text-4xl",children:y(r)}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-semibold",children:r}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Configure installation options"})]})]}),h?s.jsx("div",{className:"flex items-center justify-center h-32",children:s.jsx(me,{className:"w-6 h-6 animate-spin text-primary-600"})}):s.jsxs("form",{onSubmit:g,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide",children:"Basic Settings"}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(b=u==null?void 0:u.options)==null?void 0:b.filter(k=>!k.key.startsWith("database_")).map(k=>s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium mb-1",children:[f(k.key),j(k.key),k.required&&s.jsx("span",{className:"text-red-500",children:"*"})]}),k.type==="boolean"?s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:k.key,checked:a[k.key]==="true",onChange:p,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Enable"})]}):k.type==="select"?s.jsx("input",{type:"text",name:k.key,value:a[k.key]||"",onChange:p,className:"input",placeholder:k.defaultValue||"",required:k.required}):s.jsx("input",{type:k.type==="password"?"password":"text",name:k.key,value:a[k.key]||"",onChange:p,className:"input",placeholder:k.defaultValue||"",required:k.required})]},k.key))})]}),((S=u==null?void 0:u.options)==null?void 0:S.some(k=>k.key.startsWith("database_")))&&s.jsxs("div",{className:"space-y-4 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("h3",{className:"text-sm font-medium text-gray-700 dark:text-gray-300 uppercase tracking-wide flex items-center gap-2",children:[s.jsx(rt,{className:"w-4 h-4"}),"Database Settings"]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:(w=u==null?void 0:u.options)==null?void 0:w.filter(k=>k.key.startsWith("database_")).map(k=>s.jsxs("div",{children:[s.jsx("label",{className:"flex items-center gap-2 text-sm font-medium mb-1",children:j(k.key.replace("database_",""))}),k.type==="boolean"?s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",name:k.key,checked:a[k.key]==="true",onChange:p,className:"rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:k.key==="database_create"?"Create new database automatically":"Enable"})]}):s.jsx("input",{type:k.type==="password"?"password":"text",name:k.key,value:a[k.key]||"",onChange:p,className:"input",placeholder:k.defaultValue!=="none"?k.defaultValue:"",disabled:k.key!=="database_create"&&a.database_create==="true"})]},k.key))}),a.database_create==="true"&&s.jsx("p",{className:"text-sm text-green-600 dark:text-green-400",children:"A new database will be created automatically for this installation."})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsx("button",{type:"button",onClick:()=>{o(1),n(null)},className:"btn btn-secondary",children:"Back"}),s.jsx("button",{type:"submit",disabled:v.isPending,className:"btn btn-primary",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Installing..."]}):s.jsxs(s.Fragment,{children:[s.jsx(On,{className:"w-4 h-4 mr-2"}),"Install ",r]})})]})]})]})]})}function ZN(){var m,p,g;const e=ce(),[t,r]=N.useState(null),[n,a]=N.useState(null),{data:l,isLoading:i,error:o,refetch:c}=W({queryKey:["services"],queryFn:async()=>(await A.get("/api/services")).data}),d=H({mutationFn:async y=>{r(y),await A.post(`/api/services/${y}/install`)},onSuccess:(y,f)=>{e.invalidateQueries(["services"]),$.success("Service installed successfully"),r(null)},onError:y=>{var f,j;$.error(((j=(f=y.response)==null?void 0:f.data)==null?void 0:j.error)||"Failed to install service"),r(null)}}),u=H({mutationFn:async y=>{a(y),await A.delete(`/api/services/${y}`)},onSuccess:()=>{e.invalidateQueries(["services"]),$.success("Service uninstalled successfully"),a(null)},onError:y=>{var f,j;$.error(((j=(f=y.response)==null?void 0:f.data)==null?void 0:j.error)||"Failed to uninstall service"),a(null)}}),h=H({mutationFn:async y=>{await A.post(`/api/services/${y}/restart`)},onSuccess:()=>{e.invalidateQueries(["services"]),$.success("Service restarted successfully")},onError:y=>{var f,j;$.error(((j=(f=y.response)==null?void 0:f.data)==null?void 0:j.error)||"Failed to restart service")}}),x=y=>{switch(y){case"web":return bt;case"database":return rt;case"mail":case"queue":return ws;case"security":return Kn;default:return ct}},v=y=>{switch(y){case"web":return"text-blue-500 bg-blue-100 dark:bg-blue-900/30";case"database":return"text-green-500 bg-green-100 dark:bg-green-900/30";case"mail":return"text-purple-500 bg-purple-100 dark:bg-purple-900/30";case"queue":return"text-orange-500 bg-orange-100 dark:bg-orange-900/30";case"security":return"text-red-500 bg-red-100 dark:bg-red-900/30";default:return"text-gray-500 bg-gray-100 dark:bg-gray-900/30"}};return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?s.jsx("div",{className:"text-center py-12",children:s.jsxs("p",{className:"text-red-500",children:["Failed to load services. ",((p=(m=o.response)==null?void 0:m.data)==null?void 0:p.error)||""]})}):s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Services"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Install or uninstall system packages. Some packages may require server restart."})]}),s.jsxs("button",{onClick:()=>c(),className:"btn btn-secondary",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),(g=l==null?void 0:l.categories)==null?void 0:g.map(y=>{var j;const f=x((j=y.services[0])==null?void 0:j.category);return s.jsxs("div",{className:"mb-8",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(f,{className:"w-5 h-5"}),y.name]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:y.services.map(b=>s.jsxs("div",{className:"card p-4 hover:shadow-md transition-shadow",children:[s.jsx("div",{className:"flex items-start justify-between",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${v(b.category)}`,children:(()=>{const S=x(b.category);return s.jsx(S,{className:"w-5 h-5"})})()}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold",children:b.name}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:b.description})]})]})}),s.jsxs("div",{className:"mt-4 flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:b.installed?b.running?s.jsxs("span",{className:"flex items-center gap-1.5 text-green-600 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Running"]}):s.jsxs("span",{className:"flex items-center gap-1.5 text-yellow-600 dark:text-yellow-400 text-sm",children:[s.jsx(kt,{className:"w-4 h-4"}),"Stopped"]}):s.jsxs("span",{className:"flex items-center gap-1.5 text-gray-400 text-sm",children:[s.jsx(kt,{className:"w-4 h-4"}),"Not Installed"]})}),b.installed&&b.running&&s.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-dark-muted",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"CPU Usage",children:[s.jsx(Vc,{className:"w-3 h-3"}),b.cpu,"%"]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Memory Usage",children:[s.jsx(jt,{className:"w-3 h-3"}),b.memory,"MB"]})]})]}),s.jsx("div",{className:"mt-4 pt-3 border-t border-gray-200 dark:border-dark-border flex items-center gap-2",children:b.installed?s.jsxs(s.Fragment,{children:[b.canUninstall&&s.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to uninstall ${b.name}?`)&&u.mutate(b.id)},disabled:n===b.id,className:"flex-1 btn btn-sm bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400",children:[n===b.id?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(Ge,{className:"w-4 h-4 mr-1"}),"Uninstall"]}),!b.canUninstall&&b.running&&s.jsxs("button",{onClick:()=>h.mutate(b.id),disabled:h.isPending,className:"flex-1 btn btn-sm btn-secondary",children:[s.jsx(He,{className:`w-4 h-4 mr-1 ${h.isPending?"animate-spin":""}`}),"Restart"]})]}):b.canInstall&&s.jsxs("button",{onClick:()=>d.mutate(b.id),disabled:t===b.id,className:"flex-1 btn btn-sm btn-primary",children:[t===b.id?s.jsx(me,{className:"w-4 h-4 mr-1 animate-spin"}):s.jsx(rl,{className:"w-4 h-4 mr-1"}),"Install"]})})]},b.id))})]},y.name)})]})}const e1=["nginx","apache2","httpd","php-fpm","php5-fpm","php7.0-fpm","php7.1-fpm","php7.2-fpm","php7.3-fpm","php7.4-fpm","php8.0-fpm","php8.1-fpm","php8.2-fpm","php8.3-fpm","mysql","mariadb","mysqld","postgresql","bind9","named","dovecot","exim4","exim","fail2ban","vsftpd","proftpd","ssh","sshd","clamav-daemon","clamd","spamassassin","spamd","haproxy","redis","redis-server"],t1=e=>e1.some(t=>e===t||e.startsWith(t)||e.includes("php")&&e.includes("fpm"));function s1(){var x,v;const e=ce(),[t,r]=N.useState({}),{data:n,isLoading:a,error:l,refetch:i}=W({queryKey:["server-services"],queryFn:async()=>(await A.get("/api/system/server")).data,refetchInterval:3e4}),o=H({mutationFn:async m=>{r(p=>({...p,[m]:"restart"})),await A.post(`/api/system/server/services/${m}/restart`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),$.success(`Service ${p} restarted successfully`),r(g=>({...g,[p]:null}))},onError:(m,p)=>{var g,y;$.error(((y=(g=m.response)==null?void 0:g.data)==null?void 0:y.error)||`Failed to restart ${p}`),r(f=>({...f,[p]:null}))}}),c=H({mutationFn:async m=>{r(p=>({...p,[m]:"start"})),await A.post(`/api/system/server/services/${m}/start`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),$.success(`Service ${p} started successfully`),r(g=>({...g,[p]:null}))},onError:(m,p)=>{var g,y;$.error(((y=(g=m.response)==null?void 0:g.data)==null?void 0:y.error)||`Failed to start ${p}`),r(f=>({...f,[p]:null}))}}),d=H({mutationFn:async m=>{r(p=>({...p,[m]:"stop"})),await A.post(`/api/system/server/services/${m}/stop`)},onSuccess:(m,p)=>{e.invalidateQueries(["server-services"]),$.success(`Service ${p} stopped successfully`),r(g=>({...g,[p]:null}))},onError:(m,p)=>{var g,y;$.error(((y=(g=m.response)==null?void 0:g.data)==null?void 0:y.error)||`Failed to stop ${p}`),r(f=>({...f,[p]:null}))}});if(a)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(l)return s.jsxs("div",{className:"text-center py-12",children:[s.jsxs("p",{className:"text-red-500",children:["Failed to load server info. ",((v=(x=l.response)==null?void 0:x.data)==null?void 0:v.error)||""]}),s.jsx("button",{onClick:()=>i(),className:"mt-4 btn btn-primary",children:"Retry"})]});const{system:u,services:h}=n||{};return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Server Services"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Monitor and manage running services on the server"})]}),s.jsxs("button",{onClick:()=>i(),className:"btn btn-secondary",children:[s.jsx(He,{className:"w-4 h-4 mr-2"}),"Refresh"]})]}),s.jsxs("div",{className:"card p-6 mb-6",children:[s.jsxs("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[s.jsx(ih,{className:"w-5 h-5"}),"Server Information"]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx(ct,{className:"w-8 h-8 text-primary-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Hostname"}),s.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.hostname)||"Unknown"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx(ih,{className:"w-8 h-8 text-blue-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Operating System"}),s.jsxs("p",{className:"font-semibold",children:[u==null?void 0:u.os," ",u==null?void 0:u.version," (",u==null?void 0:u.arch,")"]})]})]}),(u==null?void 0:u.hestiaVersion)&&s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx(sl,{className:"w-8 h-8 text-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Hestia Version"}),s.jsx("p",{className:"font-semibold",children:u.hestiaVersion})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx(Vc,{className:"w-8 h-8 text-orange-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Load Average"}),s.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.loadAverage)||"0 / 0 / 0"})]})]}),s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded-lg",children:[s.jsx(Hn,{className:"w-8 h-8 text-purple-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Uptime"}),s.jsx("p",{className:"font-semibold",children:(u==null?void 0:u.uptime)||"0 minutes"})]})]})]})]}),s.jsxs("div",{className:"card overflow-hidden",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:s.jsx("h2",{className:"text-lg font-semibold",children:"Running Services"})}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Service"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Description"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Uptime"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"CPU"}),s.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Memory"}),s.jsx("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:h==null?void 0:h.map(m=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:s.jsxs("div",{className:"flex items-center gap-3",children:[m.state==="running"?s.jsx(Ye,{className:"w-5 h-5 text-green-500"}):s.jsx(kt,{className:"w-5 h-5 text-red-500"}),s.jsx("span",{className:"font-medium",children:m.name})]})}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500 dark:text-dark-muted",children:m.description}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-gray-500 dark:text-dark-muted",children:m.state==="running"?m.uptime:"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.state==="running"?s.jsxs("span",{className:Jt("inline-flex items-center gap-1",parseFloat(m.cpu)>50?"text-red-500":parseFloat(m.cpu)>20?"text-yellow-500":"text-green-500"),children:[s.jsx(Vc,{className:"w-4 h-4"}),m.cpu,"%"]}):"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.state==="running"?s.jsxs("span",{className:"inline-flex items-center gap-1 text-gray-500 dark:text-dark-muted",children:[s.jsx(jt,{className:"w-4 h-4"}),m.memory.toFixed(1)," MB"]}):"-"}),s.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[t1(m.name)&&s.jsx(I,{to:`/server-services/${m.name}/edit`,className:"btn btn-sm btn-secondary",title:"Configure",children:s.jsx(ir,{className:"w-4 h-4"})}),m.state==="running"?s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:()=>o.mutate(m.name),disabled:!!t[m.name],className:"btn btn-sm btn-secondary",title:"Restart",children:t[m.name]==="restart"?s.jsx(me,{className:"w-4 h-4 animate-spin"}):s.jsx(He,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>{confirm(`Are you sure you want to stop ${m.name}?`)&&d.mutate(m.name)},disabled:!!t[m.name],className:"btn btn-sm bg-red-100 hover:bg-red-200 text-red-700 dark:bg-red-900/30 dark:hover:bg-red-900/50 dark:text-red-400",title:"Stop",children:t[m.name]==="stop"?s.jsx(me,{className:"w-4 h-4 animate-spin"}):s.jsx(aN,{className:"w-4 h-4"})})]}):s.jsx("button",{onClick:()=>c.mutate(m.name),disabled:!!t[m.name],className:"btn btn-sm btn-primary",title:"Start",children:t[m.name]==="start"?s.jsx(me,{className:"w-4 h-4 animate-spin"}):s.jsx(Vi,{className:"w-4 h-4"})})]})})]},m.name))})]})}),(!h||h.length===0)&&s.jsx("div",{className:"text-center py-12 text-gray-500 dark:text-dark-muted",children:"No services found"})]})]})}const r1={nginx:{title:"NGINX",fields:[{key:"worker_processes",label:"worker_processes",type:"text"},{key:"worker_connections",label:"worker_connections",type:"text"},{key:"client_max_body_size",label:"client_max_body_size",type:"text"},{key:"send_timeout",label:"send_timeout",type:"text"},{key:"proxy_connect_timeout",label:"proxy_connect_timeout",type:"text"},{key:"proxy_send_timeout",label:"proxy_send_timeout",type:"text"},{key:"proxy_read_timeout",label:"proxy_read_timeout",type:"text"},{key:"gzip",label:"gzip",type:"text"},{key:"gzip_comp_level",label:"gzip_comp_level",type:"text"},{key:"charset",label:"charset",type:"text"}]},"php-fpm":{title:"PHP-FPM",fields:[{key:"max_execution_time",label:"max_execution_time",type:"text"},{key:"max_input_time",label:"max_input_time",type:"text"},{key:"memory_limit",label:"memory_limit",type:"text"},{key:"error_reporting",label:"error_reporting",type:"text"},{key:"display_errors",label:"display_errors",type:"text"},{key:"post_max_size",label:"post_max_size",type:"text"},{key:"upload_max_filesize",label:"upload_max_filesize",type:"text"}]},mysql:{title:"MySQL/MariaDB",fields:[{key:"max_connections",label:"max_connections",type:"text"},{key:"max_user_connections",label:"max_user_connections",type:"text"},{key:"wait_timeout",label:"wait_timeout",type:"text"},{key:"interactive_timeout",label:"interactive_timeout",type:"text"},{key:"max_allowed_packet",label:"max_allowed_packet",type:"text"}]},mariadb:{title:"MariaDB",fields:[{key:"max_connections",label:"max_connections",type:"text"},{key:"max_user_connections",label:"max_user_connections",type:"text"},{key:"wait_timeout",label:"wait_timeout",type:"text"},{key:"interactive_timeout",label:"interactive_timeout",type:"text"},{key:"max_allowed_packet",label:"max_allowed_packet",type:"text"}]}};function n1(){const{name:e}=St();oe();const t=ce(),[r,n]=N.useState(!1),[a,l]=N.useState(""),[i,o]=N.useState({}),[c,d]=N.useState(!0),{data:u,isLoading:h,error:x,refetch:v}=W({queryKey:["service-config",e],queryFn:async()=>(await A.get(`/api/system/server/services/${e}/config`)).data});N.useEffect(()=>{u&&(l(u.config||""),o(u.settings||{}))},[u]);const m=H({mutationFn:async()=>{await A.put(`/api/system/server/services/${e}/config`,{config:a,restart:c})},onSuccess:()=>{t.invalidateQueries(["service-config",e]),t.invalidateQueries(["server-services"]),$.success(`Configuration for ${e} saved successfully`)},onError:f=>{var j,b;$.error(((b=(j=f.response)==null?void 0:j.data)==null?void 0:b.error)||"Failed to save configuration")}}),p=H({mutationFn:async()=>{await A.post(`/api/system/server/services/${e}/restart`)},onSuccess:()=>{t.invalidateQueries(["server-services"]),$.success(`Service ${e} restarted successfully`)},onError:f=>{var j,b;$.error(((b=(j=f.response)==null?void 0:j.data)==null?void 0:b.error)||"Failed to restart service")}}),g=r1[e],y=g&&(u==null?void 0:u.type)==="basic-advanced";return h?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):x?s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Te,{className:"w-12 h-12 text-red-500 mx-auto mb-4"}),s.jsx("p",{className:"text-red-500 mb-4",children:"Failed to load service configuration"}),s.jsx("button",{onClick:()=>v(),className:"btn btn-primary",children:"Retry"})]}):s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs(I,{to:"/server-services",className:"btn btn-secondary",children:[s.jsx(de,{className:"w-4 h-4 mr-2"}),"Back"]}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Configure: ",(g==null?void 0:g.title)||e.toUpperCase()]}),(u==null?void 0:u.configPath)&&s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mt-1",children:u.configPath})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>p.mutate(),disabled:p.isPending,className:"btn btn-secondary",children:[p.isPending?s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(He,{className:"w-4 h-4 mr-2"}),"Restart"]}),s.jsxs("button",{onClick:()=>m.mutate(),disabled:m.isPending,className:"btn btn-primary",children:[m.isPending?s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Save"]})]})]}),s.jsxs("div",{className:"card",children:[y&&!r&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(ir,{className:"w-5 h-5"}),"Basic Options"]}),s.jsxs("button",{onClick:()=>n(!0),className:"btn btn-secondary btn-sm",children:["Advanced Options",s.jsx(Ns,{className:"w-4 h-4 ml-1"})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:g.fields.map(f=>s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",htmlFor:f.key,children:f.label}),s.jsx("input",{type:f.type,id:f.key,value:i[f.key]||"",onChange:j=>o({...i,[f.key]:j.target.value}),className:"form-input w-full"})]},f.key))})]}),(!y||r)&&s.jsxs("div",{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Ua,{className:"w-5 h-5"}),y?"Advanced Options":"Configuration"]}),y&&s.jsxs("button",{onClick:()=>n(!1),className:"btn btn-secondary btn-sm",children:[s.jsx(Mn,{className:"w-4 h-4 mr-1"}),"Basic Options"]})]}),(u==null?void 0:u.configPath)&&s.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-3",children:["Editing: ",u.configPath]}),s.jsx("textarea",{value:a,onChange:f=>l(f.target.value),className:"form-input w-full font-mono text-sm",rows:25,spellCheck:!1})]}),(u==null?void 0:u.optionsPath)&&(u==null?void 0:u.options)&&s.jsxs("div",{className:"p-6 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Ua,{className:"w-5 h-5"}),"Options"]}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-dark-muted mb-3",children:u.optionsPath}),s.jsx("textarea",{value:u.options,readOnly:!0,className:"form-input w-full font-mono text-sm bg-gray-50 dark:bg-dark-border",rows:10})]}),s.jsx("div",{className:"p-6 border-t border-gray-200 dark:border-dark-border",children:s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:c,onChange:f=>d(f.target.checked),className:"form-checkbox"}),s.jsx("span",{children:"Restart service after saving"})]})})]})]})}function a1(){const e=ce(),[t,r]=N.useState("config"),[n,a]=N.useState(!1),{data:l,isLoading:i,refetch:o}=W({queryKey:["firewall"],queryFn:async()=>(await A.get("/api/firewall")).data}),{data:c,isLoading:d,refetch:u}=W({queryKey:["firewall-iptables"],queryFn:async()=>(await A.get("/api/firewall/iptables")).data,enabled:t==="iptables"||t==="combined"}),{data:h,isLoading:x,refetch:v}=W({queryKey:["firewall-combined"],queryFn:async()=>(await A.get("/api/firewall/combined")).data,enabled:t==="combined"}),m=H({mutationFn:async b=>{await A.delete(`/api/firewall/${b}`)},onSuccess:()=>{e.invalidateQueries(["firewall"]),$.success("Firewall rule deleted")},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to delete rule")}}),p=H({mutationFn:async({id:b,suspended:S})=>{S?await A.post(`/api/firewall/${b}/unsuspend`):await A.post(`/api/firewall/${b}/suspend`)},onSuccess:(b,{suspended:S})=>{e.invalidateQueries(["firewall"]),$.success(S?"Rule unsuspended":"Rule suspended")},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to toggle rule")}}),g=H({mutationFn:async()=>{await A.post("/api/firewall/update")},onSuccess:()=>{e.invalidateQueries(["firewall"]),e.invalidateQueries(["firewall-iptables"]),e.invalidateQueries(["firewall-combined"]),$.success("Firewall rules applied")},onError:b=>{var S,w;$.error(((w=(S=b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to apply rules")}}),y=()=>{o(),t==="iptables"&&u(),t==="combined"&&v()},f=i||t==="iptables"&&d||t==="combined"&&x,j=(l==null?void 0:l.rules)||[];return s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Kn,{className:"w-7 h-7"}),"Firewall Rules"]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Manage iptables firewall rules"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:y,className:"btn btn-secondary",disabled:f,children:[s.jsx(He,{className:`w-4 h-4 mr-2 ${f?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{onClick:()=>g.mutate(),className:"btn btn-secondary",disabled:g.isPending,children:[s.jsx(Jc,{className:`w-4 h-4 mr-2 ${g.isPending?"animate-spin":""}`}),"Apply Rules"]}),s.jsxs(I,{to:"/firewall/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]}),s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsxs("button",{onClick:()=>r("config"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="config"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[s.jsx(vi,{className:"w-4 h-4 inline mr-2"}),"Config Rules"]}),s.jsxs("button",{onClick:()=>r("iptables"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="iptables"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[s.jsx(Jc,{className:"w-4 h-4 inline mr-2"}),"Live iptables"]}),s.jsxs("button",{onClick:()=>r("combined"),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t==="combined"?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:[s.jsx(Kt,{className:"w-4 h-4 inline mr-2"}),"Combined View"]})]}),s.jsxs("div",{className:"flex gap-2 mb-6",children:[s.jsxs(I,{to:"/firewall/banlist",className:"flex items-center gap-2 px-4 py-2 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-100 dark:hover:bg-red-900/30 transition-colors",children:[s.jsx(ya,{className:"w-4 h-4"}),"Banned IPs"]}),s.jsxs(I,{to:"/firewall/ipset",className:"flex items-center gap-2 px-4 py-2 bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-400 rounded-lg hover:bg-blue-100 dark:hover:bg-blue-900/30 transition-colors",children:[s.jsx(vi,{className:"w-4 h-4"}),"IPset Lists"]})]}),f?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs(s.Fragment,{children:[t==="config"&&s.jsx(l1,{rules:j,onDelete:b=>{confirm("Are you sure you want to delete this rule?")&&m.mutate(b)},onToggleSuspend:(b,S)=>p.mutate({id:b,suspended:S})}),t==="iptables"&&c&&s.jsx(i1,{data:c,showRaw:n,onToggleRaw:()=>a(!n)}),t==="combined"&&h&&s.jsx(o1,{data:h})]})]})}function l1({rules:e,onDelete:t,onToggleSuspend:r}){return e.length===0?s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(Kn,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No firewall rules"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Get started by adding your first firewall rule."}),s.jsxs(I,{to:"/firewall/add",className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]}):s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Action"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Protocol"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Port"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Comment"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Status"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.map(n=>s.jsxs("tr",{className:`hover:bg-gray-50 dark:hover:bg-dark-border/50 ${n.suspended?"opacity-50":""}`,children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsxs("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:[n.action==="ACCEPT"?s.jsx(Ye,{className:"w-3 h-3"}):s.jsx(kt,{className:"w-3 h-3"}),n.action]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-dark-text",children:n.protocol}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:n.port||"All"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:n.ip}),s.jsx("td",{className:"px-4 py-3 text-sm text-gray-500 dark:text-dark-muted max-w-xs truncate",children:n.comment||"-"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:n.suspended?s.jsxs("span",{className:"inline-flex items-center gap-1 text-yellow-600 dark:text-yellow-400 text-sm",children:[s.jsx(ji,{className:"w-4 h-4"}),"Suspended"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 text-sm",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Active"]})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right text-sm",children:s.jsxs("div",{className:"flex items-center justify-end gap-2",children:[s.jsx(I,{to:`/firewall/${n.id}/edit`,className:"p-1.5 text-gray-500 hover:text-primary-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:"Edit",children:s.jsx(lr,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>r(n.id,n.suspended),className:"p-1.5 text-gray-500 hover:text-yellow-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:n.suspended?"Unsuspend":"Suspend",children:n.suspended?s.jsx(Vi,{className:"w-4 h-4"}):s.jsx(ji,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>t(n.id),className:"p-1.5 text-gray-500 hover:text-red-600 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",title:"Delete",children:s.jsx(Ge,{className:"w-4 h-4"})})]})})]},n.id))})]}),s.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-dark-border border-t border-gray-200 dark:border-dark-border",children:s.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:[e.length," rule",e.length!==1?"s":""," configured"]})})]})}function i1({data:e,showRaw:t,onToggleRaw:r}){return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"INPUT Chain Policy:"}),s.jsx("span",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.policy==="DROP"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":e.policy==="ACCEPT"?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400":"bg-gray-100 text-gray-800 dark:bg-gray-900/30 dark:text-gray-400"}`,children:e.policy}),e.policy==="DROP"&&s.jsx("span",{className:"text-xs text-green-600 dark:text-green-400",children:"(Secure - Default deny)"})]}),s.jsxs("button",{onClick:r,className:"btn btn-sm btn-secondary",children:[t?s.jsx(Cs,{className:"w-4 h-4 mr-1"}):s.jsx(Kt,{className:"w-4 h-4 mr-1"}),t?"Hide Raw":"Show Raw"]})]}),t&&s.jsx("div",{className:"card p-4 bg-gray-900 dark:bg-black",children:s.jsx("pre",{className:"text-xs text-green-400 font-mono overflow-x-auto whitespace-pre",children:e.raw||"No output available"})}),e.rules&&e.rules.length>0?s.jsx("div",{className:"card overflow-hidden",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Action"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Protocol"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Source"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Port"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Packets"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase",children:"Bytes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.rules.map((n,a)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:`inline-flex items-center gap-1.5 px-2.5 py-1 rounded-full text-xs font-medium ${n.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":n.action==="DROP"?"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-400"}`,children:n.action})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-900 dark:text-dark-text",children:n.protocol.toUpperCase()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:n.source}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-mono text-gray-900 dark:text-dark-text",children:n.port||"-"}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted text-right",children:parseInt(n.packets).toLocaleString()}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted text-right",children:Qf(parseInt(n.bytes))})]},a))})]})}):s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-yellow-500 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No iptables rules found"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"Firewall may not be enabled or no rules are configured."})]})]})}function o1({data:e}){var l,i,o,c;const[t,r]=N.useState(!0),[n,a]=N.useState(!0);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"card p-4 flex items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Firewall:"}),e.firewallEnabled?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 dark:text-green-400 font-medium",children:[s.jsx(Ye,{className:"w-4 h-4"}),"Enabled"]}):s.jsxs("span",{className:"inline-flex items-center gap-1 text-red-600 dark:text-red-400 font-medium",children:[s.jsx(kt,{className:"w-4 h-4"}),"Disabled"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Policy:"}),s.jsx("span",{className:"font-mono text-sm",children:e.policy})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Config Rules:"}),s.jsx("span",{className:"font-medium",children:((l=e.configuredRules)==null?void 0:l.length)||0})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:"Active Rules:"}),s.jsx("span",{className:"font-medium",children:((i=e.activeRules)==null?void 0:i.length)||0})]})]}),s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("button",{onClick:()=>r(!t),className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark-border flex items-center justify-between hover:bg-gray-100 dark:hover:bg-dark-border/80 transition-colors",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(vi,{className:"w-4 h-4"}),"Configured Rules (HestiaCP)",s.jsxs("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:["(",((o=e.configuredRules)==null?void 0:o.length)||0,")"]})]}),t?s.jsx(Mn,{className:"w-4 h-4"}):s.jsx(Ns,{className:"w-4 h-4"})]}),t&&e.configuredRules&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-dark-card",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"ID"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Protocol"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Port"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"IP"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.configuredRules.map(d=>s.jsxs("tr",{className:d.suspended?"opacity-50":"",children:[s.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.id}),s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:d.action})}),s.jsx("td",{className:"px-4 py-2 text-sm",children:d.protocol}),s.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.port}),s.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.ip}),s.jsx("td",{className:"px-4 py-2",children:d.suspended?s.jsx("span",{className:"text-yellow-600 text-xs",children:"Suspended"}):s.jsx("span",{className:"text-green-600 text-xs",children:"Active"})})]},d.id))})]})})]}),s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("button",{onClick:()=>a(!n),className:"w-full px-4 py-3 bg-gray-50 dark:bg-dark-border flex items-center justify-between hover:bg-gray-100 dark:hover:bg-dark-border/80 transition-colors",children:[s.jsxs("span",{className:"font-medium flex items-center gap-2",children:[s.jsx(Jc,{className:"w-4 h-4"}),"Active Rules (iptables)",s.jsxs("span",{className:"text-sm text-gray-500 dark:text-dark-muted",children:["(",((c=e.activeRules)==null?void 0:c.length)||0,")"]})]}),n?s.jsx(Mn,{className:"w-4 h-4"}):s.jsx(Ns,{className:"w-4 h-4"})]}),n&&e.activeRules&&s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-100 dark:bg-dark-card",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Action"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Protocol"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Source"}),s.jsx("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Port"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Packets"}),s.jsx("th",{className:"px-4 py-2 text-right text-xs font-medium text-gray-500 uppercase",children:"Bytes"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:e.activeRules.map((d,u)=>s.jsxs("tr",{children:[s.jsx("td",{className:"px-4 py-2",children:s.jsx("span",{className:`px-2 py-0.5 rounded text-xs font-medium ${d.action==="ACCEPT"?"bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-800 dark:bg-red-900/30 dark:text-red-400"}`,children:d.action})}),s.jsx("td",{className:"px-4 py-2 text-sm",children:d.protocol.toUpperCase()}),s.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.source}),s.jsx("td",{className:"px-4 py-2 text-sm font-mono",children:d.port||"-"}),s.jsx("td",{className:"px-4 py-2 text-sm text-right",children:parseInt(d.packets).toLocaleString()}),s.jsx("td",{className:"px-4 py-2 text-sm text-right",children:Qf(parseInt(d.bytes))})]},u))})]})})]})]})}function Qf(e){if(e===0)return"0 B";const t=1024,r=["B","KB","MB","GB","TB"],n=Math.floor(Math.log(e)/Math.log(t));return parseFloat((e/Math.pow(t,n)).toFixed(1))+" "+r[n]}function c1(){var d;const e=oe(),[t,r]=N.useState({action:"ACCEPT",protocol:"TCP",port:"",ip:"0.0.0.0/0",comment:""}),{data:n}=W({queryKey:["firewall-ipset"],queryFn:async()=>(await A.get("/api/firewall/ipset/lists")).data}),a=((d=n==null?void 0:n.ipsets)==null?void 0:d.filter(u=>!u.suspended))||[],l=H({mutationFn:async u=>{await A.post("/api/firewall",u)},onSuccess:()=>{$.success("Firewall rule added successfully"),e("/firewall")},onError:u=>{var h,x;$.error(((x=(h=u.response)==null?void 0:h.data)==null?void 0:x.error)||"Failed to add rule")}}),i=u=>{if(u.preventDefault(),!t.port&&t.protocol!=="ICMP"){$.error("Port is required for TCP/UDP");return}if(!t.ip){$.error("IP address is required");return}l.mutate(t)},o=u=>{const{name:h,value:x}=u.target;r(v=>({...v,[h]:x}))},c=[{label:"SSH",port:"22"},{label:"HTTP",port:"80"},{label:"HTTPS",port:"443"},{label:"FTP",port:"21"},{label:"SMTP",port:"25"},{label:"SMTPS",port:"465"},{label:"MySQL",port:"3306"},{label:"PostgreSQL",port:"5432"},{label:"MongoDB",port:"27017"},{label:"Redis",port:"6379"}];return s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Kn,{className:"w-7 h-7"}),"Add Firewall Rule"]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Create a new iptables firewall rule"})]})]}),s.jsxs("form",{onSubmit:i,className:"card p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Action *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${t.action==="ACCEPT"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[s.jsx("input",{type:"radio",name:"action",value:"ACCEPT",checked:t.action==="ACCEPT",onChange:o,className:"sr-only"}),s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"ACCEPT"})]}),s.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${t.action==="DROP"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[s.jsx("input",{type:"radio",name:"action",value:"DROP",checked:t.action==="DROP",onChange:o,className:"sr-only"}),s.jsx(kt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"DROP"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Protocol *"}),s.jsx("div",{className:"flex gap-2",children:["TCP","UDP","ICMP"].map(u=>s.jsx("button",{type:"button",onClick:()=>r(h=>({...h,protocol:u})),className:`px-4 py-2 rounded-lg font-medium transition-colors ${t.protocol===u?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:u},u))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:["Port ",t.protocol!=="ICMP"?"*":"(N/A for ICMP)"]}),s.jsx("input",{type:"text",name:"port",value:t.port,onChange:o,placeholder:t.protocol==="ICMP"?"Not applicable":"e.g., 80, 443, 8080-8090",disabled:t.protocol==="ICMP",className:"input w-full"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Single port, comma-separated (80,443), or range (8080-8090). Use 0 for all ports."}),t.protocol!=="ICMP"&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:c.map(u=>s.jsxs("button",{type:"button",onClick:()=>r(h=>({...h,port:u.port})),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-dark-card text-gray-600 dark:text-dark-muted rounded hover:bg-gray-200 dark:hover:bg-dark-border transition-colors",children:[u.label," (",u.port,")"]},u.port))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address / CIDR / IPset *"}),s.jsx("input",{type:"text",name:"ip",value:t.ip,onChange:o,placeholder:"e.g., 192.168.1.0/24 or 0.0.0.0/0",className:"input w-full"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Use 0.0.0.0/0 for any IP. For IPset, use format: ipset:listname"}),a.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:"IPset Lists:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:a.map(u=>s.jsx("button",{type:"button",onClick:()=>r(h=>({...h,ip:`ipset:${u.name}`})),className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:u.name},u.name))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Comment"}),s.jsx("input",{type:"text",name:"comment",value:t.comment,onChange:o,placeholder:"Optional description",className:"input w-full"})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ou,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:[s.jsx("p",{className:"font-medium mb-1",children:"Important:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:"Rules are processed in order by rule ID"}),s.jsx("li",{children:"ACCEPT rules allow traffic, DROP rules block traffic"}),s.jsx("li",{children:'After adding rules, click "Apply Rules" to activate them'})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsx(I,{to:"/firewall",className:"btn btn-secondary",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:l.isPending,className:"btn btn-primary",children:[l.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Add Rule"]})]})]})]})}function d1(){var v;const e=oe(),{id:t}=St(),[r,n]=N.useState({action:"ACCEPT",protocol:"TCP",port:"",ip:"",comment:""}),{data:a,isLoading:l,error:i}=W({queryKey:["firewall-rule",t],queryFn:async()=>(await A.get(`/api/firewall/${t}`)).data}),{data:o}=W({queryKey:["firewall-ipset"],queryFn:async()=>(await A.get("/api/firewall/ipset/lists")).data}),c=((v=o==null?void 0:o.ipsets)==null?void 0:v.filter(m=>!m.suspended))||[];N.useEffect(()=>{a&&n({action:a.action||"ACCEPT",protocol:a.protocol||"TCP",port:a.port||"",ip:a.ip||"",comment:a.comment||""})},[a]);const d=H({mutationFn:async m=>{await A.put(`/api/firewall/${t}`,m)},onSuccess:()=>{$.success("Firewall rule updated successfully"),e("/firewall")},onError:m=>{var p,g;$.error(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to update rule")}}),u=m=>{if(m.preventDefault(),!r.port&&r.protocol!=="ICMP"){$.error("Port is required for TCP/UDP");return}if(!r.ip){$.error("IP address is required");return}d.mutate(r)},h=m=>{const{name:p,value:g}=m.target;n(y=>({...y,[p]:g}))},x=[{label:"SSH",port:"22"},{label:"HTTP",port:"80"},{label:"HTTPS",port:"443"},{label:"FTP",port:"21"},{label:"SMTP",port:"25"},{label:"SMTPS",port:"465"},{label:"MySQL",port:"3306"},{label:"PostgreSQL",port:"5432"},{label:"MongoDB",port:"27017"},{label:"Redis",port:"6379"}];return l?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx(me,{className:"w-8 h-8 animate-spin text-primary-600"})}):i?s.jsx("div",{className:"max-w-3xl mx-auto",children:s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(kt,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"Rule not found"}),s.jsxs("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:["The firewall rule #",t," could not be found."]}),s.jsx(I,{to:"/firewall",className:"btn btn-primary",children:"Back to Firewall"})]})}):s.jsxs("div",{className:"max-w-3xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Kn,{className:"w-7 h-7"}),"Edit Firewall Rule #",t]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Modify existing firewall rule"})]})]}),a&&s.jsx("div",{className:"card p-4 mb-6 bg-gray-50 dark:bg-dark-card",children:s.jsxs("div",{className:"flex items-center gap-6 text-sm",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted",children:"Created:"}),s.jsxs("span",{className:"ml-2 font-medium",children:[a.date," ",a.time]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted",children:"Status:"}),s.jsx("span",{className:`ml-2 font-medium ${a.suspended?"text-yellow-600":"text-green-600"}`,children:a.suspended?"Suspended":"Active"})]})]})}),s.jsxs("form",{onSubmit:u,className:"card p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Action *"}),s.jsxs("div",{className:"flex gap-4",children:[s.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.action==="ACCEPT"?"border-green-500 bg-green-50 dark:bg-green-900/20 text-green-700 dark:text-green-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[s.jsx("input",{type:"radio",name:"action",value:"ACCEPT",checked:r.action==="ACCEPT",onChange:h,className:"sr-only"}),s.jsx(Ye,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"ACCEPT"})]}),s.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 p-4 rounded-lg border-2 cursor-pointer transition-colors ${r.action==="DROP"?"border-red-500 bg-red-50 dark:bg-red-900/20 text-red-700 dark:text-red-400":"border-gray-200 dark:border-dark-border hover:border-gray-300 dark:hover:border-dark-border/80"}`,children:[s.jsx("input",{type:"radio",name:"action",value:"DROP",checked:r.action==="DROP",onChange:h,className:"sr-only"}),s.jsx(kt,{className:"w-5 h-5"}),s.jsx("span",{className:"font-medium",children:"DROP"})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Protocol *"}),s.jsx("div",{className:"flex gap-2",children:["TCP","UDP","ICMP"].map(m=>s.jsx("button",{type:"button",onClick:()=>n(p=>({...p,protocol:m})),className:`px-4 py-2 rounded-lg font-medium transition-colors ${r.protocol===m?"bg-primary-600 text-white":"bg-gray-100 dark:bg-dark-card text-gray-700 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-border"}`,children:m},m))})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:["Port ",r.protocol!=="ICMP"?"*":"(N/A for ICMP)"]}),s.jsx("input",{type:"text",name:"port",value:r.port,onChange:h,placeholder:r.protocol==="ICMP"?"Not applicable":"e.g., 80, 443, 8080-8090",disabled:r.protocol==="ICMP",className:"input w-full"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Single port, comma-separated (80,443), or range (8080-8090). Use 0 for all ports."}),r.protocol!=="ICMP"&&s.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:x.map(m=>s.jsxs("button",{type:"button",onClick:()=>n(p=>({...p,port:m.port})),className:"px-2 py-1 text-xs bg-gray-100 dark:bg-dark-card text-gray-600 dark:text-dark-muted rounded hover:bg-gray-200 dark:hover:bg-dark-border transition-colors",children:[m.label," (",m.port,")"]},m.port))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address / CIDR / IPset *"}),s.jsx("input",{type:"text",name:"ip",value:r.ip,onChange:h,placeholder:"e.g., 192.168.1.0/24 or 0.0.0.0/0",className:"input w-full"}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Use 0.0.0.0/0 for any IP. For IPset, use format: ipset:listname"}),c.length>0&&s.jsxs("div",{className:"mt-2",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-dark-muted",children:"IPset Lists:"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:c.map(m=>s.jsx("button",{type:"button",onClick:()=>n(p=>({...p,ip:`ipset:${m.name}`})),className:"px-2 py-1 text-xs bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded hover:bg-blue-200 dark:hover:bg-blue-900/50 transition-colors",children:m.name},m.name))})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Comment"}),s.jsx("input",{type:"text",name:"comment",value:r.comment,onChange:h,placeholder:"Optional description",className:"input w-full"})]}),s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(ou,{className:"w-5 h-5 text-blue-500 flex-shrink-0 mt-0.5"}),s.jsxs("div",{className:"text-sm text-blue-700 dark:text-blue-400",children:[s.jsx("p",{className:"font-medium mb-1",children:"Remember:"}),s.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[s.jsx("li",{children:`Changes won't take effect until you click "Apply Rules" on the firewall page`}),s.jsx("li",{children:"Test your rules carefully to avoid locking yourself out"})]})]})]})}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsx(I,{to:"/firewall",className:"btn btn-secondary",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary",children:[d.isPending?s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}):s.jsx(Ct,{className:"w-4 h-4 mr-2"}),"Save Changes"]})]})]})]})}function u1(){var v,m;const e=ce(),[t,r]=N.useState(!1),[n,a]=N.useState({ip:"",chain:"SSH"}),{data:l,isLoading:i,error:o,refetch:c}=W({queryKey:["firewall-banlist"],queryFn:async()=>(await A.get("/api/firewall/banlist")).data}),d=H({mutationFn:async p=>{await A.post("/api/firewall/ban",p)},onSuccess:()=>{e.invalidateQueries(["firewall-banlist"]),$.success("IP banned successfully"),r(!1),a({ip:"",chain:"SSH"})},onError:p=>{var g,y;$.error(((y=(g=p.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to ban IP")}}),u=H({mutationFn:async({ip:p,chain:g})=>{await A.delete(`/api/firewall/ban/${encodeURIComponent(p)}/${encodeURIComponent(g)}`)},onSuccess:()=>{e.invalidateQueries(["firewall-banlist"]),$.success("IP unbanned successfully")},onError:p=>{var g,y;$.error(((y=(g=p.response)==null?void 0:g.data)==null?void 0:y.error)||"Failed to unban IP")}}),h=(l==null?void 0:l.bans)||[],x=["SSH","WEB","MAIL","FTP","DNS","HESTIA"];return s.jsxs("div",{className:"max-w-5xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsx(I,{to:"/firewall",className:"p-2 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:s.jsx(de,{className:"w-5 h-5"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(ya,{className:"w-7 h-7 text-red-500"}),"Banned IP Addresses"]}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"IPs blocked by Fail2Ban"})]}),s.jsxs("button",{onClick:()=>c(),className:"btn btn-secondary",disabled:i,children:[s.jsx(He,{className:`w-4 h-4 mr-2 ${i?"animate-spin":""}`}),"Refresh"]}),s.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Ban IP"]})]}),s.jsx("div",{className:"card p-4 mb-6 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800",children:s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Te,{className:"w-5 h-5 text-yellow-500 flex-shrink-0 mt-0.5"}),s.jsx("div",{className:"text-sm text-yellow-700 dark:text-yellow-400",children:s.jsx("p",{children:"These IPs are blocked by Fail2Ban chains. Unbanning an IP will allow it to connect again. Bans may be re-applied automatically if the IP continues suspicious activity."})})]})}),i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(Te,{className:"w-12 h-12 mx-auto text-red-500 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"Failed to load banned IPs"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:((m=(v=o.response)==null?void 0:v.data)==null?void 0:m.error)||"An error occurred"})]}):h.length===0?s.jsxs("div",{className:"card p-12 text-center",children:[s.jsx(ya,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium text-gray-700 dark:text-dark-text mb-2",children:"No banned IPs"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted",children:"No IP addresses are currently banned by Fail2Ban."})]}):s.jsxs("div",{className:"card overflow-hidden",children:[s.jsxs("table",{className:"w-full",children:[s.jsx("thead",{className:"bg-gray-50 dark:bg-dark-border",children:s.jsxs("tr",{children:[s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"IP Address"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Chain"}),s.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Banned Date"}),s.jsx("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 dark:text-dark-muted uppercase tracking-wider",children:"Actions"})]})}),s.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:h.map((p,g)=>s.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-dark-border/50",children:[s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"font-mono text-sm text-gray-900 dark:text-dark-text",children:p.ip})}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:s.jsx("span",{className:"px-2 py-1 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 text-xs font-medium rounded",children:p.chain})}),s.jsxs("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-500 dark:text-dark-muted",children:[p.date," ",p.time]}),s.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-right",children:s.jsxs("button",{onClick:()=>{confirm(`Are you sure you want to unban ${p.ip}?`)&&u.mutate({ip:p.ip,chain:p.chain})},className:"inline-flex items-center gap-1 px-3 py-1.5 text-sm text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg transition-colors",children:[s.jsx(Ge,{className:"w-4 h-4"}),"Unban"]})})]},`${p.ip}-${p.chain}-${g}`))})]}),s.jsx("div",{className:"px-4 py-3 bg-gray-50 dark:bg-dark-border border-t border-gray-200 dark:border-dark-border",children:s.jsxs("p",{className:"text-sm text-gray-500 dark:text-dark-muted",children:[h.length," banned IP",h.length!==1?"s":""]})})]}),t&&s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-xl shadow-xl w-full max-w-md mx-4",children:[s.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-dark-border",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Ban IP Address"}),s.jsx("button",{onClick:()=>r(!1),className:"p-1 hover:bg-gray-100 dark:hover:bg-dark-border rounded-lg transition-colors",children:s.jsx(At,{className:"w-5 h-5"})})]}),s.jsxs("form",{onSubmit:p=>{if(p.preventDefault(),!n.ip){$.error("IP address is required");return}d.mutate(n)},className:"p-4 space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"IP Address *"}),s.jsx("input",{type:"text",value:n.ip,onChange:p=>a(g=>({...g,ip:p.target.value})),placeholder:"e.g., 192.168.1.100",className:"input w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-dark-text mb-2",children:"Chain *"}),s.jsx("select",{value:n.chain,onChange:p=>a(g=>({...g,chain:p.target.value})),className:"input w-full",children:x.map(p=>s.jsx("option",{value:p,children:p},p))}),s.jsx("p",{className:"mt-1 text-xs text-gray-500 dark:text-dark-muted",children:"Select the service/chain to block this IP from"})]}),s.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[s.jsx("button",{type:"button",onClick:()=>r(!1),className:"btn btn-secondary",children:"Cancel"}),s.jsxs("button",{type:"submit",disabled:d.isPending,className:"btn btn-primary bg-red-600 hover:bg-red-700",children:[d.isPending?s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):s.jsx(ya,{className:"w-4 h-4 mr-2"}),"Ban IP"]})]})]})]})})]})}function m1(){var S;const e=ce(),[t,r]=N.useState(!1),[n,a]=N.useState({}),{data:l,isLoading:i,error:o}=W({queryKey:["haproxy"],queryFn:async()=>(await A.get("/api/haproxy")).data}),c=H({mutationFn:async()=>{await A.post("/api/haproxy/restart")},onSuccess:()=>{e.invalidateQueries(["haproxy"]),$.success("HAProxy restarted successfully")},onError:w=>{var k,D;$.error(((D=(k=w.response)==null?void 0:k.data)==null?void 0:D.error)||"Failed to restart HAProxy")}}),d=w=>{a(k=>({...k,[w]:!k[w]}))};if(i)return s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(o)return s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load HAProxy status. Please try again."});if(!(l!=null&&l.installed))return s.jsxs("div",{className:"flex flex-col items-center justify-center py-20",children:[s.jsx(oa,{className:"w-20 h-20 text-gray-300 dark:text-gray-600 mb-6"}),s.jsx("h2",{className:"text-2xl font-semibold mb-2",children:"HAProxy is not installed"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-6",children:"HAProxy load balancer is not installed on this server."}),s.jsx("button",{className:"btn btn-primary",children:"Install HAProxy"})]});const{status:u,config:h,statsInfo:x}=l,v=(h==null?void 0:h.frontends)||{},m=(h==null?void 0:h.backends)||{},p=(h==null?void 0:h.listens)||{};let g="8404",y="/stats",f="",j="";if(p.stats){const w=p.stats;if((S=w.bind)!=null&&S[0]){const k=w.bind[0].match(/:(\d+)/);k&&(g=k[1])}if(w.stats_uri&&(y=w.stats_uri),w.stats_auth){const[k,D]=w.stats_auth.split(":");f=k||"",j=D||""}}const b=`http://${window.location.hostname}:${g}${y}`;return s.jsxs("div",{children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-6",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{to:"/services",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-1"}),"Back to Server"]}),s.jsxs(I,{to:"/haproxy/config",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(ir,{className:"w-4 h-4 mr-1 text-orange-500"}),"Configure"]}),s.jsxs("button",{onClick:()=>c.mutate(),disabled:c.isPending,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(He,{className:`w-4 h-4 mr-1 text-blue-500 ${c.isPending?"animate-spin":""}`}),c.isPending?"Restarting...":"Restart"]}),s.jsxs(I,{to:"/haproxy/visualize",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(Wk,{className:"w-4 h-4 mr-1 text-purple-500"}),"Visualize"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{to:"/haproxy/frontend/add",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(bt,{className:"w-4 h-4 mr-1 text-green-500"}),"Add Frontend"]}),s.jsxs(I,{to:"/haproxy/backend/add",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(ct,{className:"w-4 h-4 mr-1 text-blue-500"}),"Add Backend"]})]})]}),s.jsx("div",{className:"card mb-6",children:s.jsxs("div",{className:"p-6 flex items-start gap-6",children:[s.jsx("div",{className:`p-4 rounded-xl ${(u==null?void 0:u.STATUS)==="running"?"bg-green-100 dark:bg-green-900/30":"bg-red-100 dark:bg-red-900/30"}`,children:s.jsx(oa,{className:`w-10 h-10 ${(u==null?void 0:u.STATUS)==="running"?"text-green-600":"text-red-600"}`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-bold mb-4",children:"HAProxy Load Balancer"}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Status"}),s.jsxs("span",{className:`font-medium flex items-center gap-1 ${(u==null?void 0:u.STATUS)==="running"?"text-green-600":"text-red-600"}`,children:[s.jsx(sl,{className:"w-4 h-4"}),(u==null?void 0:u.STATUS)==="running"?"Running":"Stopped"]})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Version"}),s.jsx("span",{className:"font-medium",children:(u==null?void 0:u.VERSION)||"Unknown"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Config File"}),s.jsx("span",{className:"font-medium text-sm",children:"/etc/haproxy/haproxy.cfg"})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Frontends"}),s.jsx("span",{className:"font-medium",children:Object.keys(v).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Backends"}),s.jsx("span",{className:"font-medium",children:Object.keys(m).length})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block",children:"Listen Sections"}),s.jsx("span",{className:"font-medium",children:Object.keys(p).length})]})]})]})]})}),p.stats&&s.jsxs("div",{className:"card mb-6 border-purple-200 dark:border-purple-800 bg-gradient-to-r from-purple-50 to-indigo-50 dark:from-purple-900/20 dark:to-indigo-900/20",children:[s.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-purple-200 dark:border-purple-800",children:[s.jsxs("h3",{className:"font-semibold flex items-center gap-2",children:[s.jsx(_f,{className:"w-5 h-5 text-purple-600"}),"Stats Dashboard"]}),s.jsxs("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(Wc,{className:"w-4 h-4 mr-1"}),"Open Stats"]})]}),s.jsxs("div",{className:"p-4 grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"URL"}),s.jsx("a",{href:b,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline text-sm break-all",children:b})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Port"}),s.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:g})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Username"}),s.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:f})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-sm text-gray-500 dark:text-dark-muted block mb-1",children:"Password"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("code",{className:"bg-white dark:bg-dark-bg px-2 py-1 rounded text-sm",children:t?j:"".repeat(j.length||8)}),s.jsx("button",{onClick:()=>r(!t),className:"p-1 hover:bg-purple-200 dark:hover:bg-purple-800 rounded",children:t?s.jsx(Cs,{className:"w-4 h-4"}):s.jsx(Kt,{className:"w-4 h-4"})})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[s.jsx(bt,{className:"w-5 h-5 text-blue-500"}),s.jsx("h2",{className:"font-semibold",children:"Frontends"})]}),Object.keys(v).length===0?s.jsx("p",{className:"text-gray-500 dark:text-dark-muted italic",children:"No frontends configured"}):s.jsx("div",{className:"space-y-3",children:Object.entries(v).map(([w,k])=>{var D,_,P,E;return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(bt,{className:"w-4 h-4 text-blue-500"}),w]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:s.jsx(Eo,{className:"w-4 h-4 text-gray-500"})}),s.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:s.jsx(Ge,{className:"w-4 h-4 text-red-500"})})]})]}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Bind"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:(D=k.bind)==null?void 0:D.map((q,te)=>s.jsx("code",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded text-xs",children:q},te))})]}),k.mode&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),s.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:k.mode})]}),k.default_backend&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Default Backend"}),s.jsx("code",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-300 rounded text-xs",children:k.default_backend})]}),((_=k.use_backends)==null?void 0:_.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Routing"}),s.jsx("div",{className:"space-y-1",children:k.use_backends.map((q,te)=>s.jsxs("div",{className:"text-xs",children:[s.jsx("code",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded",children:q.backend}),q.condition&&s.jsxs("span",{className:"ml-2 text-gray-500",children:["if ",q.condition]})]},te))})]}),((P=k.options)==null?void 0:P.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Options"}),s.jsxs("button",{onClick:()=>d(`frontend_${w}`),className:"text-primary-600 hover:underline flex items-center gap-1 text-xs",children:[n[`frontend_${w}`]?s.jsx(Ns,{className:"w-3 h-3"}):s.jsx(bi,{className:"w-3 h-3"}),k.options.length," option(s)"]})]}),n[`frontend_${w}`]&&((E=k.options)==null?void 0:E.length)>0&&s.jsx("pre",{className:"mt-2 p-2 bg-gray-900 text-gray-100 rounded text-xs overflow-x-auto",children:k.options.join(`
`)})]})]},w)})})]}),s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[s.jsx(ct,{className:"w-5 h-5 text-green-500"}),s.jsx("h2",{className:"font-semibold",children:"Backends"})]}),Object.keys(m).length===0?s.jsx("p",{className:"text-gray-500 dark:text-dark-muted italic",children:"No backends configured"}):s.jsx("div",{className:"space-y-3",children:Object.entries(m).map(([w,k])=>{var D,_,P;return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(ct,{className:"w-4 h-4 text-green-500"}),w]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:s.jsx(Eo,{className:"w-4 h-4 text-gray-500"})}),s.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:s.jsx(Ge,{className:"w-4 h-4 text-red-500"})})]})]}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[k.mode&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),s.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:k.mode})]}),k.balance&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Balance"}),s.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:k.balance})]}),((D=k.servers)==null?void 0:D.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Servers"}),s.jsx("div",{className:"space-y-1",children:k.servers.map((E,q)=>s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs flex items-center gap-1",children:[s.jsx(ct,{className:"w-3 h-3"}),E.name,": ",E.address]}),E.options&&s.jsx("span",{className:"text-xs text-gray-500",children:E.options})]},q))})]}),((_=k.options)==null?void 0:_.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Options"}),s.jsxs("button",{onClick:()=>d(`backend_${w}`),className:"text-primary-600 hover:underline flex items-center gap-1 text-xs",children:[n[`backend_${w}`]?s.jsx(Ns,{className:"w-3 h-3"}):s.jsx(bi,{className:"w-3 h-3"}),k.options.length," option(s)"]})]}),n[`backend_${w}`]&&((P=k.options)==null?void 0:P.length)>0&&s.jsx("pre",{className:"mt-2 p-2 bg-gray-900 text-gray-100 rounded text-xs overflow-x-auto",children:k.options.join(`
`)})]})]},w)})})]})]}),Object.keys(p).filter(w=>w!=="stats").length>0&&s.jsxs("div",{className:"mt-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4 pb-2 border-b border-gray-200 dark:border-dark-border",children:[s.jsx(oa,{className:"w-5 h-5 text-orange-500"}),s.jsx("h2",{className:"font-semibold",children:"Listen Sections"})]}),s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3",children:Object.entries(p).filter(([w])=>w!=="stats").map(([w,k])=>{var D,_;return s.jsxs("div",{className:"card",children:[s.jsxs("div",{className:"p-3 flex items-center justify-between bg-gray-50 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border",children:[s.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[s.jsx(oa,{className:"w-4 h-4 text-orange-500"}),w]}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("button",{className:"p-1.5 hover:bg-gray-200 dark:hover:bg-dark-bg rounded",children:s.jsx(Eo,{className:"w-4 h-4 text-gray-500"})}),s.jsx("button",{className:"p-1.5 hover:bg-red-100 dark:hover:bg-red-900/30 rounded",children:s.jsx(Ge,{className:"w-4 h-4 text-red-500"})})]})]}),s.jsxs("div",{className:"p-3 space-y-2 text-sm",children:[((D=k.bind)==null?void 0:D.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Bind"}),s.jsx("div",{className:"flex flex-wrap gap-1",children:k.bind.map((P,E)=>s.jsx("code",{className:"px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-300 rounded text-xs",children:P},E))})]}),k.mode&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Mode"}),s.jsx("code",{className:"px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:k.mode})]}),((_=k.servers)==null?void 0:_.length)>0&&s.jsxs("div",{className:"flex gap-3",children:[s.jsx("span",{className:"text-gray-500 dark:text-dark-muted w-28",children:"Servers"}),s.jsx("div",{className:"space-y-1",children:k.servers.map((P,E)=>s.jsxs("code",{className:"block px-2 py-0.5 bg-gray-100 dark:bg-dark-border rounded text-xs",children:[P.name,": ",P.address]},E))})]})]})]},w)})})]}),s.jsxs("div",{className:"mt-6 text-sm text-gray-500 dark:text-dark-muted",children:[Object.keys(v).length," frontend(s), ",Object.keys(m).length," backend(s), ",Object.keys(p).length," listen section(s)"]})]})}function h1(){var k,D,_;const e=N.useRef(null),t=N.useRef(null),[r,n]=N.useState(1),[a,l]=N.useState({x:0,y:0}),[i,o]=N.useState(!0),[c,d]=N.useState(!1),[u,h]=N.useState({x:0,y:0}),{data:x,isLoading:v,error:m}=W({queryKey:["haproxy-visualize"],queryFn:async()=>{const[P,E]=await Promise.all([A.get("/api/haproxy/visualize"),A.get("/api/haproxy/user-backends").catch(()=>({data:[]}))]),q=P.data;return(E.data||[]).forEach((ne,fe)=>{const Z=ne.domain.replace(/\./g,"_").replace(/-/g,"_"),F=`user_backend_${fe}`;q.nodes.push({id:F,type:"user_backend",label:ne.domain,user:ne.user,host:ne.host,port:ne.port,backendType:ne.type});const R=q.nodes.find(M=>M.type==="backend"&&M.label.includes(Z));R&&q.edges.push({from:R.id,to:F,type:"user_backend"})}),q}}),p=N.useCallback((P,E)=>{const q={},Z=P.filter(G=>G.type==="frontend"),F=P.filter(G=>G.type==="backend"),R=P.filter(G=>G.type==="server"),M=P.filter(G=>G.type==="listen"),Q=P.filter(G=>G.type==="user_backend");Z.forEach((G,ge)=>{q[G.id]={x:80,y:80+ge*100}}),F.forEach((G,ge)=>{q[G.id]={x:280,y:80+ge*100}});let V=80;F.forEach(G=>{const ge=R.filter(Re=>E.some(Ae=>Ae.from===`backend_${G.label}`&&Ae.to===Re.id));ge.forEach((Re,Ae)=>{q[Re.id]={x:80+200*2,y:V},V+=80}),ge.length>0&&(V+=20)});let L=80;Q.forEach((G,ge)=>{q[G.id]={x:80+200*3,y:L},L+=80});const ae=Math.max(Z.length*100,F.length*100,V)+80;return M.forEach((G,ge)=>{q[G.id]={x:80,y:ae+ge*100},R.filter(Ae=>E.some(Es=>Es.from===`listen_${G.label}`&&Es.to===Ae.id)).forEach((Ae,Es)=>{q[Ae.id]={x:280,y:ae+ge*100+Es*80}})}),q},[]),g=N.useCallback(()=>{if(!e.current||!x)return;const P=e.current,E=P.getContext("2d"),{nodes:q,edges:te}=x,ne=t.current;ne&&(P.width=ne.clientWidth,P.height=ne.clientHeight),E.fillStyle="#f9fafb",E.fillRect(0,0,P.width,P.height),E.save(),E.translate(a.x,a.y),E.scale(r,r);const fe=p(q,te),Z=180,F=60;te.forEach(R=>{const M=fe[R.from],Q=fe[R.to];if(!M||!Q)return;const V=M.x+Z,L=M.y+F/2,ae=Q.x,G=Q.y+F/2;E.beginPath(),E.moveTo(V,L);const ge=(V+ae)/2;E.bezierCurveTo(ge,L,ge,G,ae,G),R.type==="default"?(E.strokeStyle="#22c55e",E.setLineDash([]),E.lineWidth=2):R.type==="conditional"?(E.strokeStyle="#f97316",E.setLineDash([5,3]),E.lineWidth=2):R.type==="user_backend"?(E.strokeStyle="#a855f7",E.setLineDash([3,2]),E.lineWidth=2):(E.strokeStyle="#94a3b8",E.setLineDash([]),E.lineWidth=1),E.stroke();const Re=Math.atan2(G-L,ae-ge),Ae=8;if(E.beginPath(),E.moveTo(ae,G),E.lineTo(ae-Ae*Math.cos(Re-Math.PI/6),G-Ae*Math.sin(Re-Math.PI/6)),E.lineTo(ae-Ae*Math.cos(Re+Math.PI/6),G-Ae*Math.sin(Re+Math.PI/6)),E.closePath(),E.fillStyle=E.strokeStyle,E.fill(),i&&R.label&&R.type==="conditional"){E.font="10px system-ui",E.fillStyle="#6b7280",E.textAlign="center";const Es=(V+ae)/2,Wi=(L+G)/2-10;E.fillText(R.label,Es,Wi)}}),q.forEach(R=>{var G;const M=fe[R.id];if(!M)return;let Q,V,L;switch(R.type){case"frontend":Q="#dbeafe",V="#3b82f6",L="#1d4ed8";break;case"backend":Q="#dcfce7",V="#22c55e",L="#15803d";break;case"server":Q="#f3f4f6",V="#9ca3af",L="#374151";break;case"listen":Q="#ffedd5",V="#f97316",L="#c2410c";break;case"user_backend":Q="#fae8ff",V="#a855f7",L="#7e22ce";break;default:Q="#f3f4f6",V="#9ca3af",L="#374151"}E.fillStyle=Q,E.strokeStyle=V,E.lineWidth=2,E.setLineDash([]);const ae=8;E.beginPath(),E.moveTo(M.x+ae,M.y),E.lineTo(M.x+Z-ae,M.y),E.quadraticCurveTo(M.x+Z,M.y,M.x+Z,M.y+ae),E.lineTo(M.x+Z,M.y+F-ae),E.quadraticCurveTo(M.x+Z,M.y+F,M.x+Z-ae,M.y+F),E.lineTo(M.x+ae,M.y+F),E.quadraticCurveTo(M.x,M.y+F,M.x,M.y+F-ae),E.lineTo(M.x,M.y+ae),E.quadraticCurveTo(M.x,M.y,M.x+ae,M.y),E.closePath(),E.fill(),E.stroke(),E.font="bold 9px system-ui",E.fillStyle=V,E.textAlign="left",E.fillText(R.type.toUpperCase(),M.x+10,M.y+16),E.font="bold 12px system-ui",E.fillStyle=L,E.fillText(R.label,M.x+10,M.y+34),E.font="10px system-ui",E.fillStyle="#6b7280",R.type==="server"&&R.address?E.fillText(R.address,M.x+10,M.y+50):R.type==="user_backend"?E.fillText(`${R.user}  ${R.host}:${R.port}`,M.x+10,M.y+50):((G=R.bind)==null?void 0:G.length)>0?E.fillText(R.bind[0],M.x+10,M.y+50):R.balance&&E.fillText(`balance: ${R.balance}`,M.x+10,M.y+50)}),E.restore()},[x,r,a,i,p]);N.useEffect(()=>{g()},[g]);const y=P=>{d(!0),h({x:P.clientX-a.x,y:P.clientY-a.y})},f=P=>{c&&l({x:P.clientX-u.x,y:P.clientY-u.y})},j=()=>{d(!1)},b=()=>n(P=>Math.min(P*1.2,3)),S=()=>n(P=>Math.max(P/1.2,.3)),w=()=>{n(1),l({x:0,y:0})};return v?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):m?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load visualization data. Please try again."}):s.jsxs("div",{className:"h-[calc(100vh-180px)] flex flex-col",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(I,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]})}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs("button",{onClick:()=>o(!i),className:`btn btn-secondary px-3 py-1.5 text-sm ${i?"bg-primary-100 dark:bg-primary-900/30":""}`,children:[i?s.jsx(lN,{className:"w-4 h-4 mr-1"}):s.jsx(iN,{className:"w-4 h-4 mr-1"}),"Labels"]}),s.jsx("button",{onClick:S,className:"btn btn-secondary px-3 py-1.5 text-sm",children:s.jsx(hN,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm text-gray-500 w-16 text-center",children:[Math.round(r*100),"%"]}),s.jsx("button",{onClick:b,className:"btn btn-secondary px-3 py-1.5 text-sm",children:s.jsx(mN,{className:"w-4 h-4"})}),s.jsxs("button",{onClick:w,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(Xk,{className:"w-4 h-4 mr-1"}),"Reset"]})]})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-blue-200 border-2 border-blue-500"}),s.jsx("span",{children:"Frontend"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-green-200 border-2 border-green-500"}),s.jsx("span",{children:"Backend"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-gray-200 border-2 border-gray-400"}),s.jsx("span",{children:"Server"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-orange-200 border-2 border-orange-500"}),s.jsx("span",{children:"Listen"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-purple-200 border-2 border-purple-500"}),s.jsx("span",{children:"User Domain"})]}),s.jsxs("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("div",{className:"w-8 h-0.5 bg-green-500"}),s.jsx("span",{children:"Default route"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-8 h-0.5 bg-orange-500 border-dashed",style:{borderStyle:"dashed"}}),s.jsx("span",{children:"Conditional route"})]})]}),s.jsx("div",{ref:t,className:"flex-1 card overflow-hidden cursor-grab active:cursor-grabbing",onMouseDown:y,onMouseMove:f,onMouseUp:j,onMouseLeave:j,children:s.jsx("canvas",{ref:e,className:"w-full h-full"})}),s.jsxs("div",{className:"mt-4 text-sm text-gray-500 dark:text-dark-muted",children:[((k=x==null?void 0:x.nodes)==null?void 0:k.filter(P=>P.type==="frontend").length)||0," frontend(s),"," ",((D=x==null?void 0:x.nodes)==null?void 0:D.filter(P=>P.type==="backend").length)||0," backend(s),"," ",((_=x==null?void 0:x.nodes)==null?void 0:_.filter(P=>P.type==="server").length)||0," server(s)"," "," Drag to pan, use buttons to zoom"]})]})}function p1(){oe();const e=ce(),[t,r]=N.useState(""),[n,a]=N.useState(!1),[l,i]=N.useState(null),{data:o,isLoading:c,error:d}=W({queryKey:["haproxy-config-raw"],queryFn:async()=>(await A.get("/api/haproxy/config/raw")).data});N.useEffect(()=>{o!=null&&o.config&&r(o.config)},[o]);const u=H({mutationFn:async g=>(await A.put("/api/haproxy/config/raw",{config:g})).data,onSuccess:g=>{e.invalidateQueries(["haproxy"]),e.invalidateQueries(["haproxy-config-raw"]),a(!1),g.restarted?$.success("Configuration saved and HAProxy restarted"):$.success("Configuration saved")},onError:g=>{var y,f;$.error(((f=(y=g.response)==null?void 0:y.data)==null?void 0:f.error)||"Failed to save configuration")}}),h=H({mutationFn:async g=>(await A.post("/api/haproxy/config/validate",{config:g})).data,onSuccess:g=>{i(g),g.valid?$.success("Configuration is valid"):$.error("Configuration has errors")},onError:g=>{var y,f;$.error(((f=(y=g.response)==null?void 0:y.data)==null?void 0:f.error)||"Validation failed")}}),x=g=>{r(g.target.value),a(!0),i(null)},v=()=>{u.mutate(t)},m=()=>{h.mutate(t)},p=()=>{o!=null&&o.config&&(r(o.config),a(!1),i(null))};return c?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d?s.jsx("div",{className:"card p-6 text-center text-red-600",children:"Failed to load configuration. Please try again."}):s.jsxs("div",{className:"h-[calc(100vh-180px)] flex flex-col",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4 mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(I,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(Ua,{className:"w-5 h-5"}),"HAProxy Configuration"]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[n&&s.jsxs("span",{className:"text-sm text-amber-600 flex items-center gap-1",children:[s.jsx(yi,{className:"w-4 h-4"}),"Unsaved changes"]}),s.jsxs("button",{onClick:p,disabled:!n,className:"btn btn-secondary px-3 py-1.5 text-sm disabled:opacity-50",children:[s.jsx(At,{className:"w-4 h-4 mr-1"}),"Reset"]}),s.jsxs("button",{onClick:m,disabled:h.isPending,className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(Kc,{className:`w-4 h-4 mr-1 ${h.isPending?"animate-pulse":""}`}),h.isPending?"Validating...":"Validate"]}),s.jsxs("button",{onClick:v,disabled:!n||u.isPending,className:"btn btn-primary px-3 py-1.5 text-sm disabled:opacity-50",children:[s.jsx(Ct,{className:`w-4 h-4 mr-1 ${u.isPending?"animate-spin":""}`}),u.isPending?"Saving...":"Save & Restart"]})]})]}),l&&s.jsxs("div",{className:`mb-4 p-3 rounded-lg ${l.valid?"bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-300":"bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-300"}`,children:[s.jsx("div",{className:"flex items-center gap-2 font-medium",children:l.valid?s.jsxs(s.Fragment,{children:[s.jsx(Kc,{className:"w-5 h-5"}),"Configuration is valid"]}):s.jsxs(s.Fragment,{children:[s.jsx(yi,{className:"w-5 h-5"}),"Configuration has errors"]})}),l.output&&s.jsx("pre",{className:"mt-2 text-sm whitespace-pre-wrap font-mono",children:l.output})]}),s.jsxs("div",{className:"flex-1 card overflow-hidden",children:[s.jsxs("div",{className:"p-2 bg-gray-100 dark:bg-dark-border border-b border-gray-200 dark:border-dark-border flex items-center gap-2 text-sm text-gray-500 dark:text-dark-muted",children:[s.jsx(Ua,{className:"w-4 h-4"}),"/etc/haproxy/haproxy.cfg"]}),s.jsx("textarea",{value:t,onChange:x,className:"w-full h-full p-4 font-mono text-sm bg-gray-900 text-gray-100 resize-none focus:outline-none",spellCheck:!1,style:{minHeight:"calc(100% - 40px)"}})]}),s.jsxs("div",{className:"mt-2 text-sm text-gray-500 dark:text-dark-muted",children:["Line count: ",t.split(`
`).length,"  Size: ",(new Blob([t]).size/1024).toFixed(2)," KB"]})]})}function x1(){const e=oe(),t=ce(),[r,n]=N.useState({name:"",bind:["*:80"],mode:"http",default_backend:"",options:[],acls:[],use_backends:[]}),[a,l]=N.useState(""),[i,o]=N.useState(""),[c,d]=N.useState({name:"",condition:""}),[u,h]=N.useState({backend:"",condition:""}),x=H({mutationFn:async w=>(await A.post("/api/haproxy/frontend",w)).data,onSuccess:()=>{t.invalidateQueries(["haproxy"]),$.success("Frontend added successfully"),e("/haproxy")},onError:w=>{var k,D;$.error(((D=(k=w.response)==null?void 0:k.data)==null?void 0:D.error)||"Failed to add frontend")}}),v=w=>{if(w.preventDefault(),!r.name.trim()){$.error("Frontend name is required");return}if(r.bind.length===0){$.error("At least one bind address is required");return}x.mutate(r)},m=()=>{a.trim()&&!r.bind.includes(a.trim())&&(n(w=>({...w,bind:[...w.bind,a.trim()]})),l(""))},p=w=>{n(k=>({...k,bind:k.bind.filter((D,_)=>_!==w)}))},g=()=>{i.trim()&&!r.options.includes(i.trim())&&(n(w=>({...w,options:[...w.options,i.trim()]})),o(""))},y=w=>{n(k=>({...k,options:k.options.filter((D,_)=>_!==w)}))},f=()=>{c.name.trim()&&c.condition.trim()&&(n(w=>({...w,acls:[...w.acls,{...c}]})),d({name:"",condition:""}))},j=w=>{n(k=>({...k,acls:k.acls.filter((D,_)=>_!==w)}))},b=()=>{u.backend.trim()&&(n(w=>({...w,use_backends:[...w.use_backends,{...u}]})),h({backend:"",condition:""}))},S=w=>{n(k=>({...k,use_backends:k.use_backends.filter((D,_)=>_!==w)}))};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(I,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(bt,{className:"w-5 h-5 text-blue-500"}),"Add Frontend"]})]}),s.jsx("form",{onSubmit:v,className:"max-w-3xl",children:s.jsxs("div",{className:"card p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Frontend Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.name,onChange:w=>n(k=>({...k,name:w.target.value})),className:"input w-full",placeholder:"e.g., http_front, api_frontend",required:!0})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Bind Addresses ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:r.bind.map((w,k)=>s.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full text-sm",children:[w,s.jsx("button",{type:"button",onClick:()=>p(k),className:"hover:text-red-500",children:s.jsx(At,{className:"w-3 h-3"})})]},k))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:a,onChange:w=>l(w.target.value),className:"input flex-1",placeholder:"e.g., *:80, 0.0.0.0:8080, :443 ssl crt /path/to/cert.pem",onKeyDown:w=>w.key==="Enter"&&(w.preventDefault(),m())}),s.jsx("button",{type:"button",onClick:m,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),s.jsxs("select",{value:r.mode,onChange:w=>n(k=>({...k,mode:w.target.value})),className:"input w-full",children:[s.jsx("option",{value:"http",children:"HTTP"}),s.jsx("option",{value:"tcp",children:"TCP"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Default Backend"}),s.jsx("input",{type:"text",value:r.default_backend,onChange:w=>n(k=>({...k,default_backend:w.target.value})),className:"input w-full",placeholder:"e.g., web_backend"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Leave empty if using only conditional routing"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"ACL Rules"}),r.acls.length>0&&s.jsx("div",{className:"space-y-2 mb-2",children:r.acls.map((w,k)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm",children:[s.jsx("span",{className:"font-medium",children:w.name}),s.jsx("span",{className:"text-gray-500",children:w.condition}),s.jsx("button",{type:"button",onClick:()=>j(k),className:"ml-auto text-red-500 hover:text-red-600",children:s.jsx(At,{className:"w-4 h-4"})})]},k))}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",value:c.name,onChange:w=>d(k=>({...k,name:w.target.value})),className:"input",placeholder:"ACL name (e.g., is_api)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:c.condition,onChange:w=>d(k=>({...k,condition:w.target.value})),className:"input flex-1",placeholder:"Condition (e.g., path_beg /api)"}),s.jsx("button",{type:"button",onClick:f,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Routing Rules (use_backend)"}),r.use_backends.length>0&&s.jsx("div",{className:"space-y-2 mb-2",children:r.use_backends.map((w,k)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-orange-50 dark:bg-orange-900/20 rounded text-sm",children:[s.jsx("span",{className:"font-medium text-orange-700 dark:text-orange-300",children:w.backend}),w.condition&&s.jsxs("span",{className:"text-gray-500",children:["if ",w.condition]}),s.jsx("button",{type:"button",onClick:()=>S(k),className:"ml-auto text-red-500 hover:text-red-600",children:s.jsx(At,{className:"w-4 h-4"})})]},k))}),s.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[s.jsx("input",{type:"text",value:u.backend,onChange:w=>h(k=>({...k,backend:w.target.value})),className:"input",placeholder:"Backend name"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:u.condition,onChange:w=>h(k=>({...k,condition:w.target.value})),className:"input flex-1",placeholder:"Condition (e.g., is_api)"}),s.jsx("button",{type:"button",onClick:b,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Options"}),r.options.length>0&&s.jsx("div",{className:"space-y-1 mb-2",children:r.options.map((w,k)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm font-mono",children:[w,s.jsx("button",{type:"button",onClick:()=>y(k),className:"ml-auto text-red-500 hover:text-red-600",children:s.jsx(At,{className:"w-4 h-4"})})]},k))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:w=>o(w.target.value),className:"input flex-1 font-mono",placeholder:"e.g., option forwardfor, http-request set-header X-Custom value",onKeyDown:w=>w.key==="Enter"&&(w.preventDefault(),g())}),s.jsx("button",{type:"button",onClick:g,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("button",{type:"submit",disabled:x.isPending,className:"btn btn-primary",children:[s.jsx(Ct,{className:`w-4 h-4 mr-2 ${x.isPending?"animate-spin":""}`}),x.isPending?"Adding...":"Add Frontend"]}),s.jsx(I,{to:"/haproxy",className:"btn btn-secondary",children:"Cancel"})]})]})})]})}function f1(){const e=oe(),t=ce(),[r,n]=N.useState({name:"",mode:"http",balance:"roundrobin",servers:[],options:[],health_check:!0}),[a,l]=N.useState({name:"",address:"",port:"",options:""}),[i,o]=N.useState(""),c=H({mutationFn:async m=>(await A.post("/api/haproxy/backend",m)).data,onSuccess:()=>{t.invalidateQueries(["haproxy"]),$.success("Backend added successfully"),e("/haproxy")},onError:m=>{var p,g;$.error(((g=(p=m.response)==null?void 0:p.data)==null?void 0:g.error)||"Failed to add backend")}}),d=m=>{if(m.preventDefault(),!r.name.trim()){$.error("Backend name is required");return}if(r.servers.length===0){$.error("At least one server is required");return}c.mutate(r)},u=()=>{if(a.name.trim()&&a.address.trim()&&a.port.trim()){const m=`${a.address}:${a.port}`;n(p=>({...p,servers:[...p.servers,{name:a.name.trim(),address:m,options:a.options.trim()}]})),l({name:"",address:"",port:"",options:""})}},h=m=>{n(p=>({...p,servers:p.servers.filter((g,y)=>y!==m)}))},x=()=>{i.trim()&&!r.options.includes(i.trim())&&(n(m=>({...m,options:[...m.options,i.trim()]})),o(""))},v=m=>{n(p=>({...p,options:p.options.filter((g,y)=>y!==m)}))};return s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(I,{to:"/haproxy",className:"btn btn-secondary px-3 py-1.5 text-sm",children:[s.jsx(de,{className:"w-4 h-4 mr-1"}),"Back"]}),s.jsxs("h1",{className:"text-xl font-semibold flex items-center gap-2",children:[s.jsx(ct,{className:"w-5 h-5 text-green-500"}),"Add Backend"]})]}),s.jsx("form",{onSubmit:d,className:"max-w-3xl",children:s.jsxs("div",{className:"card p-6 space-y-6",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Backend Name ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("input",{type:"text",value:r.name,onChange:m=>n(p=>({...p,name:m.target.value})),className:"input w-full",placeholder:"e.g., web_backend, api_servers",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Mode"}),s.jsxs("select",{value:r.mode,onChange:m=>n(p=>({...p,mode:m.target.value})),className:"input w-full",children:[s.jsx("option",{value:"http",children:"HTTP"}),s.jsx("option",{value:"tcp",children:"TCP"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Balance Method"}),s.jsxs("select",{value:r.balance,onChange:m=>n(p=>({...p,balance:m.target.value})),className:"input w-full",children:[s.jsx("option",{value:"roundrobin",children:"Round Robin"}),s.jsx("option",{value:"leastconn",children:"Least Connections"}),s.jsx("option",{value:"source",children:"Source IP"}),s.jsx("option",{value:"uri",children:"URI Hash"}),s.jsx("option",{value:"first",children:"First Available"}),s.jsx("option",{value:"random",children:"Random"})]})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:r.health_check,onChange:m=>n(p=>({...p,health_check:m.target.checked})),className:"w-4 h-4 rounded border-gray-300"}),s.jsx("span",{className:"text-sm font-medium",children:"Enable Health Check"})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically check server health and remove failed servers"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-2",children:["Servers ",s.jsx("span",{className:"text-red-500",children:"*"})]}),r.servers.length>0&&s.jsx("div",{className:"space-y-2 mb-3",children:r.servers.map((m,p)=>s.jsxs("div",{className:"flex items-center gap-3 p-3 bg-gray-50 dark:bg-dark-border rounded",children:[s.jsx(ct,{className:"w-4 h-4 text-green-500"}),s.jsxs("div",{className:"flex-1",children:[s.jsx("span",{className:"font-medium",children:m.name}),s.jsx("span",{className:"text-gray-500 ml-2",children:m.address}),m.options&&s.jsxs("span",{className:"text-xs text-gray-400 ml-2",children:["(",m.options,")"]})]}),s.jsx("button",{type:"button",onClick:()=>h(p),className:"text-red-500 hover:text-red-600",children:s.jsx(At,{className:"w-4 h-4"})})]},p))}),s.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[s.jsx("input",{type:"text",value:a.name,onChange:m=>l(p=>({...p,name:m.target.value})),className:"input",placeholder:"Server name"}),s.jsx("input",{type:"text",value:a.address,onChange:m=>l(p=>({...p,address:m.target.value})),className:"input",placeholder:"Address (IP/hostname)"}),s.jsx("input",{type:"text",value:a.port,onChange:m=>l(p=>({...p,port:m.target.value})),className:"input",placeholder:"Port"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:a.options,onChange:m=>l(p=>({...p,options:m.target.value})),className:"input flex-1",placeholder:"Options"}),s.jsx("button",{type:"button",onClick:u,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Options: weight 1, backup, check, etc."})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Additional Options"}),r.options.length>0&&s.jsx("div",{className:"space-y-1 mb-2",children:r.options.map((m,p)=>s.jsxs("div",{className:"flex items-center gap-2 p-2 bg-gray-50 dark:bg-dark-border rounded text-sm font-mono",children:[m,s.jsx("button",{type:"button",onClick:()=>v(p),className:"ml-auto text-red-500 hover:text-red-600",children:s.jsx(At,{className:"w-4 h-4"})})]},p))}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("input",{type:"text",value:i,onChange:m=>o(m.target.value),className:"input flex-1 font-mono",placeholder:"e.g., option httpchk GET /, cookie SERVERID insert",onKeyDown:m=>m.key==="Enter"&&(m.preventDefault(),x())}),s.jsx("button",{type:"button",onClick:x,className:"btn btn-secondary px-3",children:s.jsx(Ne,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Quick Presets"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{type:"button",onClick:()=>n(m=>({...m,options:[...m.options.filter(p=>!p.includes("httpchk")),"option httpchk GET /","http-check expect status 200-499"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"HTTP Health Check"}),s.jsx("button",{type:"button",onClick:()=>n(m=>({...m,options:[...m.options.filter(p=>!p.includes("cookie")),"cookie SERVERID insert indirect nocache"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Sticky Sessions (Cookie)"}),s.jsx("button",{type:"button",onClick:()=>n(m=>({...m,options:[...m.options.filter(p=>!p.includes("forwardfor")),"option forwardfor","http-request set-header X-Real-IP %[src]"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Forward Headers"}),s.jsx("button",{type:"button",onClick:()=>n(m=>({...m,options:[...m.options.filter(p=>!p.includes("timeout")),"timeout connect 10s","timeout server 30s"]})),className:"btn btn-secondary px-3 py-1 text-xs",children:"Custom Timeouts"})]})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsxs("button",{type:"submit",disabled:c.isPending,className:"btn btn-primary",children:[s.jsx(Ct,{className:`w-4 h-4 mr-2 ${c.isPending?"animate-spin":""}`}),c.isPending?"Adding...":"Add Backend"]}),s.jsx(I,{to:"/haproxy",className:"btn btn-secondary",children:"Cancel"})]})]})})]})}function g1(){const e=ce(),[t,r]=N.useState(!1),[n,a]=N.useState(null),{data:l,isLoading:i}=W({queryKey:["rclone-remotes"],queryFn:async()=>(await A.get("/api/rclone/remotes")).data}),{data:o}=W({queryKey:["rclone-providers"],queryFn:async()=>(await A.get("/api/rclone/providers")).data}),c=H({mutationFn:async x=>{await A.delete(`/api/rclone/remote/${x}`)},onSuccess:()=>{e.invalidateQueries(["rclone-remotes"]),a(null)}}),d=H({mutationFn:async x=>(await A.post(`/api/rclone/remote/${x}/test`)).data,onSuccess:()=>{e.invalidateQueries(["rclone-remotes"])}}),u=(l==null?void 0:l.remotes)||[],h=(o==null?void 0:o.providers)||[];return i?s.jsx("div",{className:"flex items-center justify-center h-64",children:s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center justify-between mb-6",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-3 rounded-lg bg-primary-100 dark:bg-primary-900/30",children:s.jsx(vr,{className:"w-6 h-6 text-primary-600 dark:text-primary-400"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Cloud Storage (Rclone)"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mt-1",children:"Configure cloud storage remotes for backups"})]})]}),s.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Remote"]})]}),s.jsx("div",{className:"card",children:u.length===0?s.jsxs("div",{className:"p-8 text-center",children:[s.jsx(vr,{className:"w-12 h-12 mx-auto text-gray-400 mb-4"}),s.jsx("h3",{className:"text-lg font-medium mb-2",children:"No Cloud Remotes Configured"}),s.jsx("p",{className:"text-gray-500 dark:text-dark-muted mb-4",children:"Add a cloud storage remote to enable backup to Google Drive, S3, Dropbox, and more."}),s.jsxs("button",{onClick:()=>r(!0),className:"btn btn-primary",children:[s.jsx(Ne,{className:"w-4 h-4 mr-2"}),"Add Your First Remote"]})]}):s.jsx("div",{className:"divide-y divide-gray-200 dark:divide-dark-border",children:u.map(x=>s.jsxs("div",{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2 rounded-lg bg-gray-100 dark:bg-dark-border",children:zl(x.type)}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:x.name}),s.jsx("div",{className:"text-sm text-gray-500 dark:text-dark-muted",children:b1(x.type)})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("span",{className:`flex items-center gap-1 text-sm ${x.connected?"text-green-600":"text-red-600"}`,children:x.connected?s.jsxs(s.Fragment,{children:[s.jsx(Ye,{className:"w-4 h-4"}),"Connected"]}):s.jsxs(s.Fragment,{children:[s.jsx(kt,{className:"w-4 h-4"}),"Disconnected"]})}),s.jsx("button",{onClick:()=>d.mutate(x.name),disabled:d.isPending,className:"btn btn-secondary btn-sm",title:"Test Connection",children:d.isPending?s.jsx(me,{className:"w-4 h-4 animate-spin"}):s.jsx(He,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>a(x.name),className:"btn btn-secondary btn-sm text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20",title:"Delete Remote",children:s.jsx(Ge,{className:"w-4 h-4"})})]})]},x.name))})}),s.jsxs("div",{className:"mt-6 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[s.jsx("h4",{className:"font-medium text-blue-800 dark:text-blue-300 mb-2",children:"How to use with Percona Backup"}),s.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-400",children:'After adding a cloud remote, you can select it as the storage destination in MongoDB Database Settings under the Percona Backup (PBM) section. Choose "RClone Remote" as storage type and select your configured remote.'})]}),t&&s.jsx(y1,{providers:h,onClose:()=>r(!1),onSuccess:()=>{r(!1),e.invalidateQueries(["rclone-remotes"])}}),n&&s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-md w-full mx-4 p-6",children:[s.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Delete Remote"}),s.jsxs("p",{className:"text-gray-600 dark:text-dark-muted mb-6",children:['Are you sure you want to delete the remote "',n,`"? This will remove the configuration but won't delete any files on the remote storage.`]}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx("button",{onClick:()=>a(null),className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{onClick:()=>c.mutate(n),disabled:c.isPending,className:"btn btn-danger",children:c.isPending?"Deleting...":"Delete"})]})]})})]})}function y1({providers:e,onClose:t,onSuccess:r}){var b,S,w;const[n,a]=N.useState(1),[l,i]=N.useState(null),[o,c]=N.useState(""),[d,u]=N.useState({}),[h,x]=N.useState({}),v=H({mutationFn:async k=>(await A.post("/api/rclone/remote",k)).data,onSuccess:()=>{r()}}),m=k=>{i(k);const D={};k.fields.forEach(_=>{_.value!==void 0&&(D[_.name]=_.value)}),u(D),a(2)},p=k=>{k.preventDefault(),v.mutate({name:o,type:l.id,config:d})},g=(k,D)=>{u(_=>({..._,[k]:D}))},y=k=>{x(D=>({...D,[k]:!D[k]}))},f=e.filter(k=>k.authType==="oauth"),j=e.filter(k=>k.authType==="keys");return s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50",children:s.jsxs("div",{className:"bg-white dark:bg-dark-card rounded-lg shadow-xl max-w-2xl w-full mx-4 max-h-[90vh] overflow-y-auto",children:[s.jsx("div",{className:"px-6 py-4 border-b border-gray-200 dark:border-dark-border",children:s.jsx("h2",{className:"text-xl font-semibold",children:"Add Cloud Remote"})}),n===1&&s.jsxs("div",{className:"p-6",children:[s.jsx("p",{className:"text-gray-600 dark:text-dark-muted mb-4",children:"Select a cloud storage provider:"}),s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"OAuth Providers (Requires Token)"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-6",children:f.map((k,D)=>s.jsx("button",{onClick:()=>m(k),className:"p-4 border border-gray-200 dark:border-dark-border rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center gap-2",children:[zl(k.id),s.jsx("span",{className:"font-medium",children:k.name})]})},`${k.id}-${D}`))}),s.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-2",children:"Key-based Providers"}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:j.map((k,D)=>s.jsx("button",{onClick:()=>m(k),className:"p-4 border border-gray-200 dark:border-dark-border rounded-lg hover:border-primary-500 hover:bg-primary-50 dark:hover:bg-primary-900/20 transition-colors text-left",children:s.jsxs("div",{className:"flex items-center gap-2",children:[zl(k.id),s.jsx("span",{className:"font-medium text-sm",children:k.name})]})},`${k.id}-${k.subType||""}-${D}`))}),s.jsx("div",{className:"mt-6 flex justify-end",children:s.jsx("button",{onClick:t,className:"btn btn-secondary",children:"Cancel"})})]}),n===2&&l&&s.jsxs("form",{onSubmit:p,className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[zl(l.id),s.jsx("span",{className:"font-medium",children:l.name})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Remote Name *"}),s.jsx("input",{type:"text",value:o,onChange:k=>c(k.target.value),placeholder:"e.g., mybackup",pattern:"^[a-zA-Z0-9_-]+$",required:!0,className:"input"}),s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Only letters, numbers, underscores and hyphens allowed"})]}),l.authType==="oauth"&&s.jsxs("div",{className:"p-3 bg-amber-50 dark:bg-amber-900/20 border border-amber-200 dark:border-amber-800 rounded-lg",children:[s.jsx("p",{className:"text-sm text-amber-800 dark:text-amber-300",children:s.jsx("strong",{children:"To get the OAuth token:"})}),s.jsxs("ol",{className:"text-sm text-amber-700 dark:text-amber-400 list-decimal ml-4 mt-1 space-y-1",children:[s.jsxs("li",{children:["On a computer with a web browser, run: ",s.jsxs("code",{className:"bg-amber-100 dark:bg-amber-900 px-1 rounded",children:["rclone authorize ",l.id]})]}),s.jsx("li",{children:"Complete the OAuth flow in your browser"}),s.jsx("li",{children:"Copy the JSON token that appears in the terminal"}),s.jsx("li",{children:"Paste it in the field below"})]})]}),l.fields.map(k=>k.type==="hidden"?null:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-medium mb-1",children:[k.label," ",k.required&&"*"]}),k.type==="textarea"?s.jsx("textarea",{value:d[k.name]||"",onChange:D=>g(k.name,D.target.value),placeholder:k.placeholder,required:k.required,className:"input font-mono text-xs h-32"}):k.type==="select"?s.jsxs("select",{value:d[k.name]||"",onChange:D=>g(k.name,D.target.value),required:k.required,className:"input",children:[s.jsx("option",{value:"",children:"Select..."}),k.options.map(D=>s.jsx("option",{value:D,children:D},D))]}):k.type==="password"?s.jsxs("div",{className:"relative",children:[s.jsx("input",{type:h[k.name]?"text":"password",value:d[k.name]||"",onChange:D=>g(k.name,D.target.value),placeholder:k.placeholder,required:k.required,className:"input pr-10"}),s.jsx("button",{type:"button",onClick:()=>y(k.name),className:"absolute right-2 top-1/2 -translate-y-1/2 p-1 text-gray-500 hover:text-gray-700",children:h[k.name]?s.jsx(Cs,{className:"w-4 h-4"}):s.jsx(Kt,{className:"w-4 h-4"})})]}):s.jsx("input",{type:k.type||"text",value:d[k.name]||"",onChange:D=>g(k.name,D.target.value),placeholder:k.placeholder,required:k.required,className:"input"}),k.help&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:k.help})]},k.name)),v.isError&&s.jsx("div",{className:"p-3 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg text-red-700 dark:text-red-400 text-sm",children:((w=(S=(b=v.error)==null?void 0:b.response)==null?void 0:S.data)==null?void 0:w.error)||"Failed to create remote"}),s.jsxs("div",{className:"flex justify-between pt-4 border-t border-gray-200 dark:border-dark-border",children:[s.jsx("button",{type:"button",onClick:()=>a(1),className:"btn btn-secondary",children:"Back"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx("button",{type:"button",onClick:t,className:"btn btn-secondary",children:"Cancel"}),s.jsx("button",{type:"submit",disabled:v.isPending||!o,className:"btn btn-primary",children:v.isPending?s.jsxs(s.Fragment,{children:[s.jsx(me,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):"Create Remote"})]})]})]})]})})}function zl(e){switch(e){case"drive":return s.jsx(vr,{className:"w-5 h-5 text-green-500"});case"dropbox":return s.jsx(vr,{className:"w-5 h-5 text-blue-500"});case"onedrive":return s.jsx(vr,{className:"w-5 h-5 text-sky-500"});case"s3":return s.jsx(jt,{className:"w-5 h-5 text-orange-500"});case"b2":return s.jsx(jt,{className:"w-5 h-5 text-red-500"});case"sftp":case"ftp":return s.jsx(ct,{className:"w-5 h-5 text-purple-500"});default:return s.jsx(vr,{className:"w-5 h-5 text-gray-500"})}}function b1(e){return{drive:"Google Drive",dropbox:"Dropbox",onedrive:"Microsoft OneDrive",s3:"Amazon S3 / Compatible",b2:"Backblaze B2",sftp:"SFTP",ftp:"FTP"}[e]||e}function Pe({children:e,adminOnly:t=!1}){const{user:r,loading:n,isAdmin:a}=Qr();return n?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600"})}):r?t&&!a?s.jsx(kc,{to:"/",replace:!0}):e:s.jsx(kc,{to:"/login",replace:!0})}function v1(){return s.jsxs(Cb,{children:[s.jsx(J,{path:"/login",element:s.jsx(yN,{})}),s.jsxs(J,{path:"/",element:s.jsx(Pe,{children:s.jsx(gN,{})}),children:[s.jsx(J,{index:!0,element:s.jsx(bN,{})}),s.jsx(J,{path:"users",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(vN,{})})}),s.jsx(J,{path:"users/add",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(jN,{})})}),s.jsx(J,{path:"users/:username/edit",element:s.jsx(kN,{})}),s.jsx(J,{path:"users/:username/ssh-keys",element:s.jsx(NN,{})}),s.jsx(J,{path:"users/:username/logs",element:s.jsx(wN,{})}),s.jsx(J,{path:"web",element:s.jsx(SN,{})}),s.jsx(J,{path:"web/add",element:s.jsx(CN,{})}),s.jsx(J,{path:"web/:domain/edit",element:s.jsx(EN,{})}),s.jsx(J,{path:"web/:domain/logs",element:s.jsx(PN,{})}),s.jsx(J,{path:"web/:domain/quick-install",element:s.jsx(XN,{})}),s.jsx(J,{path:"dns",element:s.jsx(DN,{})}),s.jsx(J,{path:"dns/add",element:s.jsx(TN,{})}),s.jsx(J,{path:"dns/:domain",element:s.jsx(RN,{})}),s.jsx(J,{path:"dns/:domain/edit",element:s.jsx(MN,{})}),s.jsx(J,{path:"dns/:domain/add-record",element:s.jsx(FN,{})}),s.jsx(J,{path:"mail",element:s.jsx(ON,{})}),s.jsx(J,{path:"mail/add",element:s.jsx(_N,{})}),s.jsx(J,{path:"databases",element:s.jsx(LN,{})}),s.jsx(J,{path:"databases/add",element:s.jsx(IN,{})}),s.jsx(J,{path:"databases/mongodb/add",element:s.jsx(UN,{})}),s.jsx(J,{path:"admin/database-settings",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx($N,{})})}),s.jsx(J,{path:"cron",element:s.jsx(QN,{})}),s.jsx(J,{path:"cron/add",element:s.jsx(KN,{})}),s.jsx(J,{path:"cron/:id/edit",element:s.jsx(VN,{})}),s.jsx(J,{path:"backups",element:s.jsx(WN,{})}),s.jsx(J,{path:"packages",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(GN,{})})}),s.jsx(J,{path:"packages/add",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(JN,{})})}),s.jsx(J,{path:"packages/:name/edit",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(YN,{})})}),s.jsx(J,{path:"server-services",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(s1,{})})}),s.jsx(J,{path:"server-services/:name/edit",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(n1,{})})}),s.jsx(J,{path:"services",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(ZN,{})})}),s.jsx(J,{path:"firewall",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(a1,{})})}),s.jsx(J,{path:"firewall/add",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(c1,{})})}),s.jsx(J,{path:"firewall/:id/edit",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(d1,{})})}),s.jsx(J,{path:"firewall/banlist",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(u1,{})})}),s.jsx(J,{path:"haproxy",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(m1,{})})}),s.jsx(J,{path:"haproxy/visualize",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(h1,{})})}),s.jsx(J,{path:"haproxy/config",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(p1,{})})}),s.jsx(J,{path:"haproxy/frontend/add",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(x1,{})})}),s.jsx(J,{path:"haproxy/backend/add",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(f1,{})})}),s.jsx(J,{path:"admin/rclone",element:s.jsx(Pe,{adminOnly:!0,children:s.jsx(g1,{})})})]}),s.jsx(J,{path:"*",element:s.jsx(kc,{to:"/",replace:!0})})]})}const j1=new iv({defaultOptions:{queries:{retry:1,refetchOnWindowFocus:!1}}});Po.createRoot(document.getElementById("root")).render(s.jsx(Rh.StrictMode,{children:s.jsx(ov,{client:j1,children:s.jsx(Mb,{children:s.jsx(Ik,{children:s.jsxs(Lk,{children:[s.jsx(v1,{}),s.jsx(ij,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#333",color:"#fff"}}})]})})})})}));
